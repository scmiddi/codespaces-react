(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var l3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function y1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}},Jf={},ox={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),u3=Symbol.for("react.portal"),f3=Symbol.for("react.fragment"),c3=Symbol.for("react.strict_mode"),h3=Symbol.for("react.profiler"),d3=Symbol.for("react.provider"),p3=Symbol.for("react.context"),v3=Symbol.for("react.forward_ref"),g3=Symbol.for("react.suspense"),x3=Symbol.for("react.memo"),_3=Symbol.for("react.lazy"),Bp=Symbol.iterator;function m3(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var sx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lx=Object.assign,ux={};function qo(t,e,r){this.props=t,this.context=e,this.refs=ux,this.updater=r||sx}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fx(){}fx.prototype=qo.prototype;function w1(t,e,r){this.props=t,this.context=e,this.refs=ux,this.updater=r||sx}var E1=w1.prototype=new fx;E1.constructor=w1;lx(E1,qo.prototype);E1.isPureReactComponent=!0;var Up=Array.isArray,cx=Object.prototype.hasOwnProperty,C1={current:null},hx={key:!0,ref:!0,__self:!0,__source:!0};function dx(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)cx.call(e,n)&&!hx.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ll,type:t,key:a,ref:o,props:i,_owner:C1.current}}function y3(t,e){return{$$typeof:Ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function S1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ll}function w3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Hp=/\/+/g;function W0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?w3(""+t.key):e.toString(36)}function Mu(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ll:case u3:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+W0(o,0):n,Up(i)?(r="",t!=null&&(r=t.replace(Hp,"$&/")+"/"),Mu(i,e,r,"",function(u){return u})):i!=null&&(S1(i)&&(i=y3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Up(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+W0(a,s);o+=Mu(a,e,r,l,i)}else if(l=m3(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+W0(a,s++),o+=Mu(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nu(t,e,r){if(t==null)return t;var n=[],i=0;return Mu(t,n,"","",function(a){return e.call(r,a,i++)}),n}function E3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pr={current:null},bu={transition:null},C3={ReactCurrentDispatcher:Pr,ReactCurrentBatchConfig:bu,ReactCurrentOwner:C1};function px(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:nu,forEach:function(t,e,r){nu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nu(t,function(){e++}),e},toArray:function(t){return nu(t,function(e){return e})||[]},only:function(t){if(!S1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=qo;De.Fragment=f3;De.Profiler=h3;De.PureComponent=w1;De.StrictMode=c3;De.Suspense=g3;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C3;De.act=px;De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lx({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=C1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)cx.call(e,l)&&!hx.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Ll,type:t.type,key:i,ref:a,props:n,_owner:o}};De.createContext=function(t){return t={$$typeof:p3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:d3,_context:t},t.Consumer=t};De.createElement=dx;De.createFactory=function(t){var e=dx.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:v3,render:t}};De.isValidElement=S1;De.lazy=function(t){return{$$typeof:_3,_payload:{_status:-1,_result:t},_init:E3}};De.memo=function(t,e){return{$$typeof:x3,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=bu.transition;bu.transition={};try{t()}finally{bu.transition=e}};De.unstable_act=px;De.useCallback=function(t,e){return Pr.current.useCallback(t,e)};De.useContext=function(t){return Pr.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Pr.current.useDeferredValue(t)};De.useEffect=function(t,e){return Pr.current.useEffect(t,e)};De.useId=function(){return Pr.current.useId()};De.useImperativeHandle=function(t,e,r){return Pr.current.useImperativeHandle(t,e,r)};De.useInsertionEffect=function(t,e){return Pr.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Pr.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Pr.current.useMemo(t,e)};De.useReducer=function(t,e,r){return Pr.current.useReducer(t,e,r)};De.useRef=function(t){return Pr.current.useRef(t)};De.useState=function(t){return Pr.current.useState(t)};De.useSyncExternalStore=function(t,e,r){return Pr.current.useSyncExternalStore(t,e,r)};De.useTransition=function(){return Pr.current.useTransition()};De.version="18.3.1";ox.exports=De;var Mr=ox.exports;const io=y1(Mr);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3=Mr,A3=Symbol.for("react.element"),T3=Symbol.for("react.fragment"),I3=Object.prototype.hasOwnProperty,O3=S3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N3={key:!0,ref:!0,__self:!0,__source:!0};function vx(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)I3.call(e,n)&&!N3.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:A3,type:t,key:a,ref:o,props:i,_owner:O3.current}}Jf.Fragment=T3;Jf.jsx=vx;Jf.jsxs=vx;ax.exports=Jf;var Re=ax.exports,gx={exports:{}},on={},xx={exports:{}},_x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ae,ve){var ye=ae.length;ae.push(ve);e:for(;0<ye;){var Pe=ye-1>>>1,P=ae[Pe];if(0<i(P,ve))ae[Pe]=ve,ae[ye]=P,ye=Pe;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var ve=ae[0],ye=ae.pop();if(ye!==ve){ae[0]=ye;e:for(var Pe=0,P=ae.length,W=P>>>1;Pe<W;){var b=2*(Pe+1)-1,M=ae[b],K=b+1,ce=ae[K];if(0>i(M,ye))K<P&&0>i(ce,M)?(ae[Pe]=ce,ae[K]=ye,Pe=K):(ae[Pe]=M,ae[b]=ye,Pe=b);else if(K<P&&0>i(ce,ye))ae[Pe]=ce,ae[K]=ye,Pe=K;else break e}}return ve}function i(ae,ve){var ye=ae.sortIndex-ve.sortIndex;return ye!==0?ye:ae.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,h=3,d=!1,p=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(ae){for(var ve=r(u);ve!==null;){if(ve.callback===null)n(u);else if(ve.startTime<=ae)n(u),ve.sortIndex=ve.expirationTime,e(l,ve);else break;ve=r(u)}}function y(ae){if(v=!1,m(ae),!p)if(r(l)!==null)p=!0,st(C);else{var ve=r(u);ve!==null&&je(y,ve.startTime-ae)}}function C(ae,ve){p=!1,v&&(v=!1,x(R),R=-1),d=!0;var ye=h;try{for(m(ve),c=r(l);c!==null&&(!(c.expirationTime>ve)||ae&&!G());){var Pe=c.callback;if(typeof Pe=="function"){c.callback=null,h=c.priorityLevel;var P=Pe(c.expirationTime<=ve);ve=t.unstable_now(),typeof P=="function"?c.callback=P:c===r(l)&&n(l),m(ve)}else n(l);c=r(l)}if(c!==null)var W=!0;else{var b=r(u);b!==null&&je(y,b.startTime-ve),W=!1}return W}finally{c=null,h=ye,d=!1}}var D=!1,E=null,R=-1,F=5,k=-1;function G(){return!(t.unstable_now()-k<F)}function z(){if(E!==null){var ae=t.unstable_now();k=ae;var ve=!0;try{ve=E(!0,ae)}finally{ve?Q():(D=!1,E=null)}}else D=!1}var Q;if(typeof g=="function")Q=function(){g(z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,xe=Ee.port2;Ee.port1.onmessage=z,Q=function(){xe.postMessage(null)}}else Q=function(){_(z,0)};function st(ae){E=ae,D||(D=!0,Q())}function je(ae,ve){R=_(function(){ae(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,st(C))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ae){switch(h){case 1:case 2:case 3:var ve=3;break;default:ve=h}var ye=h;h=ve;try{return ae()}finally{h=ye}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ve){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ye=h;h=ae;try{return ve()}finally{h=ye}},t.unstable_scheduleCallback=function(ae,ve,ye){var Pe=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Pe+ye:Pe):ye=Pe,ae){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ye+P,ae={id:f++,callback:ve,priorityLevel:ae,startTime:ye,expirationTime:P,sortIndex:-1},ye>Pe?(ae.sortIndex=ye,e(u,ae),r(l)===null&&ae===r(u)&&(v?(x(R),R=-1):v=!0,je(y,ye-Pe))):(ae.sortIndex=P,e(l,ae),p||d||(p=!0,st(C))),ae},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(ae){var ve=h;return function(){var ye=h;h=ve;try{return ae.apply(this,arguments)}finally{h=ye}}}})(_x);xx.exports=_x;var D3=xx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3=Mr,nn=D3;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mx=new Set,il={};function Ga(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(il[t]=e,t=0;t<e.length;t++)mx.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=Object.prototype.hasOwnProperty,P3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wp={},Vp={};function F3(t){return zc.call(Vp,t)?!0:zc.call(Wp,t)?!1:P3.test(t)?Vp[t]=!0:(Wp[t]=!0,!1)}function k3(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function M3(t,e,r,n){if(e===null||typeof e>"u"||k3(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new Fr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new Fr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new Fr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new Fr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new Fr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new Fr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new Fr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new Fr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new Fr(t,5,!1,t.toLowerCase(),null,!1,!1)});var A1=/[\-:]([a-z])/g;function T1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(A1,T1);cr[e]=new Fr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(A1,T1);cr[e]=new Fr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(A1,T1);cr[e]=new Fr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new Fr(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new Fr(t,1,!1,t.toLowerCase(),null,!0,!0)});function I1(t,e,r,n){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(M3(e,r,i,n)&&(r=null),n||i===null?F3(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var wi=R3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),oo=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),O1=Symbol.for("react.strict_mode"),jc=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),wx=Symbol.for("react.context"),N1=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),$c=Symbol.for("react.suspense_list"),D1=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),Ex=Symbol.for("react.offscreen"),Gp=Symbol.iterator;function ps(t){return t===null||typeof t!="object"?null:(t=Gp&&t[Gp]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,V0;function Ds(t){if(V0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);V0=e&&e[1]||""}return`
`+V0+t}var G0=!1;function z0(t,e){if(!t||G0)return"";G0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{G0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ds(t):""}function b3(t){switch(t.tag){case 5:return Ds(t.type);case 16:return Ds("Lazy");case 13:return Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 2:case 15:return t=z0(t.type,!1),t;case 11:return t=z0(t.type.render,!1),t;case 1:return t=z0(t.type,!0),t;default:return""}}function Yc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case oo:return"Portal";case jc:return"Profiler";case O1:return"StrictMode";case Xc:return"Suspense";case $c:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wx:return(t.displayName||"Context")+".Consumer";case yx:return(t._context.displayName||"Context")+".Provider";case N1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D1:return e=t.displayName||null,e!==null?e:Yc(t.type)||"Memo";case Ni:e=t._payload,t=t._init;try{return Yc(t(e))}catch{}}return null}function L3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(e);case 8:return e===O1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B3(t){var e=Cx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function au(t){t._valueTracker||(t._valueTracker=B3(t))}function Sx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Cx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kc(t,e){var r=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zp(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qi(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ax(t,e){e=e.checked,e!=null&&I1(t,"checked",e,!1)}function Zc(t,e){Ax(t,e);var r=Qi(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qc(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qc(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jp(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qc(t,e,r){(e!=="number"||Zu(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rs=Array.isArray;function Co(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qi(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xp(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(Rs(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qi(r)}}function Tx(t,e){var r=Qi(e.value),n=Qi(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function $p(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ix(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ix(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ou,Ox=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function al(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},U3=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){U3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function Nx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function Dx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Nx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var H3=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(t,e){if(e){if(H3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function th(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function R1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nh=null,So=null,Ao=null;function Yp(t){if(t=Hl(t)){if(typeof nh!="function")throw Error(J(280));var e=t.stateNode;e&&(e=i0(e),nh(t.stateNode,t.type,e))}}function Rx(t){So?Ao?Ao.push(t):Ao=[t]:So=t}function Px(){if(So){var t=So,e=Ao;if(Ao=So=null,Yp(t),e)for(t=0;t<e.length;t++)Yp(e[t])}}function Fx(t,e){return t(e)}function kx(){}var j0=!1;function Mx(t,e,r){if(j0)return t(e,r);j0=!0;try{return Fx(t,e,r)}finally{j0=!1,(So!==null||Ao!==null)&&(kx(),Px())}}function ol(t,e){var r=t.stateNode;if(r===null)return null;var n=i0(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var ih=!1;if(hi)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){ih=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{ih=!1}function W3(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var Hs=!1,Qu=null,qu=!1,ah=null,V3={onError:function(t){Hs=!0,Qu=t}};function G3(t,e,r,n,i,a,o,s,l){Hs=!1,Qu=null,W3.apply(V3,arguments)}function z3(t,e,r,n,i,a,o,s,l){if(G3.apply(this,arguments),Hs){if(Hs){var u=Qu;Hs=!1,Qu=null}else throw Error(J(198));qu||(qu=!0,ah=u)}}function za(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kp(t){if(za(t)!==t)throw Error(J(188))}function j3(t){var e=t.alternate;if(!e){if(e=za(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Kp(i),t;if(a===n)return Kp(i),e;a=a.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function Lx(t){return t=j3(t),t!==null?Bx(t):null}function Bx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bx(t);if(e!==null)return e;t=t.sibling}return null}var Ux=nn.unstable_scheduleCallback,Zp=nn.unstable_cancelCallback,X3=nn.unstable_shouldYield,$3=nn.unstable_requestPaint,It=nn.unstable_now,Y3=nn.unstable_getCurrentPriorityLevel,P1=nn.unstable_ImmediatePriority,Hx=nn.unstable_UserBlockingPriority,Ju=nn.unstable_NormalPriority,K3=nn.unstable_LowPriority,Wx=nn.unstable_IdlePriority,e0=null,Yn=null;function Z3(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(e0,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:J3,Q3=Math.log,q3=Math.LN2;function J3(t){return t>>>=0,t===0?32:31-(Q3(t)/q3|0)|0}var su=64,lu=4194304;function Ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ef(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Ps(s):(a&=o,a!==0&&(n=Ps(a)))}else o=r&~i,o!==0?n=Ps(o):a!==0&&(n=Ps(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-bn(e),i=1<<r,n|=t[r],e&=~i;return n}function e4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t4(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-bn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=e4(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function oh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vx(){var t=su;return su<<=1,!(su&4194240)&&(su=64),t}function X0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=r}function r4(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-bn(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function F1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-bn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Qe=0;function Gx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zx,k1,jx,Xx,$x,sh=!1,uu=[],Bi=null,Ui=null,Hi=null,sl=new Map,ll=new Map,Pi=[],n4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qp(t,e){switch(t){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(e.pointerId)}}function gs(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Hl(e),e!==null&&k1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i4(t,e,r,n,i){switch(e){case"focusin":return Bi=gs(Bi,t,e,r,n,i),!0;case"dragenter":return Ui=gs(Ui,t,e,r,n,i),!0;case"mouseover":return Hi=gs(Hi,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return sl.set(a,gs(sl.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,ll.set(a,gs(ll.get(a)||null,t,e,r,n,i)),!0}return!1}function Yx(t){var e=ya(t.target);if(e!==null){var r=za(e);if(r!==null){if(e=r.tag,e===13){if(e=bx(r),e!==null){t.blockedOn=e,$x(t.priority,function(){jx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=lh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);rh=n,r.target.dispatchEvent(n),rh=null}else return e=Hl(r),e!==null&&k1(e),t.blockedOn=r,!1;e.shift()}return!0}function qp(t,e,r){Lu(t)&&r.delete(e)}function a4(){sh=!1,Bi!==null&&Lu(Bi)&&(Bi=null),Ui!==null&&Lu(Ui)&&(Ui=null),Hi!==null&&Lu(Hi)&&(Hi=null),sl.forEach(qp),ll.forEach(qp)}function xs(t,e){t.blockedOn===e&&(t.blockedOn=null,sh||(sh=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,a4)))}function ul(t){function e(i){return xs(i,t)}if(0<uu.length){xs(uu[0],t);for(var r=1;r<uu.length;r++){var n=uu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Bi!==null&&xs(Bi,t),Ui!==null&&xs(Ui,t),Hi!==null&&xs(Hi,t),sl.forEach(e),ll.forEach(e),r=0;r<Pi.length;r++)n=Pi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pi.length&&(r=Pi[0],r.blockedOn===null);)Yx(r),r.blockedOn===null&&Pi.shift()}var To=wi.ReactCurrentBatchConfig,tf=!0;function o4(t,e,r,n){var i=Qe,a=To.transition;To.transition=null;try{Qe=1,M1(t,e,r,n)}finally{Qe=i,To.transition=a}}function s4(t,e,r,n){var i=Qe,a=To.transition;To.transition=null;try{Qe=4,M1(t,e,r,n)}finally{Qe=i,To.transition=a}}function M1(t,e,r,n){if(tf){var i=lh(t,e,r,n);if(i===null)rc(t,e,n,rf,r),Qp(t,n);else if(i4(i,t,e,r,n))n.stopPropagation();else if(Qp(t,n),e&4&&-1<n4.indexOf(t)){for(;i!==null;){var a=Hl(i);if(a!==null&&zx(a),a=lh(t,e,r,n),a===null&&rc(t,e,n,rf,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else rc(t,e,n,null,r)}}var rf=null;function lh(t,e,r,n){if(rf=null,t=R1(n),t=ya(t),t!==null)if(e=za(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rf=t,null}function Kx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y3()){case P1:return 1;case Hx:return 4;case Ju:case K3:return 16;case Wx:return 536870912;default:return 16}default:return 16}}var ki=null,b1=null,Bu=null;function Zx(){if(Bu)return Bu;var t,e=b1,r=e.length,n,i="value"in ki?ki.value:ki.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Bu=i.slice(t,1<n?1-n:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fu(){return!0}function Jp(){return!1}function sn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?fu:Jp,this.isPropagationStopped=Jp,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),e}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},L1=sn(Jo),Ul=wt({},Jo,{view:0,detail:0}),l4=sn(Ul),$0,Y0,_s,t0=wt({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?($0=t.screenX-_s.screenX,Y0=t.screenY-_s.screenY):Y0=$0=0,_s=t),$0)},movementY:function(t){return"movementY"in t?t.movementY:Y0}}),ev=sn(t0),u4=wt({},t0,{dataTransfer:0}),f4=sn(u4),c4=wt({},Ul,{relatedTarget:0}),K0=sn(c4),h4=wt({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),d4=sn(h4),p4=wt({},Jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),v4=sn(p4),g4=wt({},Jo,{data:0}),tv=sn(g4),x4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m4[t])?!!e[t]:!1}function B1(){return y4}var w4=wt({},Ul,{key:function(t){if(t.key){var e=x4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B1,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),E4=sn(w4),C4=wt({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rv=sn(C4),S4=wt({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B1}),A4=sn(S4),T4=wt({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),I4=sn(T4),O4=wt({},t0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N4=sn(O4),D4=[9,13,27,32],U1=hi&&"CompositionEvent"in window,Ws=null;hi&&"documentMode"in document&&(Ws=document.documentMode);var R4=hi&&"TextEvent"in window&&!Ws,Qx=hi&&(!U1||Ws&&8<Ws&&11>=Ws),nv=String.fromCharCode(32),iv=!1;function qx(t,e){switch(t){case"keyup":return D4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var lo=!1;function P4(t,e){switch(t){case"compositionend":return Jx(e);case"keypress":return e.which!==32?null:(iv=!0,nv);case"textInput":return t=e.data,t===nv&&iv?null:t;default:return null}}function F4(t,e){if(lo)return t==="compositionend"||!U1&&qx(t,e)?(t=Zx(),Bu=b1=ki=null,lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qx&&e.locale!=="ko"?null:e.data;default:return null}}var k4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!k4[t.type]:e==="textarea"}function e_(t,e,r,n){Rx(n),e=nf(e,"onChange"),0<e.length&&(r=new L1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Vs=null,fl=null;function M4(t){c_(t,0)}function r0(t){var e=co(t);if(Sx(e))return t}function b4(t,e){if(t==="change")return e}var t_=!1;if(hi){var Z0;if(hi){var Q0="oninput"in document;if(!Q0){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),Q0=typeof ov.oninput=="function"}Z0=Q0}else Z0=!1;t_=Z0&&(!document.documentMode||9<document.documentMode)}function sv(){Vs&&(Vs.detachEvent("onpropertychange",r_),fl=Vs=null)}function r_(t){if(t.propertyName==="value"&&r0(fl)){var e=[];e_(e,fl,t,R1(t)),Mx(M4,e)}}function L4(t,e,r){t==="focusin"?(sv(),Vs=e,fl=r,Vs.attachEvent("onpropertychange",r_)):t==="focusout"&&sv()}function B4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return r0(fl)}function U4(t,e){if(t==="click")return r0(e)}function H4(t,e){if(t==="input"||t==="change")return r0(e)}function W4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:W4;function cl(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zc.call(e,i)||!Hn(t[i],e[i]))return!1}return!0}function lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uv(t,e){var r=lv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lv(r)}}function n_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i_(){for(var t=window,e=Zu();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zu(t.document)}return e}function H1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function V4(t){var e=i_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&n_(r.ownerDocument.documentElement,r)){if(n!==null&&H1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=uv(r,a);var o=uv(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G4=hi&&"documentMode"in document&&11>=document.documentMode,uo=null,uh=null,Gs=null,fh=!1;function fv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fh||uo==null||uo!==Zu(n)||(n=uo,"selectionStart"in n&&H1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gs&&cl(Gs,n)||(Gs=n,n=nf(uh,"onSelect"),0<n.length&&(e=new L1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=uo)))}function cu(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fo={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},q0={},a_={};hi&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function n0(t){if(q0[t])return q0[t];if(!fo[t])return t;var e=fo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in a_)return q0[t]=e[r];return t}var o_=n0("animationend"),s_=n0("animationiteration"),l_=n0("animationstart"),u_=n0("transitionend"),f_=new Map,cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){f_.set(t,e),Ga(e,[t])}for(var J0=0;J0<cv.length;J0++){var ec=cv[J0],z4=ec.toLowerCase(),j4=ec[0].toUpperCase()+ec.slice(1);ia(z4,"on"+j4)}ia(o_,"onAnimationEnd");ia(s_,"onAnimationIteration");ia(l_,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(u_,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function hv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,z3(n,e,void 0,t),t.currentTarget=null}function c_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;hv(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;hv(i,s,u),a=l}}}if(qu)throw t=ah,qu=!1,ah=null,t}function lt(t,e){var r=e[vh];r===void 0&&(r=e[vh]=new Set);var n=t+"__bubble";r.has(n)||(h_(e,t,2,!1),r.add(n))}function tc(t,e,r){var n=0;e&&(n|=4),h_(r,t,n,e)}var hu="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[hu]){t[hu]=!0,mx.forEach(function(r){r!=="selectionchange"&&(X4.has(r)||tc(r,!1,t),tc(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hu]||(e[hu]=!0,tc("selectionchange",!1,e))}}function h_(t,e,r,n){switch(Kx(e)){case 1:var i=o4;break;case 4:i=s4;break;default:i=M1}r=i.bind(null,e,r,t),i=void 0,!ih||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function rc(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ya(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Mx(function(){var u=a,f=R1(r),c=[];e:{var h=f_.get(t);if(h!==void 0){var d=L1,p=t;switch(t){case"keypress":if(Uu(r)===0)break e;case"keydown":case"keyup":d=E4;break;case"focusin":p="focus",d=K0;break;case"focusout":p="blur",d=K0;break;case"beforeblur":case"afterblur":d=K0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=f4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=A4;break;case o_:case s_:case l_:d=d4;break;case u_:d=I4;break;case"scroll":d=l4;break;case"wheel":d=N4;break;case"copy":case"cut":case"paste":d=v4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=rv}var v=(e&4)!==0,_=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,m;g!==null;){m=g;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,x!==null&&(y=ol(g,x),y!=null&&v.push(dl(g,y,m)))),_)break;g=g.return}0<v.length&&(h=new d(h,p,null,r,f),c.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&r!==rh&&(p=r.relatedTarget||r.fromElement)&&(ya(p)||p[di]))break e;if((d||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?ya(p):null,p!==null&&(_=za(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(v=ev,y="onMouseLeave",x="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=rv,y="onPointerLeave",x="onPointerEnter",g="pointer"),_=d==null?h:co(d),m=p==null?h:co(p),h=new v(y,g+"leave",d,r,f),h.target=_,h.relatedTarget=m,y=null,ya(f)===u&&(v=new v(x,g+"enter",p,r,f),v.target=m,v.relatedTarget=_,y=v),_=y,d&&p)t:{for(v=d,x=p,g=0,m=v;m;m=qa(m))g++;for(m=0,y=x;y;y=qa(y))m++;for(;0<g-m;)v=qa(v),g--;for(;0<m-g;)x=qa(x),m--;for(;g--;){if(v===x||x!==null&&v===x.alternate)break t;v=qa(v),x=qa(x)}v=null}else v=null;d!==null&&dv(c,h,d,v,!1),p!==null&&_!==null&&dv(c,_,p,v,!0)}}e:{if(h=u?co(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var C=b4;else if(av(h))if(t_)C=H4;else{C=B4;var D=L4}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=U4);if(C&&(C=C(t,u))){e_(c,C,r,f);break e}D&&D(t,h,u),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&Qc(h,"number",h.value)}switch(D=u?co(u):window,t){case"focusin":(av(D)||D.contentEditable==="true")&&(uo=D,uh=u,Gs=null);break;case"focusout":Gs=uh=uo=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,fv(c,r,f);break;case"selectionchange":if(G4)break;case"keydown":case"keyup":fv(c,r,f)}var E;if(U1)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else lo?qx(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Qx&&r.locale!=="ko"&&(lo||R!=="onCompositionStart"?R==="onCompositionEnd"&&lo&&(E=Zx()):(ki=f,b1="value"in ki?ki.value:ki.textContent,lo=!0)),D=nf(u,R),0<D.length&&(R=new tv(R,t,null,r,f),c.push({event:R,listeners:D}),E?R.data=E:(E=Jx(r),E!==null&&(R.data=E)))),(E=R4?P4(t,r):F4(t,r))&&(u=nf(u,"onBeforeInput"),0<u.length&&(f=new tv("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=E))}c_(c,e)})}function dl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function nf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ol(t,r),a!=null&&n.unshift(dl(t,a,i)),a=ol(t,e),a!=null&&n.push(dl(t,a,i))),t=t.return}return n}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dv(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=ol(r,a),l!=null&&o.unshift(dl(r,l,s))):i||(l=ol(r,a),l!=null&&o.push(dl(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var $4=/\r\n?/g,Y4=/\u0000|\uFFFD/g;function pv(t){return(typeof t=="string"?t:""+t).replace($4,`
`).replace(Y4,"")}function du(t,e,r){if(e=pv(e),pv(t)!==e&&r)throw Error(J(425))}function af(){}var ch=null,hh=null;function dh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ph=typeof setTimeout=="function"?setTimeout:void 0,K4=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,Z4=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(t){return vv.resolve(null).then(t).catch(Q4)}:ph;function Q4(t){setTimeout(function(){throw t})}function nc(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ul(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ul(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var es=Math.random().toString(36).slice(2),Xn="__reactFiber$"+es,pl="__reactProps$"+es,di="__reactContainer$"+es,vh="__reactEvents$"+es,q4="__reactListeners$"+es,J4="__reactHandles$"+es;function ya(t){var e=t[Xn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[di]||r[Xn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=gv(t);t!==null;){if(r=t[Xn])return r;t=gv(t)}return e}t=r,r=t.parentNode}return null}function Hl(t){return t=t[Xn]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function i0(t){return t[pl]||null}var gh=[],ho=-1;function aa(t){return{current:t}}function ht(t){0>ho||(t.current=gh[ho],gh[ho]=null,ho--)}function at(t,e){ho++,gh[ho]=t.current,t.current=e}var qi={},wr=aa(qi),Wr=aa(!1),Ra=qi;function Uo(t,e){var r=t.type.contextTypes;if(!r)return qi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vr(t){return t=t.childContextTypes,t!=null}function of(){ht(Wr),ht(wr)}function xv(t,e,r){if(wr.current!==qi)throw Error(J(168));at(wr,e),at(Wr,r)}function d_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,L3(t)||"Unknown",i));return wt({},r,n)}function sf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Ra=wr.current,at(wr,t),at(Wr,Wr.current),!0}function _v(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=d_(t,e,Ra),n.__reactInternalMemoizedMergedChildContext=t,ht(Wr),ht(wr),at(wr,t)):ht(Wr),at(Wr,r)}var ri=null,a0=!1,ic=!1;function p_(t){ri===null?ri=[t]:ri.push(t)}function eC(t){a0=!0,p_(t)}function oa(){if(!ic&&ri!==null){ic=!0;var t=0,e=Qe;try{var r=ri;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ri=null,a0=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),Ux(P1,oa),i}finally{Qe=e,ic=!1}}return null}var po=[],vo=0,lf=null,uf=0,hn=[],dn=0,Pa=null,ni=1,ii="";function da(t,e){po[vo++]=uf,po[vo++]=lf,lf=t,uf=e}function v_(t,e,r){hn[dn++]=ni,hn[dn++]=ii,hn[dn++]=Pa,Pa=t;var n=ni;t=ii;var i=32-bn(n)-1;n&=~(1<<i),r+=1;var a=32-bn(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ni=1<<32-bn(e)+i|r<<i|n,ii=a+t}else ni=1<<a|r<<i|n,ii=t}function W1(t){t.return!==null&&(da(t,1),v_(t,1,0))}function V1(t){for(;t===lf;)lf=po[--vo],po[vo]=null,uf=po[--vo],po[vo]=null;for(;t===Pa;)Pa=hn[--dn],hn[dn]=null,ii=hn[--dn],hn[dn]=null,ni=hn[--dn],hn[dn]=null}var rn=null,tn=null,pt=!1,On=null;function g_(t,e){var r=pn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,tn=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,tn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Pa!==null?{id:ni,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=pn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rn=t,tn=null,!0):!1;default:return!1}}function xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _h(t){if(pt){var e=tn;if(e){var r=e;if(!mv(t,e)){if(xh(t))throw Error(J(418));e=Wi(r.nextSibling);var n=rn;e&&mv(t,e)?g_(n,r):(t.flags=t.flags&-4097|2,pt=!1,rn=t)}}else{if(xh(t))throw Error(J(418));t.flags=t.flags&-4097|2,pt=!1,rn=t}}}function yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function pu(t){if(t!==rn)return!1;if(!pt)return yv(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dh(t.type,t.memoizedProps)),e&&(e=tn)){if(xh(t))throw x_(),Error(J(418));for(;e;)g_(t,e),e=Wi(e.nextSibling)}if(yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){tn=Wi(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}tn=null}}else tn=rn?Wi(t.stateNode.nextSibling):null;return!0}function x_(){for(var t=tn;t;)t=Wi(t.nextSibling)}function Ho(){tn=rn=null,pt=!1}function G1(t){On===null?On=[t]:On.push(t)}var tC=wi.ReactCurrentBatchConfig;function ms(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function __(t){function e(x,g){if(t){var m=x.deletions;m===null?(x.deletions=[g],x.flags|=16):m.push(g)}}function r(x,g){if(!t)return null;for(;g!==null;)e(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function i(x,g){return x=ji(x,g),x.index=0,x.sibling=null,x}function a(x,g,m){return x.index=m,t?(m=x.alternate,m!==null?(m=m.index,m<g?(x.flags|=2,g):m):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function s(x,g,m,y){return g===null||g.tag!==6?(g=cc(m,x.mode,y),g.return=x,g):(g=i(g,m),g.return=x,g)}function l(x,g,m,y){var C=m.type;return C===so?f(x,g,m.props.children,y,m.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ni&&wv(C)===g.type)?(y=i(g,m.props),y.ref=ms(x,g,m),y.return=x,y):(y=Xu(m.type,m.key,m.props,null,x.mode,y),y.ref=ms(x,g,m),y.return=x,y)}function u(x,g,m,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=hc(m,x.mode,y),g.return=x,g):(g=i(g,m.children||[]),g.return=x,g)}function f(x,g,m,y,C){return g===null||g.tag!==7?(g=Ia(m,x.mode,y,C),g.return=x,g):(g=i(g,m),g.return=x,g)}function c(x,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cc(""+g,x.mode,m),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case iu:return m=Xu(g.type,g.key,g.props,null,x.mode,m),m.ref=ms(x,null,g),m.return=x,m;case oo:return g=hc(g,x.mode,m),g.return=x,g;case Ni:var y=g._init;return c(x,y(g._payload),m)}if(Rs(g)||ps(g))return g=Ia(g,x.mode,m,null),g.return=x,g;vu(x,g)}return null}function h(x,g,m,y){var C=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return C!==null?null:s(x,g,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case iu:return m.key===C?l(x,g,m,y):null;case oo:return m.key===C?u(x,g,m,y):null;case Ni:return C=m._init,h(x,g,C(m._payload),y)}if(Rs(m)||ps(m))return C!==null?null:f(x,g,m,y,null);vu(x,m)}return null}function d(x,g,m,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return x=x.get(m)||null,s(g,x,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case iu:return x=x.get(y.key===null?m:y.key)||null,l(g,x,y,C);case oo:return x=x.get(y.key===null?m:y.key)||null,u(g,x,y,C);case Ni:var D=y._init;return d(x,g,m,D(y._payload),C)}if(Rs(y)||ps(y))return x=x.get(m)||null,f(g,x,y,C,null);vu(g,y)}return null}function p(x,g,m,y){for(var C=null,D=null,E=g,R=g=0,F=null;E!==null&&R<m.length;R++){E.index>R?(F=E,E=null):F=E.sibling;var k=h(x,E,m[R],y);if(k===null){E===null&&(E=F);break}t&&E&&k.alternate===null&&e(x,E),g=a(k,g,R),D===null?C=k:D.sibling=k,D=k,E=F}if(R===m.length)return r(x,E),pt&&da(x,R),C;if(E===null){for(;R<m.length;R++)E=c(x,m[R],y),E!==null&&(g=a(E,g,R),D===null?C=E:D.sibling=E,D=E);return pt&&da(x,R),C}for(E=n(x,E);R<m.length;R++)F=d(E,x,R,m[R],y),F!==null&&(t&&F.alternate!==null&&E.delete(F.key===null?R:F.key),g=a(F,g,R),D===null?C=F:D.sibling=F,D=F);return t&&E.forEach(function(G){return e(x,G)}),pt&&da(x,R),C}function v(x,g,m,y){var C=ps(m);if(typeof C!="function")throw Error(J(150));if(m=C.call(m),m==null)throw Error(J(151));for(var D=C=null,E=g,R=g=0,F=null,k=m.next();E!==null&&!k.done;R++,k=m.next()){E.index>R?(F=E,E=null):F=E.sibling;var G=h(x,E,k.value,y);if(G===null){E===null&&(E=F);break}t&&E&&G.alternate===null&&e(x,E),g=a(G,g,R),D===null?C=G:D.sibling=G,D=G,E=F}if(k.done)return r(x,E),pt&&da(x,R),C;if(E===null){for(;!k.done;R++,k=m.next())k=c(x,k.value,y),k!==null&&(g=a(k,g,R),D===null?C=k:D.sibling=k,D=k);return pt&&da(x,R),C}for(E=n(x,E);!k.done;R++,k=m.next())k=d(E,x,R,k.value,y),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?R:k.key),g=a(k,g,R),D===null?C=k:D.sibling=k,D=k);return t&&E.forEach(function(z){return e(x,z)}),pt&&da(x,R),C}function _(x,g,m,y){if(typeof m=="object"&&m!==null&&m.type===so&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case iu:e:{for(var C=m.key,D=g;D!==null;){if(D.key===C){if(C=m.type,C===so){if(D.tag===7){r(x,D.sibling),g=i(D,m.props.children),g.return=x,x=g;break e}}else if(D.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ni&&wv(C)===D.type){r(x,D.sibling),g=i(D,m.props),g.ref=ms(x,D,m),g.return=x,x=g;break e}r(x,D);break}else e(x,D);D=D.sibling}m.type===so?(g=Ia(m.props.children,x.mode,y,m.key),g.return=x,x=g):(y=Xu(m.type,m.key,m.props,null,x.mode,y),y.ref=ms(x,g,m),y.return=x,x=y)}return o(x);case oo:e:{for(D=m.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){r(x,g.sibling),g=i(g,m.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else e(x,g);g=g.sibling}g=hc(m,x.mode,y),g.return=x,x=g}return o(x);case Ni:return D=m._init,_(x,g,D(m._payload),y)}if(Rs(m))return p(x,g,m,y);if(ps(m))return v(x,g,m,y);vu(x,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(r(x,g.sibling),g=i(g,m),g.return=x,x=g):(r(x,g),g=cc(m,x.mode,y),g.return=x,x=g),o(x)):r(x,g)}return _}var Wo=__(!0),m_=__(!1),ff=aa(null),cf=null,go=null,z1=null;function j1(){z1=go=cf=null}function X1(t){var e=ff.current;ht(ff),t._currentValue=e}function mh(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Io(t,e){cf=t,z1=go=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(z1!==t)if(t={context:t,memoizedValue:e,next:null},go===null){if(cf===null)throw Error(J(308));go=t,cf.dependencies={lanes:0,firstContext:t}}else go=go.next=t;return e}var wa=null;function $1(t){wa===null?wa=[t]:wa.push(t)}function y_(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$1(e)):(r.next=i.next,i.next=r),e.interleaved=r,pi(t,n)}function pi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Di=!1;function Y1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function w_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,pi(t,r)}return i=n.interleaved,i===null?(e.next=e,$1(n)):(e.next=i.next,i.next=e),n.interleaved=e,pi(t,r)}function Hu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,F1(t,r)}}function Ev(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function hf(t,e,r,n){var i=t.updateQueue;Di=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(a!==null){var c=i.baseState;o=0,f=u=l=null,s=a;do{var h=s.lane,d=s.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,v=s;switch(h=e,d=r,v.tag){case 1:if(p=v.payload,typeof p=="function"){c=p.call(d,c,h);break e}c=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(d,c,h):p,h==null)break e;c=wt({},c,h);break e;case 2:Di=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=d,l=c):f=f.next=d,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);ka|=o,t.lanes=o,t.memoizedState=c}}function Cv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var Wl={},Kn=aa(Wl),vl=aa(Wl),gl=aa(Wl);function Ea(t){if(t===Wl)throw Error(J(174));return t}function K1(t,e){switch(at(gl,e),at(vl,t),at(Kn,Wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jc(e,t)}ht(Kn),at(Kn,e)}function Vo(){ht(Kn),ht(vl),ht(gl)}function E_(t){Ea(gl.current);var e=Ea(Kn.current),r=Jc(e,t.type);e!==r&&(at(vl,t),at(Kn,r))}function Z1(t){vl.current===t&&(ht(Kn),ht(vl))}var mt=aa(0);function df(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ac=[];function Q1(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var Wu=wi.ReactCurrentDispatcher,oc=wi.ReactCurrentBatchConfig,Fa=0,yt=null,Mt=null,jt=null,pf=!1,zs=!1,xl=0,rC=0;function pr(){throw Error(J(321))}function q1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Hn(t[r],e[r]))return!1;return!0}function J1(t,e,r,n,i,a){if(Fa=a,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wu.current=t===null||t.memoizedState===null?oC:sC,t=r(n,i),zs){a=0;do{if(zs=!1,xl=0,25<=a)throw Error(J(301));a+=1,jt=Mt=null,e.updateQueue=null,Wu.current=lC,t=r(n,i)}while(zs)}if(Wu.current=vf,e=Mt!==null&&Mt.next!==null,Fa=0,jt=Mt=yt=null,pf=!1,e)throw Error(J(300));return t}function ed(){var t=xl!==0;return xl=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?yt.memoizedState=jt=t:jt=jt.next=t,jt}function mn(){if(Mt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=jt===null?yt.memoizedState:jt.next;if(e!==null)jt=e,Mt=t;else{if(t===null)throw Error(J(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},jt===null?yt.memoizedState=jt=t:jt=jt.next=t}return jt}function _l(t,e){return typeof e=="function"?e(t):e}function sc(t){var e=mn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var f=u.lane;if((Fa&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,o=n):l=l.next=c,yt.lanes|=f,ka|=f}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Hn(n,e.memoizedState)||(Br=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,yt.lanes|=a,ka|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lc(t){var e=mn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Hn(a,e.memoizedState)||(Br=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function C_(){}function S_(t,e){var r=yt,n=mn(),i=e(),a=!Hn(n.memoizedState,i);if(a&&(n.memoizedState=i,Br=!0),n=n.queue,td(I_.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,ml(9,T_.bind(null,r,n,i,e),void 0,null),Jt===null)throw Error(J(349));Fa&30||A_(r,e,i)}return i}function A_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function T_(t,e,r,n){e.value=r,e.getSnapshot=n,O_(e)&&N_(t)}function I_(t,e,r){return r(function(){O_(e)&&N_(t)})}function O_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Hn(t,r)}catch{return!0}}function N_(t){var e=pi(t,1);e!==null&&Ln(e,t,1,-1)}function Sv(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:t},e.queue=t,t=t.dispatch=aC.bind(null,yt,t),[e.memoizedState,t]}function ml(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function D_(){return mn().memoizedState}function Vu(t,e,r,n){var i=jn();yt.flags|=t,i.memoizedState=ml(1|e,r,void 0,n===void 0?null:n)}function o0(t,e,r,n){var i=mn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var o=Mt.memoizedState;if(a=o.destroy,n!==null&&q1(n,o.deps)){i.memoizedState=ml(e,r,a,n);return}}yt.flags|=t,i.memoizedState=ml(1|e,r,a,n)}function Av(t,e){return Vu(8390656,8,t,e)}function td(t,e){return o0(2048,8,t,e)}function R_(t,e){return o0(4,2,t,e)}function P_(t,e){return o0(4,4,t,e)}function F_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function k_(t,e,r){return r=r!=null?r.concat([t]):null,o0(4,4,F_.bind(null,e,t),r)}function rd(){}function M_(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&q1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function b_(t,e){var r=mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&q1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function L_(t,e,r){return Fa&21?(Hn(r,e)||(r=Vx(),yt.lanes|=r,ka|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=r)}function nC(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=oc.transition;oc.transition={};try{t(!1),e()}finally{Qe=r,oc.transition=n}}function B_(){return mn().memoizedState}function iC(t,e,r){var n=zi(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U_(t))H_(e,r);else if(r=y_(t,e,r,n),r!==null){var i=Dr();Ln(r,t,n,i),W_(r,e,n)}}function aC(t,e,r){var n=zi(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U_(t))H_(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Hn(s,o)){var l=e.interleaved;l===null?(i.next=i,$1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=y_(t,e,i,n),r!==null&&(i=Dr(),Ln(r,t,n,i),W_(r,e,n))}}function U_(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function H_(t,e){zs=pf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function W_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,F1(t,r)}}var vf={readContext:_n,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},oC={readContext:_n,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Av,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vu(4194308,4,F_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vu(4,2,t,e)},useMemo:function(t,e){var r=jn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=jn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=iC.bind(null,yt,t),[n.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:Sv,useDebugValue:rd,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Sv(!1),e=t[0];return t=nC.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=yt,i=jn();if(pt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Jt===null)throw Error(J(349));Fa&30||A_(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Av(I_.bind(null,n,a,t),[t]),n.flags|=2048,ml(9,T_.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=jn(),e=Jt.identifierPrefix;if(pt){var r=ii,n=ni;r=(n&~(1<<32-bn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=xl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sC={readContext:_n,useCallback:M_,useContext:_n,useEffect:td,useImperativeHandle:k_,useInsertionEffect:R_,useLayoutEffect:P_,useMemo:b_,useReducer:sc,useRef:D_,useState:function(){return sc(_l)},useDebugValue:rd,useDeferredValue:function(t){var e=mn();return L_(e,Mt.memoizedState,t)},useTransition:function(){var t=sc(_l)[0],e=mn().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:S_,useId:B_,unstable_isNewReconciler:!1},lC={readContext:_n,useCallback:M_,useContext:_n,useEffect:td,useImperativeHandle:k_,useInsertionEffect:R_,useLayoutEffect:P_,useMemo:b_,useReducer:lc,useRef:D_,useState:function(){return lc(_l)},useDebugValue:rd,useDeferredValue:function(t){var e=mn();return Mt===null?e.memoizedState=t:L_(e,Mt.memoizedState,t)},useTransition:function(){var t=lc(_l)[0],e=mn().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:S_,useId:B_,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function yh(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:wt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var s0={isMounted:function(t){return(t=t._reactInternals)?za(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Dr(),i=zi(t),a=si(n,i);a.payload=e,r!=null&&(a.callback=r),e=Vi(t,a,i),e!==null&&(Ln(e,t,i,n),Hu(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Dr(),i=zi(t),a=si(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Vi(t,a,i),e!==null&&(Ln(e,t,i,n),Hu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Dr(),n=zi(t),i=si(r,n);i.tag=2,e!=null&&(i.callback=e),e=Vi(t,i,n),e!==null&&(Ln(e,t,n,r),Hu(e,t,n))}};function Tv(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!cl(r,n)||!cl(i,a):!0}function V_(t,e,r){var n=!1,i=qi,a=e.contextType;return typeof a=="object"&&a!==null?a=_n(a):(i=Vr(e)?Ra:wr.current,n=e.contextTypes,a=(n=n!=null)?Uo(t,i):qi),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s0,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Iv(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&s0.enqueueReplaceState(e,e.state,null)}function wh(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Y1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=_n(a):(a=Vr(e)?Ra:wr.current,i.context=Uo(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(yh(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&s0.enqueueReplaceState(i,i.state,null),hf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e){try{var r="",n=e;do r+=b3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function uc(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Eh(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uC=typeof WeakMap=="function"?WeakMap:Map;function G_(t,e,r){r=si(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xf||(xf=!0,Ph=n),Eh(t,e)},r}function z_(t,e,r){r=si(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Eh(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Eh(t,e),typeof n!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Ov(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new uC;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=CC.bind(null,t,e,r),e.then(t,t))}function Nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=si(-1,1),e.tag=2,Vi(r,e,1))),r.lanes|=1),t)}var fC=wi.ReactCurrentOwner,Br=!1;function Ir(t,e,r,n){e.child=t===null?m_(e,null,r,n):Wo(e,t.child,r,n)}function Rv(t,e,r,n,i){r=r.render;var a=e.ref;return Io(e,i),n=J1(t,e,r,n,a,i),r=ed(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(pt&&r&&W1(e),e.flags|=1,Ir(t,e,n,i),e.child)}function Pv(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!fd(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,j_(t,e,a,n,i)):(t=Xu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:cl,r(o,n)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=ji(a,n),t.ref=e.ref,t.return=e,e.child=t}function j_(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(cl(a,n)&&t.ref===e.ref)if(Br=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,vi(t,e,i)}return Ch(t,e,r,n,i)}function X_(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(_o,Qr),Qr|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(_o,Qr),Qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,at(_o,Qr),Qr|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,at(_o,Qr),Qr|=n;return Ir(t,e,i,r),e.child}function $_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ch(t,e,r,n,i){var a=Vr(r)?Ra:wr.current;return a=Uo(e,a),Io(e,i),r=J1(t,e,r,n,a,i),n=ed(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(pt&&n&&W1(e),e.flags|=1,Ir(t,e,r,i),e.child)}function Fv(t,e,r,n,i){if(Vr(r)){var a=!0;sf(e)}else a=!1;if(Io(e,i),e.stateNode===null)Gu(t,e),V_(e,r,n),wh(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Vr(r)?Ra:wr.current,u=Uo(e,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&Iv(e,o,n,u),Di=!1;var h=e.memoizedState;o.state=h,hf(e,n,o,i),l=e.memoizedState,s!==n||h!==l||Wr.current||Di?(typeof f=="function"&&(yh(e,r,f,n),l=e.memoizedState),(s=Di||Tv(e,r,s,n,h,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,w_(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Tn(e.type,s),o.props=u,c=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Vr(r)?Ra:wr.current,l=Uo(e,l));var d=r.getDerivedStateFromProps;(f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||h!==l)&&Iv(e,o,n,l),Di=!1,h=e.memoizedState,o.state=h,hf(e,n,o,i);var p=e.memoizedState;s!==c||h!==p||Wr.current||Di?(typeof d=="function"&&(yh(e,r,d,n),p=e.memoizedState),(u=Di||Tv(e,r,u,n,h,p,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Sh(t,e,r,n,a,i)}function Sh(t,e,r,n,i,a){$_(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&_v(e,r,!1),vi(t,e,a);n=e.stateNode,fC.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Wo(e,t.child,null,a),e.child=Wo(e,null,s,a)):Ir(t,e,s,a),e.memoizedState=n.state,i&&_v(e,r,!0),e.child}function Y_(t){var e=t.stateNode;e.pendingContext?xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xv(t,e.context,!1),K1(t,e.containerInfo)}function kv(t,e,r,n,i){return Ho(),G1(i),e.flags|=256,Ir(t,e,r,n),e.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Th(t){return{baseLanes:t,cachePool:null,transitions:null}}function K_(t,e,r){var n=e.pendingProps,i=mt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(mt,i&1),t===null)return _h(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=f0(o,n,0,null),t=Ia(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Th(r),e.memoizedState=Ah,t):nd(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return cC(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ji(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ji(s,a):(a=Ia(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Th(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Ah,n}return a=t.child,t=a.sibling,n=ji(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function nd(t,e){return e=f0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gu(t,e,r,n){return n!==null&&G1(n),Wo(e,t.child,null,r),t=nd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cC(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=uc(Error(J(422))),gu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=f0({mode:"visible",children:n.children},i,0,null),a=Ia(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Wo(e,t.child,null,o),e.child.memoizedState=Th(o),e.memoizedState=Ah,a);if(!(e.mode&1))return gu(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(J(419)),n=uc(a,n,void 0),gu(t,e,o,n)}if(s=(o&t.childLanes)!==0,Br||s){if(n=Jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,pi(t,i),Ln(n,t,i,-1))}return ud(),n=uc(Error(J(421))),gu(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SC.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,tn=Wi(i.nextSibling),rn=e,pt=!0,On=null,t!==null&&(hn[dn++]=ni,hn[dn++]=ii,hn[dn++]=Pa,ni=t.id,ii=t.overflow,Pa=e),e=nd(e,n.children),e.flags|=4096,e)}function Mv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mh(t.return,e,r)}function fc(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Z_(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ir(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mv(t,r,e);else if(t.tag===19)Mv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(at(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&df(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),fc(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&df(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}fc(e,!0,r,null,a);break;case"together":fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ka|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=ji(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ji(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function hC(t,e,r){switch(e.tag){case 3:Y_(e),Ho();break;case 5:E_(e);break;case 1:Vr(e.type)&&sf(e);break;case 4:K1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;at(ff,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(at(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?K_(t,e,r):(at(mt,mt.current&1),t=vi(t,e,r),t!==null?t.sibling:null);at(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Z_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,X_(t,e,r)}return vi(t,e,r)}var Q_,Ih,q_,J_;Q_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ih=function(){};q_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ea(Kn.current);var a=null;switch(r){case"input":i=Kc(t,i),n=Kc(t,n),a=[];break;case"select":i=wt({},i,{value:void 0}),n=wt({},n,{value:void 0}),a=[];break;case"textarea":i=qc(t,i),n=qc(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=af)}eh(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(il.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(il.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};J_=function(t,e,r,n){r!==n&&(e.flags|=4)};function ys(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function dC(t,e,r){var n=e.pendingProps;switch(V1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return Vr(e.type)&&of(),vr(e),null;case 3:return n=e.stateNode,Vo(),ht(Wr),ht(wr),Q1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Mh(On),On=null))),Ih(t,e),vr(e),null;case 5:Z1(e);var i=Ea(gl.current);if(r=e.type,t!==null&&e.stateNode!=null)q_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return vr(e),null}if(t=Ea(Kn.current),pu(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Xn]=e,n[pl]=a,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<Fs.length;i++)lt(Fs[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":zp(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":Xp(n,a),lt("invalid",n)}eh(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&du(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&du(n.textContent,s,t),i=["children",""+s]):il.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&lt("scroll",n)}switch(r){case"input":au(n),jp(n,a,!0);break;case"textarea":au(n),$p(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=af)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ix(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Xn]=e,t[pl]=n,Q_(t,e,!1,!1),e.stateNode=t;e:{switch(o=th(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fs.length;i++)lt(Fs[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":zp(t,n),i=Kc(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=wt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":Xp(t,n),i=qc(t,n),lt("invalid",t);break;default:i=n}eh(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?Dx(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ox(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&al(t,l):typeof l=="number"&&al(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(il.hasOwnProperty(a)?l!=null&&a==="onScroll"&&lt("scroll",t):l!=null&&I1(t,a,l,o))}switch(r){case"input":au(t),jp(t,n,!1);break;case"textarea":au(t),$p(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qi(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Co(t,!!n.multiple,a,!1):n.defaultValue!=null&&Co(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=af)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(t&&e.stateNode!=null)J_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=Ea(gl.current),Ea(Kn.current),pu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xn]=e,(a=n.nodeValue!==r)&&(t=rn,t!==null))switch(t.tag){case 3:du(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&du(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xn]=e,e.stateNode=n}return vr(e),null;case 13:if(ht(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&tn!==null&&e.mode&1&&!(e.flags&128))x_(),Ho(),e.flags|=98560,a=!1;else if(a=pu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(J(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Xn]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vr(e),a=!1}else On!==null&&(Mh(On),On=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ht===0&&(Ht=3):ud())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return Vo(),Ih(t,e),t===null&&hl(e.stateNode.containerInfo),vr(e),null;case 10:return X1(e.type._context),vr(e),null;case 17:return Vr(e.type)&&of(),vr(e),null;case 19:if(ht(mt),a=e.memoizedState,a===null)return vr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ys(a,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=df(t),o!==null){for(e.flags|=128,ys(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(mt,mt.current&1|2),e.child}t=t.sibling}a.tail!==null&&It()>zo&&(e.flags|=128,n=!0,ys(a,!1),e.lanes=4194304)}else{if(!n)if(t=df(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!pt)return vr(e),null}else 2*It()-a.renderingStartTime>zo&&r!==1073741824&&(e.flags|=128,n=!0,ys(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=It(),e.sibling=null,r=mt.current,at(mt,n?r&1|2:r&1),e):(vr(e),null);case 22:case 23:return ld(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qr&1073741824&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function pC(t,e){switch(V1(e),e.tag){case 1:return Vr(e.type)&&of(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vo(),ht(Wr),ht(wr),Q1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Z1(e),null;case 13:if(ht(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(mt),null;case 4:return Vo(),null;case 10:return X1(e.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var xu=!1,xr=!1,vC=typeof WeakSet=="function"?WeakSet:Set,fe=null;function xo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ct(t,e,n)}else r.current=null}function Oh(t,e,r){try{r()}catch(n){Ct(t,e,n)}}var bv=!1;function gC(t,e){if(ch=tf,t=i_(),H1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,f=0,c=t,h=null;t:for(;;){for(var d;c!==r||i!==0&&c.nodeType!==3||(s=o+i),c!==a||n!==0&&c.nodeType!==3||(l=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(d=c.firstChild)!==null;)h=c,c=d;for(;;){if(c===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++f===n&&(l=o),(d=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=d}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(hh={focusedElem:t,selectionRange:r},tf=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,_=p.memoizedState,x=e.stateNode,g=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tn(e.type,v),_);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(y){Ct(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return p=bv,bv=!1,p}function js(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Oh(e,r,a)}i=i.next}while(i!==n)}}function l0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Nh(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function em(t){var e=t.alternate;e!==null&&(t.alternate=null,em(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[pl],delete e[vh],delete e[q4],delete e[J4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tm(t){return t.tag===5||t.tag===3||t.tag===4}function Lv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=af));else if(n!==4&&(t=t.child,t!==null))for(Dh(t,e,r),t=t.sibling;t!==null;)Dh(t,e,r),t=t.sibling}function Rh(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rh(t,e,r),t=t.sibling;t!==null;)Rh(t,e,r),t=t.sibling}var nr=null,In=!1;function Ai(t,e,r){for(r=r.child;r!==null;)rm(t,e,r),r=r.sibling}function rm(t,e,r){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(e0,r)}catch{}switch(r.tag){case 5:xr||xo(r,e);case 6:var n=nr,i=In;nr=null,Ai(t,e,r),nr=n,In=i,nr!==null&&(In?(t=nr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):nr.removeChild(r.stateNode));break;case 18:nr!==null&&(In?(t=nr,r=r.stateNode,t.nodeType===8?nc(t.parentNode,r):t.nodeType===1&&nc(t,r),ul(t)):nc(nr,r.stateNode));break;case 4:n=nr,i=In,nr=r.stateNode.containerInfo,In=!0,Ai(t,e,r),nr=n,In=i;break;case 0:case 11:case 14:case 15:if(!xr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Oh(r,e,o),i=i.next}while(i!==n)}Ai(t,e,r);break;case 1:if(!xr&&(xo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ct(r,e,s)}Ai(t,e,r);break;case 21:Ai(t,e,r);break;case 22:r.mode&1?(xr=(n=xr)||r.memoizedState!==null,Ai(t,e,r),xr=n):Ai(t,e,r);break;default:Ai(t,e,r)}}function Bv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new vC),e.forEach(function(n){var i=AC.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:nr=s.stateNode,In=!1;break e;case 3:nr=s.stateNode.containerInfo,In=!0;break e;case 4:nr=s.stateNode.containerInfo,In=!0;break e}s=s.return}if(nr===null)throw Error(J(160));rm(a,o,i),nr=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nm(e,t),e=e.sibling}function nm(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Vn(t),n&4){try{js(3,t,t.return),l0(3,t)}catch(v){Ct(t,t.return,v)}try{js(5,t,t.return)}catch(v){Ct(t,t.return,v)}}break;case 1:wn(e,t),Vn(t),n&512&&r!==null&&xo(r,r.return);break;case 5:if(wn(e,t),Vn(t),n&512&&r!==null&&xo(r,r.return),t.flags&32){var i=t.stateNode;try{al(i,"")}catch(v){Ct(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Ax(i,a),th(s,o);var u=th(s,a);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?Dx(i,c):f==="dangerouslySetInnerHTML"?Ox(i,c):f==="children"?al(i,c):I1(i,f,c,u)}switch(s){case"input":Zc(i,a);break;case"textarea":Tx(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Co(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?Co(i,!!a.multiple,a.defaultValue,!0):Co(i,!!a.multiple,a.multiple?[]:"",!1))}i[pl]=a}catch(v){Ct(t,t.return,v)}}break;case 6:if(wn(e,t),Vn(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){Ct(t,t.return,v)}}break;case 3:if(wn(e,t),Vn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ul(e.containerInfo)}catch(v){Ct(t,t.return,v)}break;case 4:wn(e,t),Vn(t);break;case 13:wn(e,t),Vn(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(od=It())),n&4&&Bv(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(xr=(u=xr)||f,wn(e,t),xr=u):wn(e,t),Vn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(fe=t,f=t.child;f!==null;){for(c=fe=f;fe!==null;){switch(h=fe,d=h.child,h.tag){case 0:case 11:case 14:case 15:js(4,h,h.return);break;case 1:xo(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){Ct(n,r,v)}}break;case 5:xo(h,h.return);break;case 22:if(h.memoizedState!==null){Hv(c);continue}}d!==null?(d.return=h,fe=d):Hv(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Nx("display",o))}catch(v){Ct(t,t.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Ct(t,t.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:wn(e,t),Vn(t),n&4&&Bv(t);break;case 21:break;default:wn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tm(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(al(i,""),n.flags&=-33);var a=Lv(t);Rh(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Lv(t);Dh(t,s,o);break;default:throw Error(J(161))}}catch(l){Ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xC(t,e,r){fe=t,im(t)}function im(t,e,r){for(var n=(t.mode&1)!==0;fe!==null;){var i=fe,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||xu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||xr;s=xu;var u=xr;if(xu=o,(xr=l)&&!u)for(fe=i;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?Wv(i):l!==null?(l.return=o,fe=l):Wv(i);for(;a!==null;)fe=a,im(a),a=a.sibling;fe=i,xu=s,xr=u}Uv(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,fe=a):Uv(t)}}function Uv(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xr||l0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!xr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Tn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Cv(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Cv(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&ul(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}xr||e.flags&512&&Nh(e)}catch(h){Ct(e,e.return,h)}}if(e===t){fe=null;break}if(r=e.sibling,r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Hv(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,fe=r;break}fe=e.return}}function Wv(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{l0(4,e)}catch(l){Ct(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ct(e,i,l)}}var a=e.return;try{Nh(e)}catch(l){Ct(e,a,l)}break;case 5:var o=e.return;try{Nh(e)}catch(l){Ct(e,o,l)}}}catch(l){Ct(e,e.return,l)}if(e===t){fe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,fe=s;break}fe=e.return}}var _C=Math.ceil,gf=wi.ReactCurrentDispatcher,id=wi.ReactCurrentOwner,gn=wi.ReactCurrentBatchConfig,be=0,Jt=null,Nt=null,ur=0,Qr=0,_o=aa(0),Ht=0,yl=null,ka=0,u0=0,ad=0,Xs=null,br=null,od=0,zo=1/0,ti=null,xf=!1,Ph=null,Gi=null,_u=!1,Mi=null,_f=0,$s=0,Fh=null,zu=-1,ju=0;function Dr(){return be&6?It():zu!==-1?zu:zu=It()}function zi(t){return t.mode&1?be&2&&ur!==0?ur&-ur:tC.transition!==null?(ju===0&&(ju=Vx()),ju):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Kx(t.type)),t):1}function Ln(t,e,r,n){if(50<$s)throw $s=0,Fh=null,Error(J(185));Bl(t,r,n),(!(be&2)||t!==Jt)&&(t===Jt&&(!(be&2)&&(u0|=r),Ht===4&&Fi(t,ur)),Gr(t,n),r===1&&be===0&&!(e.mode&1)&&(zo=It()+500,a0&&oa()))}function Gr(t,e){var r=t.callbackNode;t4(t,e);var n=ef(t,t===Jt?ur:0);if(n===0)r!==null&&Zp(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Zp(r),e===1)t.tag===0?eC(Vv.bind(null,t)):p_(Vv.bind(null,t)),Z4(function(){!(be&6)&&oa()}),r=null;else{switch(Gx(n)){case 1:r=P1;break;case 4:r=Hx;break;case 16:r=Ju;break;case 536870912:r=Wx;break;default:r=Ju}r=hm(r,am.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function am(t,e){if(zu=-1,ju=0,be&6)throw Error(J(327));var r=t.callbackNode;if(Oo()&&t.callbackNode!==r)return null;var n=ef(t,t===Jt?ur:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mf(t,n);else{e=n;var i=be;be|=2;var a=sm();(Jt!==t||ur!==e)&&(ti=null,zo=It()+500,Ta(t,e));do try{wC();break}catch(s){om(t,s)}while(1);j1(),gf.current=a,be=i,Nt!==null?e=0:(Jt=null,ur=0,e=Ht)}if(e!==0){if(e===2&&(i=oh(t),i!==0&&(n=i,e=kh(t,i))),e===1)throw r=yl,Ta(t,0),Fi(t,n),Gr(t,It()),r;if(e===6)Fi(t,n);else{if(i=t.current.alternate,!(n&30)&&!mC(i)&&(e=mf(t,n),e===2&&(a=oh(t),a!==0&&(n=a,e=kh(t,a))),e===1))throw r=yl,Ta(t,0),Fi(t,n),Gr(t,It()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:pa(t,br,ti);break;case 3:if(Fi(t,n),(n&130023424)===n&&(e=od+500-It(),10<e)){if(ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ph(pa.bind(null,t,br,ti),e);break}pa(t,br,ti);break;case 4:if(Fi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-bn(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_C(n/1960))-n,10<n){t.timeoutHandle=ph(pa.bind(null,t,br,ti),n);break}pa(t,br,ti);break;case 5:pa(t,br,ti);break;default:throw Error(J(329))}}}return Gr(t,It()),t.callbackNode===r?am.bind(null,t):null}function kh(t,e){var r=Xs;return t.current.memoizedState.isDehydrated&&(Ta(t,e).flags|=256),t=mf(t,e),t!==2&&(e=br,br=r,e!==null&&Mh(e)),t}function Mh(t){br===null?br=t:br.push.apply(br,t)}function mC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Hn(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fi(t,e){for(e&=~ad,e&=~u0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-bn(e),n=1<<r;t[r]=-1,e&=~n}}function Vv(t){if(be&6)throw Error(J(327));Oo();var e=ef(t,0);if(!(e&1))return Gr(t,It()),null;var r=mf(t,e);if(t.tag!==0&&r===2){var n=oh(t);n!==0&&(e=n,r=kh(t,n))}if(r===1)throw r=yl,Ta(t,0),Fi(t,e),Gr(t,It()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,br,ti),Gr(t,It()),null}function sd(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(zo=It()+500,a0&&oa())}}function Ma(t){Mi!==null&&Mi.tag===0&&!(be&6)&&Oo();var e=be;be|=1;var r=gn.transition,n=Qe;try{if(gn.transition=null,Qe=1,t)return t()}finally{Qe=n,gn.transition=r,be=e,!(be&6)&&oa()}}function ld(){Qr=_o.current,ht(_o)}function Ta(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,K4(r)),Nt!==null)for(r=Nt.return;r!==null;){var n=r;switch(V1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&of();break;case 3:Vo(),ht(Wr),ht(wr),Q1();break;case 5:Z1(n);break;case 4:Vo();break;case 13:ht(mt);break;case 19:ht(mt);break;case 10:X1(n.type._context);break;case 22:case 23:ld()}r=r.return}if(Jt=t,Nt=t=ji(t.current,null),ur=Qr=e,Ht=0,yl=null,ad=u0=ka=0,br=Xs=null,wa!==null){for(e=0;e<wa.length;e++)if(r=wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}wa=null}return t}function om(t,e){do{var r=Nt;try{if(j1(),Wu.current=vf,pf){for(var n=yt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pf=!1}if(Fa=0,jt=Mt=yt=null,zs=!1,xl=0,id.current=null,r===null||r.return===null){Ht=1,yl=e,Nt=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=ur,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=Nv(o);if(d!==null){d.flags&=-257,Dv(d,o,s,a,e),d.mode&1&&Ov(a,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var v=new Set;v.add(l),e.updateQueue=v}else p.add(l);break e}else{if(!(e&1)){Ov(a,u,e),ud();break e}l=Error(J(426))}}else if(pt&&s.mode&1){var _=Nv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Dv(_,o,s,a,e),G1(Go(l,s));break e}}a=l=Go(l,s),Ht!==4&&(Ht=2),Xs===null?Xs=[a]:Xs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=G_(a,l,e);Ev(a,x);break e;case 1:s=l;var g=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m)))){a.flags|=65536,e&=-e,a.lanes|=e;var y=z_(a,s,e);Ev(a,y);break e}}a=a.return}while(a!==null)}um(r)}catch(C){e=C,Nt===r&&r!==null&&(Nt=r=r.return);continue}break}while(1)}function sm(){var t=gf.current;return gf.current=vf,t===null?vf:t}function ud(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Jt===null||!(ka&268435455)&&!(u0&268435455)||Fi(Jt,ur)}function mf(t,e){var r=be;be|=2;var n=sm();(Jt!==t||ur!==e)&&(ti=null,Ta(t,e));do try{yC();break}catch(i){om(t,i)}while(1);if(j1(),be=r,gf.current=n,Nt!==null)throw Error(J(261));return Jt=null,ur=0,Ht}function yC(){for(;Nt!==null;)lm(Nt)}function wC(){for(;Nt!==null&&!X3();)lm(Nt)}function lm(t){var e=cm(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?um(t):Nt=e,id.current=null}function um(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pC(r,e),r!==null){r.flags&=32767,Nt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Nt=null;return}}else if(r=dC(r,e,Qr),r!==null){Nt=r;return}if(e=e.sibling,e!==null){Nt=e;return}Nt=e=t}while(e!==null);Ht===0&&(Ht=5)}function pa(t,e,r){var n=Qe,i=gn.transition;try{gn.transition=null,Qe=1,EC(t,e,r,n)}finally{gn.transition=i,Qe=n}return null}function EC(t,e,r,n){do Oo();while(Mi!==null);if(be&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(r4(t,a),t===Jt&&(Nt=Jt=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_u||(_u=!0,hm(Ju,function(){return Oo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=gn.transition,gn.transition=null;var o=Qe;Qe=1;var s=be;be|=4,id.current=null,gC(t,r),nm(r,t),V4(hh),tf=!!ch,hh=ch=null,t.current=r,xC(r),$3(),be=s,Qe=o,gn.transition=a}else t.current=r;if(_u&&(_u=!1,Mi=t,_f=i),a=t.pendingLanes,a===0&&(Gi=null),Z3(r.stateNode),Gr(t,It()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xf)throw xf=!1,t=Ph,Ph=null,t;return _f&1&&t.tag!==0&&Oo(),a=t.pendingLanes,a&1?t===Fh?$s++:($s=0,Fh=t):$s=0,oa(),null}function Oo(){if(Mi!==null){var t=Gx(_f),e=gn.transition,r=Qe;try{if(gn.transition=null,Qe=16>t?16:t,Mi===null)var n=!1;else{if(t=Mi,Mi=null,_f=0,be&6)throw Error(J(331));var i=be;for(be|=4,fe=t.current;fe!==null;){var a=fe,o=a.child;if(fe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(fe=u;fe!==null;){var f=fe;switch(f.tag){case 0:case 11:case 15:js(8,f,a)}var c=f.child;if(c!==null)c.return=f,fe=c;else for(;fe!==null;){f=fe;var h=f.sibling,d=f.return;if(em(f),f===u){fe=null;break}if(h!==null){h.return=d,fe=h;break}fe=d}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}fe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,fe=o;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:js(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,fe=x;break e}fe=a.return}}var g=t.current;for(fe=g;fe!==null;){o=fe;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,fe=m;else e:for(o=g;fe!==null;){if(s=fe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:l0(9,s)}}catch(C){Ct(s,s.return,C)}if(s===o){fe=null;break e}var y=s.sibling;if(y!==null){y.return=s.return,fe=y;break e}fe=s.return}}if(be=i,oa(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(e0,t)}catch{}n=!0}return n}finally{Qe=r,gn.transition=e}}return!1}function Gv(t,e,r){e=Go(r,e),e=G_(t,e,1),t=Vi(t,e,1),e=Dr(),t!==null&&(Bl(t,1,e),Gr(t,e))}function Ct(t,e,r){if(t.tag===3)Gv(t,t,r);else for(;e!==null;){if(e.tag===3){Gv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gi===null||!Gi.has(n))){t=Go(r,t),t=z_(e,t,1),e=Vi(e,t,1),t=Dr(),e!==null&&(Bl(e,1,t),Gr(e,t));break}}e=e.return}}function CC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Dr(),t.pingedLanes|=t.suspendedLanes&r,Jt===t&&(ur&r)===r&&(Ht===4||Ht===3&&(ur&130023424)===ur&&500>It()-od?Ta(t,0):ad|=r),Gr(t,e)}function fm(t,e){e===0&&(t.mode&1?(e=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):e=1);var r=Dr();t=pi(t,e),t!==null&&(Bl(t,e,r),Gr(t,r))}function SC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fm(t,r)}function AC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),fm(t,r)}var cm;cm=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wr.current)Br=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Br=!1,hC(t,e,r);Br=!!(t.flags&131072)}else Br=!1,pt&&e.flags&1048576&&v_(e,uf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gu(t,e),t=e.pendingProps;var i=Uo(e,wr.current);Io(e,r),i=J1(null,e,n,t,i,r);var a=ed();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vr(n)?(a=!0,sf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y1(e),i.updater=s0,e.stateNode=i,i._reactInternals=e,wh(e,n,t,r),e=Sh(null,e,n,!0,a,r)):(e.tag=0,pt&&a&&W1(e),Ir(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=IC(n),t=Tn(n,t),i){case 0:e=Ch(null,e,n,t,r);break e;case 1:e=Fv(null,e,n,t,r);break e;case 11:e=Rv(null,e,n,t,r);break e;case 14:e=Pv(null,e,n,Tn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),Ch(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),Fv(t,e,n,i,r);case 3:e:{if(Y_(e),t===null)throw Error(J(387));n=e.pendingProps,a=e.memoizedState,i=a.element,w_(t,e),hf(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Go(Error(J(423)),e),e=kv(t,e,n,r,i);break e}else if(n!==i){i=Go(Error(J(424)),e),e=kv(t,e,n,r,i);break e}else for(tn=Wi(e.stateNode.containerInfo.firstChild),rn=e,pt=!0,On=null,r=m_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ho(),n===i){e=vi(t,e,r);break e}Ir(t,e,n,r)}e=e.child}return e;case 5:return E_(e),t===null&&_h(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,dh(n,i)?o=null:a!==null&&dh(n,a)&&(e.flags|=32),$_(t,e),Ir(t,e,o,r),e.child;case 6:return t===null&&_h(e),null;case 13:return K_(t,e,r);case 4:return K1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Wo(e,null,n,r):Ir(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),Rv(t,e,n,i,r);case 7:return Ir(t,e,e.pendingProps,r),e.child;case 8:return Ir(t,e,e.pendingProps.children,r),e.child;case 12:return Ir(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,at(ff,n._currentValue),n._currentValue=o,a!==null)if(Hn(a.value,o)){if(a.children===i.children&&!Wr.current){e=vi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=si(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),mh(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(J(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),mh(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ir(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Io(e,r),i=_n(i),n=n(i),e.flags|=1,Ir(t,e,n,r),e.child;case 14:return n=e.type,i=Tn(n,e.pendingProps),i=Tn(n.type,i),Pv(t,e,n,i,r);case 15:return j_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),Gu(t,e),e.tag=1,Vr(n)?(t=!0,sf(e)):t=!1,Io(e,r),V_(e,n,i),wh(e,n,i,r),Sh(null,e,n,!0,t,r);case 19:return Z_(t,e,r);case 22:return X_(t,e,r)}throw Error(J(156,e.tag))};function hm(t,e){return Ux(t,e)}function TC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,r,n){return new TC(t,e,r,n)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IC(t){if(typeof t=="function")return fd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N1)return 11;if(t===D1)return 14}return 2}function ji(t,e){var r=t.alternate;return r===null?(r=pn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xu(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")fd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case so:return Ia(r.children,i,a,e);case O1:o=8,i|=8;break;case jc:return t=pn(12,r,e,i|2),t.elementType=jc,t.lanes=a,t;case Xc:return t=pn(13,r,e,i),t.elementType=Xc,t.lanes=a,t;case $c:return t=pn(19,r,e,i),t.elementType=$c,t.lanes=a,t;case Ex:return f0(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yx:o=10;break e;case wx:o=9;break e;case N1:o=11;break e;case D1:o=14;break e;case Ni:o=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=pn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Ia(t,e,r,n){return t=pn(7,t,n,e),t.lanes=r,t}function f0(t,e,r,n){return t=pn(22,t,n,e),t.elementType=Ex,t.lanes=r,t.stateNode={isHidden:!1},t}function cc(t,e,r){return t=pn(6,t,null,e),t.lanes=r,t}function hc(t,e,r){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OC(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=X0(0),this.expirationTimes=X0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cd(t,e,r,n,i,a,o,s,l){return t=new OC(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=pn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y1(a),t}function NC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function dm(t){if(!t)return qi;t=t._reactInternals;e:{if(za(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(Vr(r))return d_(t,r,e)}return e}function pm(t,e,r,n,i,a,o,s,l){return t=cd(r,n,!0,t,i,a,o,s,l),t.context=dm(null),r=t.current,n=Dr(),i=zi(r),a=si(n,i),a.callback=e??null,Vi(r,a,i),t.current.lanes=i,Bl(t,i,n),Gr(t,n),t}function c0(t,e,r,n){var i=e.current,a=Dr(),o=zi(i);return r=dm(r),e.context===null?e.context=r:e.pendingContext=r,e=si(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Vi(i,e,o),t!==null&&(Ln(t,i,o,a),Hu(t,i,o)),o}function yf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hd(t,e){zv(t,e),(t=t.alternate)&&zv(t,e)}function DC(){return null}var vm=typeof reportError=="function"?reportError:function(t){console.error(t)};function dd(t){this._internalRoot=t}h0.prototype.render=dd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));c0(t,e,null,null)};h0.prototype.unmount=dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ma(function(){c0(null,t,null,null)}),e[di]=null}};function h0(t){this._internalRoot=t}h0.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pi.length&&e!==0&&e<Pi[r].priority;r++);Pi.splice(r,0,t),r===0&&Yx(t)}};function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jv(){}function RC(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=yf(o);a.call(u)}}var o=pm(e,n,t,0,null,!1,!1,"",jv);return t._reactRootContainer=o,t[di]=o.current,hl(t.nodeType===8?t.parentNode:t),Ma(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=yf(l);s.call(u)}}var l=cd(t,0,!1,null,null,!1,!1,"",jv);return t._reactRootContainer=l,t[di]=l.current,hl(t.nodeType===8?t.parentNode:t),Ma(function(){c0(e,l,r,n)}),l}function p0(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=yf(o);s.call(l)}}c0(e,o,t,i)}else o=RC(r,e,t,i,n);return yf(o)}zx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ps(e.pendingLanes);r!==0&&(F1(e,r|1),Gr(e,It()),!(be&6)&&(zo=It()+500,oa()))}break;case 13:Ma(function(){var n=pi(t,1);if(n!==null){var i=Dr();Ln(n,t,1,i)}}),hd(t,1)}};k1=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var r=Dr();Ln(e,t,134217728,r)}hd(t,134217728)}};jx=function(t){if(t.tag===13){var e=zi(t),r=pi(t,e);if(r!==null){var n=Dr();Ln(r,t,e,n)}hd(t,e)}};Xx=function(){return Qe};$x=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}};nh=function(t,e,r){switch(e){case"input":if(Zc(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=i0(n);if(!i)throw Error(J(90));Sx(n),Zc(n,i)}}}break;case"textarea":Tx(t,r);break;case"select":e=r.value,e!=null&&Co(t,!!r.multiple,e,!1)}};Fx=sd;kx=Ma;var PC={usingClientEntryPoint:!1,Events:[Hl,co,i0,Rx,Px,sd]},ws={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FC={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lx(t),t===null?null:t.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||DC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{e0=mu.inject(FC),Yn=mu}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;on.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(e))throw Error(J(200));return NC(t,e,null,r)};on.createRoot=function(t,e){if(!pd(t))throw Error(J(299));var r=!1,n="",i=vm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cd(t,1,!1,null,null,r,!1,n,i),t[di]=e.current,hl(t.nodeType===8?t.parentNode:t),new dd(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Lx(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return Ma(t)};on.hydrate=function(t,e,r){if(!d0(e))throw Error(J(200));return p0(null,t,e,!0,r)};on.hydrateRoot=function(t,e,r){if(!pd(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=vm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=pm(e,null,t,1,r??null,i,!1,a,o),t[di]=e.current,hl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new h0(e)};on.render=function(t,e,r){if(!d0(e))throw Error(J(200));return p0(null,t,e,!1,r)};on.unmountComponentAtNode=function(t){if(!d0(t))throw Error(J(40));return t._reactRootContainer?(Ma(function(){p0(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};on.unstable_batchedUpdates=sd;on.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!d0(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return p0(t,e,r,!1,n)};on.version="18.3.1-next-f1338f8080-20240426";function gm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gm)}catch(t){console.error(t)}}gm(),gx.exports=on;var kC=gx.exports;const MC=y1(kC);function bC(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function LC(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var BC=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),UC=function(t){BC(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r,n)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),bC(a,i.prototype),LC(a),a}return e}(Error),HC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kr=function(t){HC(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(UC),WC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),An=function(t){WC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Kr),VC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),me=function(t){VC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Kr),GC=function(){function t(e){if(this.binarizer=e,e===null)throw new me("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),zC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$t=function(t){zC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Kr),jC=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),ot=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),XC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vd=function(t){XC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Kr),$C=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xv=function(t){$C(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(vd),YC=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new me("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new Xv(r);if(n>e)throw new Xv(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=YC(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return ot.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),Te=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Zt=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);ot.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+Te.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+Te.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new me;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,l=o<i?31:r&31,u=(2<<l)-(1<<s);a[o]|=u}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new me;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var l=s>i?0:e&31,u=s<a?31:r&31,f=(2<<u)-(1<<l)&4294967295;if((o[s]&f)!==(n?f:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new me("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new me("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,l=e[0]>>>s,a=1;a<n;a++){var u=e[a];l|=u<<32-s,e[a-1]=l,l=u>>>s}e[n-1]=l}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Bt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Bt.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),bh;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(bh||(bh={}));const vt=bh;var KC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(t){KC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Kr),ZC=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Xe||(Xe={}));var Lt=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var l=this.values,u=0,f=l.length;u!==f;u++){var c=l[u];t.VALUES_TO_ECI.set(c,this)}try{for(var h=ZC(o),d=h.next();!d.done;d=h.next()){var p=d.value;t.NAME_TO_ECI.set(p,this)}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new ie("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new ie("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new ie("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Xe.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Xe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Xe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Xe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Xe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Xe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Xe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Xe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Xe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Xe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Xe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Xe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Xe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Xe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Xe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Xe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Xe.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Xe.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Xe.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Xe.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Xe.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Xe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Xe.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Xe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Xe.Big5,28,"Big5"),t.GB18030=new t(Xe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Xe.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),QC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$u=function(t){QC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Kr),xn=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Lt?e:Lt.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Lt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new $u("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Lt.UTF8)||e.equals(Lt.ISO8859_1)||e.equals(Lt.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}(),Fe=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return xn.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(vt.CHARACTER_SET)!==void 0)return r.get(vt.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,l=0,u=0,f=0,c=0,h=0,d=0,p=0,v=0,_=0,x=0,g=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,m=0;m<n&&(i||a||o);m++){var y=e[m]&255;o&&(s>0?y&128?s--:o=!1:y&128&&(y&64?(s++,y&32?(s++,y&16?(s++,y&8?o=!1:f++):u++):l++):o=!1)),i&&(y>127&&y<160?i=!1:y>159&&(y<192||y===215||y===247)&&x++),a&&(c>0?y<64||y===127||y>252?a=!1:c--:y===128||y===160||y>239?a=!1:y>160&&y<224?(h++,p=0,d++,d>v&&(v=d)):y>127?(c++,d=0,p++,p>_&&(_=p)):(d=0,p=0))}return o&&s>0&&(o=!1),a&&c>0&&(a=!1),o&&(g||l+u+f>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||v>=3||_>=3)?t.SHIFT_JIS:i&&a?v===2&&h===2||x*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,l,u,f,c,h){if(s==="%%")return"%";if(r[++i]!==void 0){s=f?parseInt(f.substr(1)):void 0;var d=c?parseInt(c.substr(1)):void 0,p;switch(h){case"s":p=r[i];break;case"c":p=r[i][0];break;case"f":p=parseFloat(r[i]).toFixed(s);break;case"p":p=parseFloat(r[i]).toPrecision(s);break;case"e":p=parseFloat(r[i]).toExponential(s);break;case"x":p=parseInt(r[i]).toString(d||16);break;case"d":p=parseFloat(parseInt(r[i],d||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(d);for(var v=parseInt(u),_=u&&u[0]+""=="0"?"0":" ";p.length<v;)p=l!==void 0?p+_:_+p;return p}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return xn.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Lt.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Lt.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Lt.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Ae=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Fe.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Zn=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new me("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new me("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,l=0,u=0;u<e.length;)if(e.charAt(u)===`
`||e.charAt(u)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new me("row lengths do not match");o=a,l++}u++}else if(e.substring(u,u+r.length)===r)u+=r.length,i[a]=!0,a++;else if(e.substring(u,u+n.length)===n)u+=n.length,i[a]=!1,a++;else throw new me("illegal character encountered: "+e.substring(u));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new me("row lengths do not match");l++}for(var f=new t(s,l),c=0;c<a;c++)i[c]&&f.set(Math.floor(c%s),Math.floor(c/s));return f},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new me("input matrix dimensions do not match");for(var r=new Zt(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,l=e.getRow(a,r).getBitArray(),u=0;u<n;u++)i[s+u]^=l[u]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new me("Left and top must be nonnegative");if(i<1||n<1)throw new me("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new me("The region must fit inside the matrix");for(var s=this.rowSize,l=this.bits,u=r;u<o;u++)for(var f=u*s,c=e;c<a;c++)l[f+Math.floor(c/32)]|=1<<(c&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new Zt(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){ot.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new Zt(e),i=new Zt(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,l=-1,u=0;u<r;u++)for(var f=0;f<n;f++){var c=i[u*n+f];if(c!==0){if(u<o&&(o=u),u>l&&(l=u),f*32<a){for(var h=0;!(c<<31-h&4294967295);)h++;f*32+h<a&&(a=f*32+h)}if(f*32+31>s){for(var h=31;!(c>>>h);)h--;f*32+h>s&&(s=f*32+h)}}}return s<a||l<o?null:Int32Array.from([a,o,s-a+1,l-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;!(o<<31-s&4294967295);)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;!(o>>>s);)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Bt.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Bt.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Ae,a=0,o=this.height;a<o;a++){for(var s=0,l=this.width;s<l;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),qC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X=function(t){qC(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Kr),JC=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eS=function(t){JC(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new Zt(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,l=0;l<a;l++)s[(o[l]&255)>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(s);if(a<3)for(var l=0;l<a;l++)(o[l]&255)<u&&n.set(l);else for(var f=o[0]&255,c=o[1]&255,l=1;l<a-1;l++){var h=o[l+1]&255;(c*4-f-h)/2<u&&n.set(l),f=c,c=h}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new Zn(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var l=Math.floor(i*s/5),u=r.getRow(l,this.luminances),f=Math.floor(n*4/5),c=Math.floor(n/5);c<f;c++){var h=u[c]&255;o[h>>e.LUMINANCE_SHIFT]++}for(var d=e.estimateBlackPoint(o),p=r.getMatrix(),s=0;s<i;s++)for(var v=s*n,c=0;c<n;c++){var h=p[v+c]&255;h<d&&a.set(c,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var l=0,u=0,s=0;s<n;s++){var f=s-a,c=r[s]*f*f;c>u&&(l=s,u=c)}if(a>l){var h=a;a=l,l=h}if(l-a<=n/16)throw new X;for(var d=l-1,p=-1,s=l-1;s>a;s--){var v=s-a,c=v*v*(l-s)*(i-r[s]);c>p&&(d=s,p=c)}return d<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(jC),tS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rS=function(t){tS(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&o++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var l=e.calculateBlackPoints(a,o,s,n,i),u=new Zn(n,i);e.calculateThresholdForBlock(a,o,s,n,i,l,u),this.matrix=u}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,l){for(var u=o-e.BLOCK_SIZE,f=a-e.BLOCK_SIZE,c=0;c<i;c++){var h=c<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var d=e.cap(c,2,i-3),p=0;p<n;p++){var v=p<<e.BLOCK_SIZE_POWER;v>f&&(v=f);for(var _=e.cap(p,2,n-3),x=0,g=-2;g<=2;g++){var m=s[d+g];x+=m[_-2]+m[_-1]+m[_]+m[_+1]+m[_+2]}var y=x/25;e.thresholdBlock(r,v,h,y,a,l)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var l=0,u=i*o+n;l<e.BLOCK_SIZE;l++,u+=o)for(var f=0;f<e.BLOCK_SIZE;f++)(r[u+f]&255)<=a&&s.set(n+f,i+l)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,l=a-e.BLOCK_SIZE,u=new Array(i),f=0;f<i;f++){u[f]=new Int32Array(n);var c=f<<e.BLOCK_SIZE_POWER;c>s&&(c=s);for(var h=0;h<n;h++){var d=h<<e.BLOCK_SIZE_POWER;d>l&&(d=l);for(var p=0,v=255,_=0,x=0,g=c*a+d;x<e.BLOCK_SIZE;x++,g+=a){for(var m=0;m<e.BLOCK_SIZE;m++){var y=r[g+m]&255;p+=y,y<v&&(v=y),y>_&&(_=y)}if(_-v>e.MIN_DYNAMIC_RANGE)for(x++,g+=a;x<e.BLOCK_SIZE;x++,g+=a)for(var m=0;m<e.BLOCK_SIZE;m++)p+=r[g+m]&255}var C=p>>e.BLOCK_SIZE_POWER*2;if(_-v<=e.MIN_DYNAMIC_RANGE&&(C=v/2,f>0&&h>0)){var D=(u[f-1][h]+2*u[f][h-1]+u[f-1][h-1])/4;v<D&&(C=D)}u[f][h]=C}}return u},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(eS),v0=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new $u("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new $u("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new $u("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Ae,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),nS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gd=function(t){nS(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(v0),iS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aS=function(t){iS(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,a){a===void 0&&(a=!1);var o=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!a)for(var s=0,l=0,u=r.length;s<u;s+=4,l++){var f=void 0,c=r[s+3];if(c===0)f=255;else{var h=r[s],d=r[s+1],p=r[s+2];f=306*h+601*d+117*p+512>>10}o[l]=f}else for(var s=0,l=0,v=r.length;s<v;s+=4,l++){var f=void 0,c=r[s+3];if(c===0)f=255;else{var h=r[s],d=r[s+1],p=r[s+2];f=306*h+601*d+117*p+512>>10}o[l]=255-f}return o},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new me("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),u=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=l,n.height=u,i.translate(l/2,u/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new gd(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(v0),oS=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),Sr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(f){try{u(n.next(f))}catch(c){o(c)}}function l(f){try{u(n.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):i(f.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Ar=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},sS=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ts=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Sr(this,void 0,void 0,function(){var e,r,n,i,a,o,s,l,u,f,c,h;return Ar(this,function(d){switch(d.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=d.sent(),r=[];try{for(n=sS(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,l=a.label||"Video device "+(r.length+1),u=a.groupId,f={deviceId:s,label:l,kind:o,groupId:u},r.push(f))}catch(p){c={error:p}}finally{try{i&&!i.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Sr(this,void 0,void 0,function(){var e;return Ar(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new oS(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Sr(this,void 0,void 0,function(){var r;return Ar(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Sr(this,void 0,void 0,function(){return Ar(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Sr(this,void 0,void 0,function(){var n,i;return Ar(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Sr(this,void 0,void 0,function(){var n;return Ar(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Sr(this,void 0,void 0,function(){var n,i;return Ar(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Sr(this,void 0,void 0,function(){return Ar(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Sr(this,void 0,void 0,function(){var i,a;return Ar(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Sr(this,void 0,void 0,function(){var i;return Ar(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Sr(this,void 0,void 0,function(){var i;return Ar(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Sr(this,void 0,void 0,function(){var n;return Ar(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Sr(this,void 0,void 0,function(){return Ar(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new An("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new An("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new An("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new An("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new An("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new An("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new An("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new An("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new An("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new An("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Sr(this,void 0,void 0,function(){return Ar(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Sr(this,void 0,void 0,function(){return Ar(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new X("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var l=i.decode(e);o(l)}catch(h){var u=r&&h instanceof X,f=h instanceof $t||h instanceof ie,c=f&&n;if(u||c)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(h)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(l){r(null,l);var o=l instanceof $t||l instanceof ie,s=l instanceof X;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new aS(n,r),a=new rS(i);return new GC(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),Er=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=ot.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=ot.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);ot.arraycopy(r,0,n,0,r.length),ot.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),Lh;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Lh||(Lh={}));const _e=Lh;var Bh;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Bh||(Bh={}));const lr=Bh;var g0=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),ks=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new me;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),Xi=function(){function t(e,r){if(r.length===0)throw new me;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),ot.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=ks.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,l=this.field,i=1;i<s;i++)n=ks.addOrSubtract(l.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new me("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;ot.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=ks.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new me("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,l=0;l<n;l++)for(var u=r[l],f=0;f<a;f++)o[l+f]=ks.addOrSubtract(o[l+f],s.multiply(u,i[f]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new me;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new me("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new me("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),l=r.multiply(i.getCoefficient(i.getDegree()),o),u=e.multiplyByMonomial(s,l),f=r.buildMonomial(s,l);n=n.addOrSubtract(f),i=i.addOrSubtract(u)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),lS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xm=function(t){lS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Kr),uS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Lr=function(t){uS(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,l=0;l<n;l++)o[l]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var u=new Int32Array(n),l=0;l<n-1;l++)u[o[l]]=l;return a.logTable=u,a.zero=new Xi(a,Int32Array.from([0])),a.one=new Xi(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new me;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Xi(this,i)},e.prototype.inverse=function(r){if(r===0)throw new xm;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+Te.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(ks),fS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yu=function(t){fS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Kr),cS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Vl=function(t){cS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Kr),x0=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new Xi(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var l=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=l,l!==0&&(o=!1)}if(!o)for(var u=new Xi(n,a),f=this.runEuclideanAlgorithm(n.buildMonomial(r,1),u,r),c=f[0],h=f[1],d=this.findErrorLocations(c),p=this.findErrorMagnitudes(h,d),s=0;s<d.length;s++){var v=e.length-1-n.log(d[s]);if(v<0)throw new yu("Bad error location");e[v]=Lr.addOrSubtract(e[v],p[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,l=a.getZero(),u=a.getOne();s.getDegree()>=(n/2|0);){var f=o,c=l;if(o=s,l=u,o.isZero())throw new yu("r_{i-1} was zero");s=f;for(var h=a.getZero(),d=o.getCoefficient(o.getDegree()),p=a.inverse(d);s.getDegree()>=o.getDegree()&&!s.isZero();){var v=s.getDegree()-o.getDegree(),_=a.multiply(s.getCoefficient(s.getDegree()),p);h=h.addOrSubtract(a.buildMonomial(v,_)),s=s.addOrSubtract(o.multiplyByMonomial(v,_))}if(u=h.multiply(l).addOrSubtract(c),s.getDegree()>=o.getDegree())throw new Vl("Division algorithm failed to reduce polynomial?")}var x=u.getCoefficient(0);if(x===0)throw new yu("sigmaTilde(0) was zero");var g=a.inverse(x),m=u.multiplyScalar(g),y=s.multiplyScalar(g);return[m,y]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new yu("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),l=1,u=0;u<n;u++)if(o!==u){var f=a.multiply(r[u],s),c=f&1?f&-2:f|1;l=a.multiply(l,c)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(l)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}(),er;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(er||(er={}));var $v=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new g0(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=er.UPPER,i=er.UPPER,a="",o=0;o<r;)if(i===er.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var l=0;l<s;l++){if(r-o<8){o=r;break}var u=t.readCode(e,o,8);a+=Fe.castAsNonUtf8Char(u),o+=8}i=n}else{var f=i===er.DIGIT?4:5;if(r-o<f)break;var u=t.readCode(e,o,f);o+=f;var c=t.getCharacter(i,u);c.startsWith("CTRL_")?(n=i,i=t.getTable(c.charAt(5)),c.charAt(6)==="L"&&(n=i)):(a+=c,i=n)}return a},t.getTable=function(e){switch(e){case"L":return er.LOWER;case"P":return er.PUNCT;case"M":return er.MIXED;case"D":return er.DIGIT;case"B":return er.BINARY;case"U":default:return er.UPPER}},t.getCharacter=function(e,r){switch(e){case er.UPPER:return t.UPPER_TABLE[r];case er.LOWER:return t.LOWER_TABLE[r];case er.MIXED:return t.MIXED_TABLE[r];case er.PUNCT:return t.PUNCT_TABLE[r];case er.DIGIT:return t.DIGIT_TABLE[r];default:throw new Vl("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=Lr.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=Lr.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=Lr.AZTEC_DATA_10):(n=12,r=Lr.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new ie;for(var o=e.length%n,s=new Int32Array(a),l=0;l<a;l++,o+=n)s[l]=t.readCode(e,o,n);try{var u=new x0(r);u.decode(s,a-i)}catch(_){throw new ie(_)}for(var f=(1<<n)-1,c=0,l=0;l<i;l++){var h=s[l];if(h===0||h===f)throw new ie;(h===1||h===f-1)&&c++}for(var d=new Array(i*n-c),p=0,l=0;l<i;l++){var h=s[l];if(h===1||h===f-1)d.fill(h>1,p,p+n-1),p+=n-1;else for(var v=n-1;v>=0;--v)d[p++]=(h&1<<v)!==0}return d},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var l=i+1+2*Te.truncDivision(Te.truncDivision(i,2)-1,15),u=i/2,f=Te.truncDivision(l,2),s=0;s<u;s++){var c=s+Te.truncDivision(s,15);a[u-s-1]=f-c-1,a[u+s]=f+c+1}for(var s=0,h=0;s<n;s++){for(var d=(n-s)*4+(r?9:12),p=s*2,v=i-1-p,_=0;_<d;_++)for(var x=_*2,g=0;g<2;g++)o[h+x+g]=e.get(a[p+g],a[p+_]),o[h+2*d+x+g]=e.get(a[p+_],a[v-g]),o[h+4*d+x+g]=e.get(a[v-g],a[v-_]),o[h+6*d+x+g]=e.get(a[v-_],a[p+g]);h+=d*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),Be=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}(),Uh=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),de=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*Uh.floatToIntBits(this.x)+Uh.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var l=a;a=s,s=l}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return Be.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}(),xd=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),hS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dS=function(t){hS(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(xd),Hh=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new X}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,l=!1,u=!1,f=!1,c=!1,h=this.width,d=this.height;o;){o=!1;for(var p=!0;(p||!l)&&r<h;)p=this.containsBlackPoint(n,i,r,!1),p?(r++,o=!0,l=!0):l||r++;if(r>=h){a=!0;break}for(var v=!0;(v||!u)&&i<d;)v=this.containsBlackPoint(e,r,i,!0),v?(i++,o=!0,u=!0):u||i++;if(i>=d){a=!0;break}for(var _=!0;(_||!f)&&e>=0;)_=this.containsBlackPoint(n,i,e,!1),_?(e--,o=!0,f=!0):f||e--;if(e<0){a=!0;break}for(var x=!0;(x||!c)&&n>=0;)x=this.containsBlackPoint(e,r,n,!0),x?(n--,o=!0,c=!0):c||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var g=r-e,m=null,y=1;m===null&&y<g;y++)m=this.getBlackPointOnSegment(e,i-y,e+y,i);if(m==null)throw new X;for(var C=null,y=1;C===null&&y<g;y++)C=this.getBlackPointOnSegment(e,n+y,e+y,n);if(C==null)throw new X;for(var D=null,y=1;D===null&&y<g;y++)D=this.getBlackPointOnSegment(r,n+y,r-y,n);if(D==null)throw new X;for(var E=null,y=1;E===null&&y<g;y++)E=this.getBlackPointOnSegment(r,i-y,r-y,i);if(E==null)throw new X;return this.centerEdges(E,m,D,C)}else throw new X},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=Be.round(Be.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,l=this.image,u=0;u<a;u++){var f=Be.round(e+u*o),c=Be.round(r+u*s);if(l.get(f,c))return new de(f,c)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),l=r.getY(),u=n.getX(),f=n.getY(),c=i.getX(),h=i.getY(),d=t.CORR;return a<this.width/2?[new de(c-d,h+d),new de(s+d,l+d),new de(u-d,f-d),new de(a+d,o-d)]:[new de(c+d,h+d),new de(s+d,l-d),new de(u-d,f+d),new de(a-d,o-d)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Yv=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new X;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),l=Math.floor(r[o+1]);if(s<-1||s>n||l<-1||l>i)throw new X;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),l===-1?(r[o+1]=0,a=!0):l===i&&(r[o+1]=i-1,a=!0)}},t}(),_m=function(){function t(e,r,n,i,a,o,s,l,u){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=l,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,l,u,f,c,h,d,p,v,_){var x=t.quadrilateralToSquare(e,r,n,i,a,o,s,l),g=t.squareToQuadrilateral(u,f,c,h,d,p,v,_);return g.times(x)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,f=this.a32,c=this.a33,h=0;h<r;h+=2){var d=e[h],p=e[h+1],v=a*d+l*p+c;e[h]=(n*d+o*p+u)/v,e[h+1]=(i*d+s*p+f)/v}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,l=this.a23,u=this.a31,f=this.a32,c=this.a33,h=e.length,d=0;d<h;d++){var p=e[d],v=r[d],_=a*p+l*v+c;e[d]=(n*p+o*v+u)/_,r[d]=(i*p+s*v+f)/_}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,l){var u=e-n+a-s,f=r-i+o-l;if(u===0&&f===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var c=n-a,h=s-a,d=i-o,p=l-o,v=c*p-h*d,_=(u*p-h*f)/v,x=(c*f-u*d)/v;return new t(n-e+_*n,s-e+x*s,e,i-r+_*i,l-r+x*l,r,_,x,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,l){return t.squareToQuadrilateral(e,r,n,i,a,o,s,l).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),pS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),vS=function(t){pS(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,l,u,f,c,h,d,p,v,_,x,g,m,y){var C=_m.quadrilateralToQuadrilateral(a,o,s,l,u,f,c,h,d,p,v,_,x,g,m,y);return this.sampleGridWithTransform(r,n,i,C)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new X;for(var o=new Zn(n,i),s=new Float32Array(2*n),l=0;l<i;l++){for(var u=s.length,f=l+.5,c=0;c<u;c+=2)s[c]=c/2+.5,s[c+1]=f;a.transformPoints(s),Yv.checkAndNudgePoints(r,s);try{for(var c=0;c<u;c+=2)r.get(Math.floor(s[c]),Math.floor(s[c+1]))&&o.set(c/2,l)}catch{throw new X}}return o},e}(Yv),_d=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new vS,t}(),kr=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new de(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),gS=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new dS(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new X;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&992)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var l=(a>>r-2<<1)+(a&1);n=(n<<3)+l}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(Te.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new X},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var l=new x0(Lr.AZTEC_PARAM);l.decode(o,a)}catch{throw new X}for(var u=0,s=0;s<i;s++)u=(u<<4)+o[s];return u},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),l=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(i,o,-1,1),f=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var c=this.distancePoint(f,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(c<.75||c>1.25||!this.isWhiteOrBlackRectangle(s,l,u,f))break}r=s,n=l,i=u,a=f,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new X;this.compact=this.nbCenterLayers===5;var h=new de(r.getX()+.5,r.getY()-.5),d=new de(n.getX()+.5,n.getY()+.5),p=new de(i.getX()-.5,i.getY()+.5),v=new de(a.getX()-.5,a.getY()-.5);return this.expandSquare([h,d,p,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new Hh(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new kr(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kr(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new kr(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new kr(o-7,s-7),!1,-1,-1).toResultPoint()}var l=Be.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=Be.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new Hh(this.image,15,l,u).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new kr(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kr(l+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new kr(l-7,u+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new kr(l-7,u-7),!1,-1,-1).toResultPoint()}return l=Be.round((e.getX()+i.getX()+r.getX()+n.getX())/4),u=Be.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new kr(l,u)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=_d.getInstance(),s=this.getDimension(),l=s/2-this.nbCenterLayers,u=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,l,l,u,l,u,u,l,u,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),l=e.getY(),u=o*(r.getX()-e.getX())/a,f=o*(r.getY()-e.getY())/a,c=0;c<n;c++)this.image.get(Be.round(s+c*u),Be.round(l+c*f))&&(i|=1<<n-c-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new kr(e.getX()-a,e.getY()+a),r=new kr(r.getX()-a,r.getY()-a),n=new kr(n.getX()+a,n.getY()-a),i=new kr(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),l=e.getY(),u=this.image.get(e.getX(),e.getY()),f=Math.ceil(n),c=0;c<f;c++)s+=i,l+=a,this.image.get(Be.round(s),Be.round(l))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new kr(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,l=(e[0].getY()+e[2].getY())/2,u=new de(s+i*a,l+i*o),f=new de(s-i*a,l-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,l=(e[1].getY()+e[3].getY())/2;var c=new de(s+i*a,l+i*o),h=new de(s-i*a,l-i*o),d=[u,c,f,h];return d},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Be.round(e.getX()),n=Be.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Be.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Be.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Te.truncDivision(this.nbLayers-4,8)+1)+15},t}(),Wh=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new gS(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new $v().decode(s)}catch(c){n=c}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new $v().decode(s)}catch(c){throw n??c}var l=new Er(o.getText(),o.getRawBytes(),o.getNumBits(),a,_e.AZTEC,ot.currentTimeMillis()),u=o.getByteSegments();u!=null&&l.putMetadata(lr.BYTE_SEGMENTS,u);var f=o.getECLevel();return f!=null&&l.putMetadata(lr.ERROR_CORRECTION_LEVEL,f),l},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(vt.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),xS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){xS(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Wh,r)||this}return e})(ts);var Wt=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(vt.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(lr.ORIENTATION)===!0&&(s=s+o.get(lr.ORIENTATION)%360),a.putMetadata(lr.ORIENTATION,s);var l=a.getResultPoints();if(l!==null)for(var u=i.getHeight(),f=0;f<l.length;f++)l[f]=new de(u-l[f].getY()-1,l[f].getX());return a}else throw new X}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new Zt(n),o=r&&r.get(vt.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),l;o?l=i:l=15;for(var u=Math.trunc(i/2),f=0;f<l;f++){var c=Math.trunc((f+1)/2),h=(f&1)===0,d=u+s*(h?c:-c);if(d<0||d>=i)break;try{a=e.getBlackRow(d,a)}catch{continue}for(var p=function(g){if(g===1&&(a.reverse(),r&&r.get(vt.NEED_RESULT_POINT_CALLBACK)===!0)){var m=new Map;r.forEach(function(D,E){return m.set(E,D)}),m.delete(vt.NEED_RESULT_POINT_CALLBACK),r=m}try{var y=v.decodeRow(d,a,r);if(g===1){y.putMetadata(lr.ORIENTATION,180);var C=y.getResultPoints();C!==null&&(C[0]=new de(n-C[0].getX()-1,C[0].getY()),C[1]=new de(n-C[1].getX()-1,C[1].getY()))}return{value:y}}catch{}},v=this,_=0;_<2;_++){var x=p(_);if(typeof x=="object")return x.value}}throw new X},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new X;for(var s=!e.get(r),l=0,u=r;u<o;){if(e.get(u)!==s)n[l]++;else{if(++l===i)break;n[l]=1,s=!s}u++}if(!(l===i||l===i-1&&u===o))throw new X},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new X;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var l=a/o;n*=l;for(var u=0,f=0;f<i;f++){var c=e[f],h=r[f]*l,d=c>h?c-h:h-c;if(d>n)return Number.POSITIVE_INFINITY;u+=d}return u/a},t}(),_S=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kv=function(t){_S(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,l=!1,u=6,f=i;f<n;f++)if(r.get(f)!==l)o[a]++;else{if(a===u-1){for(var c=e.MAX_AVG_VARIANCE,h=-1,d=e.CODE_START_A;d<=e.CODE_START_C;d++){var p=Wt.patternMatchVariance(o,e.CODE_PATTERNS[d],e.MAX_INDIVIDUAL_VARIANCE);p<c&&(c=p,h=d)}if(h>=0&&r.isRange(Math.max(0,s-(f-s)/2),s,!1))return Int32Array.from([s,f,h]);s+=o[0]+o[1],o=o.slice(2,o.length),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,l=!l}throw new X},e.decodeCode=function(r,n,i){Wt.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var l=e.CODE_PATTERNS[s],u=this.patternMatchVariance(n,l,e.MAX_INDIVIDUAL_VARIANCE);u<a&&(a=u,o=s)}if(o>=0)return o;throw new X},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(vt.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],l=0,u=new Uint8Array(20);u[l++]=s;var f;switch(s){case e.CODE_START_A:f=e.CODE_CODE_A;break;case e.CODE_START_B:f=e.CODE_CODE_B;break;case e.CODE_START_C:f=e.CODE_CODE_C;break;default:throw new ie}for(var c=!1,h=!1,d="",p=o[0],v=o[1],_=Int32Array.from([0,0,0,0,0,0]),x=0,g=0,m=s,y=0,C=!0,D=!1,E=!1;!c;){var R=h;switch(h=!1,x=g,g=e.decodeCode(n,_,v),u[l++]=g,g!==e.CODE_STOP&&(C=!0),g!==e.CODE_STOP&&(y++,m+=y*g),p=v,v+=_.reduce(function(je,ae){return je+ae},0),g){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new ie}switch(f){case e.CODE_CODE_A:if(g<64)E===D?d+=String.fromCharCode(" ".charCodeAt(0)+g):d+=String.fromCharCode(" ".charCodeAt(0)+g+128),E=!1;else if(g<96)E===D?d+=String.fromCharCode(g-64):d+=String.fromCharCode(g+64),E=!1;else switch(g!==e.CODE_STOP&&(C=!1),g){case e.CODE_FNC_1:a&&(d.length===0?d+="]C1":d+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!D&&E?(D=!0,E=!1):D&&E?(D=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,f=e.CODE_CODE_B;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:c=!0;break}break;case e.CODE_CODE_B:if(g<96)E===D?d+=String.fromCharCode(" ".charCodeAt(0)+g):d+=String.fromCharCode(" ".charCodeAt(0)+g+128),E=!1;else switch(g!==e.CODE_STOP&&(C=!1),g){case e.CODE_FNC_1:a&&(d.length===0?d+="]C1":d+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!D&&E?(D=!0,E=!1):D&&E?(D=!1,E=!1):E=!0;break;case e.CODE_SHIFT:h=!0,f=e.CODE_CODE_A;break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_C:f=e.CODE_CODE_C;break;case e.CODE_STOP:c=!0;break}break;case e.CODE_CODE_C:if(g<100)g<10&&(d+="0"),d+=g;else switch(g!==e.CODE_STOP&&(C=!1),g){case e.CODE_FNC_1:a&&(d.length===0?d+="]C1":d+=String.fromCharCode(29));break;case e.CODE_CODE_A:f=e.CODE_CODE_A;break;case e.CODE_CODE_B:f=e.CODE_CODE_B;break;case e.CODE_STOP:c=!0;break}break}R&&(f=f===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var F=v-p;if(v=n.getNextUnset(v),!n.isRange(v,Math.min(n.getSize(),v+(v-p)/2),!1))throw new X;if(m-=y*x,m%103!==x)throw new $t;var k=d.length;if(k===0)throw new X;k>0&&C&&(f===e.CODE_CODE_C?d=d.substring(0,k-2):d=d.substring(0,k-1));for(var G=(o[1]+o[0])/2,z=p+F/2,Q=u.length,Ee=new Uint8Array(Q),xe=0;xe<Q;xe++)Ee[xe]=u[xe];var st=[new de(G,r),new de(z,r)];return new Er(d,Ee,0,st,_e.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Wt),mS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Zv=function(t){mS(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.counters;u.fill(0),this.decodeRowResult="";var f=e.findAsteriskPattern(n,u),c=n.getNextSet(f[1]),h=n.getSize(),d,p;do{e.recordPattern(n,c,u);var v=e.toNarrowWidePattern(u);if(v<0)throw new X;d=e.patternToChar(v),this.decodeRowResult+=d,p=c;try{for(var _=(a=void 0,dc(u)),x=_.next();!x.done;x=_.next()){var g=x.value;c+=g}}catch(Q){a={error:Q}}finally{try{x&&!x.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}c=n.getNextSet(c)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var y=dc(u),C=y.next();!C.done;C=y.next()){var g=C.value;m+=g}}catch(Q){s={error:Q}}finally{try{C&&!C.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}var D=c-p-m;if(c!==h&&D*2<m)throw new X;if(this.usingCheckDigit){for(var E=this.decodeRowResult.length-1,R=0,F=0;F<E;F++)R+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(F));if(this.decodeRowResult.charAt(E)!==e.ALPHABET_STRING.charAt(R%43))throw new $t;this.decodeRowResult=this.decodeRowResult.substring(0,E)}if(this.decodeRowResult.length===0)throw new X;var k;this.extendedMode?k=e.decodeExtended(this.decodeRowResult):k=this.decodeRowResult;var G=(f[1]+f[0])/2,z=p+m/2;return new Er(k,null,0,[new de(G,r),new de(z,r)],_e.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,l=!1,u=n.length,f=a;f<i;f++)if(r.get(f)!==l)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((f-s)/2)),s,!1))return[s,f];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,l=!l}throw new X},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var l=2147483647;try{for(var u=(n=void 0,dc(r)),f=u.next();!f.done;f=u.next()){var c=f.value;c<l&&c>o&&(l=c)}}catch(v){n={error:v}}finally{try{f&&!f.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}o=l,s=0;for(var h=0,d=0,p=0;p<a;p++){var c=r[p];c>o&&(d|=1<<a-1-p,s++,h+=c)}if(s===3){for(var p=0;p<a&&s>0;p++){var c=r[p];if(c>o&&(s--,c*2>=h))return-1}return d}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new X},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),l="\0";switch(o){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new ie;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new ie;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new ie;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new ie;break}i+=l,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Wt),yS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qv=function(t){yS(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.findAsteriskPattern(n),f=n.getNextSet(u[1]),c=n.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var d,p;do{e.recordPattern(n,f,h);var v=this.toPattern(h);if(v<0)throw new X;d=this.patternToChar(v),this.decodeRowResult+=d,p=f;try{for(var _=(a=void 0,pc(h)),x=_.next();!x.done;x=_.next()){var g=x.value;f+=g}}catch(F){a={error:F}}finally{try{x&&!x.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}f=n.getNextSet(f)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m=0;try{for(var y=pc(h),C=y.next();!C.done;C=y.next()){var g=C.value;m+=g}}catch(F){s={error:F}}finally{try{C&&!C.done&&(l=y.return)&&l.call(y)}finally{if(s)throw s.error}}if(f===c||!n.get(f))throw new X;if(this.decodeRowResult.length<2)throw new X;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var D=this.decodeExtended(this.decodeRowResult),E=(u[1]+u[0])/2,R=p+m/2;return new Er(D,null,0,[new de(E,r),new de(R,r)],_e.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var a=this.counters,o=i,s=!1,l=a.length,u=0,f=i;f<n;f++)if(r.get(f)!==s)a[u]++;else{if(u===l-1){if(this.toPattern(a)===e.ASTERISK_ENCODING)return new Int32Array([o,f]);o+=a[0]+a[1],a.copyWithin(0,2,2+u-1),a[u-1]=0,a[u]=0,u--}else u++;a[u]=1,s=!s}throw new X},e.prototype.toPattern=function(r){var n,i,a=0;try{for(var o=pc(r),s=o.next();!s.done;s=o.next()){var l=s.value;a+=l}}catch(p){n={error:p}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}for(var u=0,f=r.length,c=0;c<f;c++){var h=Math.round(r[c]*9/a);if(h<1||h>4)return-1;if(c&1)u<<=h;else for(var d=0;d<h;d++)u=u<<1|1}return u},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new X},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o>="a"&&o<="d"){if(a>=n-1)throw new ie;var s=r.charAt(a+1),l="\0";switch(o){case"d":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new ie;break;case"a":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new ie;break;case"b":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s>="X"&&s<="Z")l=String.fromCharCode(127);else throw new ie;break;case"c":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new ie;break}i+=l,a++}else i+=o}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var a=1,o=0,s=n-1;s>=0;s--)o+=a*e.ALPHABET_STRING.indexOf(r.charAt(s)),++a>i&&(a=1);if(r.charAt(n)!==e.ALPHABET_STRING[o%47])throw new $t},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Wt),wS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ES=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qv=function(t){wS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),l=this.decodeEnd(n),u=new Ae;e.decodeMiddle(n,s[1],l[0],u);var f=u.toString(),c=null;i!=null&&(c=i.get(vt.ALLOWED_LENGTHS)),c==null&&(c=e.DEFAULT_ALLOWED_LENGTHS);var h=f.length,d=!1,p=0;try{for(var v=ES(c),_=v.next();!_.done;_=v.next()){var x=_.value;if(h===x){d=!0;break}x>p&&(p=x)}}catch(y){a={error:y}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}if(!d&&h>p&&(d=!0),!d)throw new ie;var g=[new de(s[1],r),new de(l[0],r)],m=new Er(f,null,0,g,_e.ITF,new Date().getTime());return m},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(o.fill(0),s.fill(0),l.fill(0);n<i;){Wt.recordPattern(r,n,o);for(var u=0;u<5;u++){var f=2*u;s[u]=o[f],l[u]=o[f+1]}var c=e.decodeDigit(s);a.append(c.toString()),c=this.decodeDigit(l),a.append(c.toString()),o.forEach(function(h){n+=h})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new X},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new X;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof X&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),l=!1,u=0,f=n;o.fill(0);for(var c=n;c<s;c++)if(r.get(c)!==l)o[u]++;else{if(u===a-1){if(Wt.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[f,c];f+=o[0]+o[1],ot.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new X},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],l=Wt.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);l<n?(n=l,i=o):l===n&&(i=-1)}if(i>=0)return i%10;throw new X},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Wt),CS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jo=function(t){CS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var l=s-(a-s);l>=0&&(n=r.isRange(l,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new ie;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new ie;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var l=0,u=n,f=a.length,c=i,h=n;h<s;h++)if(r.get(h)!==c)o[l]++;else{if(l===f-1){if(Wt.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var d=o.slice(2,o.length),p=0;p<l-1;p++)o[p]=d[p];o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,c=!c}throw new X},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,l=a.length,u=0;u<l;u++){var f=a[u],c=Wt.patternMatchVariance(n,f,e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,s=u)}if(s>=0)return s;throw new X},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Wt),SS=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},AS=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new de((n[0]+n[1])/2,e),new de(a,e)],u=new Er(o,null,0,l,_e.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,f=0;f<5&&l<s;f++){var c=jo.decodeDigit(e,o,l,jo.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+c%10);try{for(var h=(i=void 0,SS(o)),d=h.next();!d.done;d=h.next()){var p=d.value;l+=p}}catch(_){i={error:_}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}c>=10&&(u|=1<<4-f),f!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new X;var v=this.determineCheckDigit(u);if(t.extensionChecksum(n.toString())!==v)throw new X;return l},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new X},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[lr.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}(),TS=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},IS=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),l=[new de((n[0]+n[1])/2,e),new de(a,e)],u=new Er(o,null,0,l,_e.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&u.putAllMetadata(s),u},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),l=r[1],u=0,f=0;f<2&&l<s;f++){var c=jo.decodeDigit(e,o,l,jo.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+c%10);try{for(var h=(i=void 0,TS(o)),d=h.next();!d.done;d=h.next()){var p=d.value;l+=p}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}c>=10&&(u|=1<<1-f),f!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new X;if(parseInt(n.toString())%4!==u)throw new X;return l},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[lr.ISSUE_NUMBER,parseInt(e)]])},t}(),OS=function(){function t(){}return t.decodeRow=function(e,r,n){var i=jo.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new AS;return a.decodeRow(e,r,i)}catch{var o=new IS;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),NS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bt=function(t){NS(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(vt.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new de((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var l=this.decodeMiddle(n,a,this.decodeRowStringBuffer),u=l.rowOffset,f=l.resultString;if(o!=null){var c=new de(u,r);o.foundPossibleResultPoint(c)}var h=e.decodeEnd(n,u);if(o!=null){var d=new de((h[0]+h[1])/2,r);o.foundPossibleResultPoint(d)}var p=h[1],v=p+(p-h[0]);if(v>=n.getSize()||!n.isRange(p,v,!1))throw new X;var _=f.toString();if(_.length<8)throw new ie;if(!e.checkChecksum(_))throw new $t;var x=(a[1]+a[0])/2,g=(h[1]+h[0])/2,m=this.getBarcodeFormat(),y=[new de(x,r),new de(g,r)],C=new Er(_,null,0,y,m,new Date().getTime()),D=0;try{var E=OS.decodeRow(r,n,h[1]);C.putMetadata(lr.UPC_EAN_EXTENSION,E.getText()),C.putAllMetadata(E.getResultMetadata()),C.addResultPoints(E.getResultPoints()),D=E.getText().length}catch{}var R=i==null?null:i.get(vt.ALLOWED_EAN_EXTENSIONS);if(R!=null){var F=!1;for(var k in R)if(D.toString()===k){F=!0;break}if(!F)throw new X}return m===_e.EAN_13||_e.UPC_A,C},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new ie;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new ie;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(jo),DS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Jv=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Vh=function(t){DS(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),c=n[1],h=0,d=0;d<6&&c<f;d++){var p=bt.decodeDigit(r,u,c,bt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p%10);try{for(var v=(a=void 0,Jv(u)),_=v.next();!_.done;_=v.next()){var x=_.value;c+=x}}catch(C){a={error:C}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}p>=10&&(h|=1<<5-d)}i=e.determineFirstDigit(i,h);var g=bt.findGuardPattern(r,c,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0));c=g[1];for(var d=0;d<6&&c<f;d++){var p=bt.decodeDigit(r,u,c,bt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+p);try{for(var m=(s=void 0,Jv(u)),y=m.next();!y.done;y=m.next()){var x=y.value;c+=x}}catch(E){s={error:E}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}}return{rowOffset:c,resultString:i}},e.prototype.getBarcodeFormat=function(){return _e.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode("0".charCodeAt(0)+i)+r,r;throw new X},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(bt),RS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tg=function(t){RS(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,l,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var f=r.getSize(),c=n[1],h=0;h<4&&c<f;h++){var d=bt.decodeDigit(r,u,c,bt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var p=(a=void 0,eg(u)),v=p.next();!v.done;v=p.next()){var _=v.value;c+=_}}catch(y){a={error:y}}finally{try{v&&!v.done&&(o=p.return)&&o.call(p)}finally{if(a)throw a.error}}}var x=bt.findGuardPattern(r,c,!0,bt.MIDDLE_PATTERN,new Int32Array(bt.MIDDLE_PATTERN.length).fill(0));c=x[1];for(var h=0;h<4&&c<f;h++){var d=bt.decodeDigit(r,u,c,bt.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var g=(s=void 0,eg(u)),m=g.next();!m.done;m=g.next()){var _=m.value;c+=_}}catch(D){s={error:D}}finally{try{m&&!m.done&&(l=g.return)&&l.call(g)}finally{if(s)throw s.error}}}return{rowOffset:c,resultString:i}},e.prototype.getBarcodeFormat=function(){return _e.EAN_8},e}(bt),PS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rg=function(t){PS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new Vh,r}return e.prototype.getBarcodeFormat=function(){return _e.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new Er(n.substring(1),null,null,r.getResultPoints(),_e.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new X},e.prototype.reset=function(){this.ean13Reader.reset()},e}(bt),FS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kS=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ng=function(t){FS(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(_){return _});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var l=r.getSize(),u=n[1],f=0,c=0;c<6&&u<l;c++){var h=e.decodeDigit(r,s,u,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var d=(a=void 0,kS(s)),p=d.next();!p.done;p=d.next()){var v=p.value;u+=v}}catch(_){a={error:_}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}h>=10&&(f|=1<<5-c)}return e.determineNumSysAndCheckDigit(new Ae(i),f),u},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return bt.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw X.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return _e.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new Ae;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(bt),MS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ig=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vc=function(t){MS(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(vt.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(_e.EAN_13)>-1&&a.push(new Vh),i.indexOf(_e.UPC_A)>-1&&a.push(new rg),i.indexOf(_e.EAN_8)>-1&&a.push(new tg),i.indexOf(_e.UPC_E)>-1&&a.push(new ng)),a.length===0&&(a.push(new Vh),a.push(new rg),a.push(new tg),a.push(new ng)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=ig(this.readers),l=s.next();!l.done;l=s.next()){var u=l.value;try{var f=u.decodeRow(r,n,i),c=f.getBarcodeFormat()===_e.EAN_13&&f.getText().charAt(0)==="0",h=i==null?null:i.get(vt.POSSIBLE_FORMATS),d=h==null||h.includes(_e.UPC_A);if(c&&d){var p=f.getRawBytes(),v=new Er(f.getText().substring(1),p,p?p.length:null,f.getResultPoints(),_e.UPC_A);return v.putAllMetadata(f.getResultMetadata()),v}return f}catch{}}}catch(_){a={error:_}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new X},e.prototype.reset=function(){var r,n;try{for(var i=ig(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Wt),bS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),LS=function(t){bS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var a=this.getValidRowData(n);if(!a)throw new X;var o=this.codaBarDecodeRow(a.row);if(!o)throw new X;return new Er(o,null,0,[new de(a.left,r),new de(a.right,r)],_e.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var a=n.lastIndexOf(!0);if(a<=i)return null;n=n.slice(i,a+1);for(var o=[],s=n[0],l=1,u=1;u<n.length;u++)n[u]===s?l++:(s=n[u],o.push(l),l=1);return o.push(l),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:i,right:a}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(l,u){return(l+u)/2},0));r.length>0;){var a=r.splice(0,8).splice(0,7),o=a.map(function(l){return l<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[o])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Wt),BS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),US=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},va=function(t){BS(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Wt.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new X},e.count=function(r){return Be.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;try{for(var f=US(r),c=f.next();!c.done;c=f.next()){var h=c.value;h>u&&(u=h),h<l&&(l=h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return u<10*l}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Wt),wf=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),mm=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new de(n,a)),this.resultPoints.push(new de(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),HS=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mo=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=HS(e),l=s.next();!l.done;l=s.next()){var u=l.value;o+=u}}catch(g){i={error:g}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var f=0,c=0,h=e.length,d=0;d<h-1;d++){var p=void 0;for(p=1,c|=1<<d;p<e[d];p++,c&=~(1<<d)){var v=t.combins(o-p-1,h-d-2);if(n&&c===0&&o-p-(h-d-1)>=h-d-1&&(v-=t.combins(o-p-(h-d),h-d-2)),h-d-1>1){for(var _=0,x=o-p-(h-d-2);x>r;x--)_+=t.combins(o-p-x-1,h-d-3);v-=_*(h-1-d)}else o-p>r&&v--;f+=v}o-=p}return f},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}(),WS=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new Zt(n),a=0,o=e[0],s=o.getRightChar().getValue(),l=11;l>=0;--l)s&1<<l&&i.set(a),a++;for(var l=1;l<e.length;++l){for(var u=e[l],f=u.getLeftChar().getValue(),c=11;c>=0;--c)f&1<<c&&i.set(a),a++;if(u.getRightChar()!==null)for(var h=u.getRightChar().getValue(),c=11;c>=0;--c)h&1<<c&&i.set(a),a++}return i},t}(),ca=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),md=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),VS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),En=function(t){VS(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(md),GS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ha=function(t){GS(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(md),zS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ja=function(t){zS(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new ie;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(md),wu=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jS=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,l,u;if(!e)return null;if(e.length<2)throw new X;var f=e.substring(0,2);try{for(var c=wu(t.TWO_DIGIT_DATA_LENGTH),h=c.next();!h.done;h=c.next()){var d=h.value;if(d[0]===f)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,d[2],e):t.processFixedAI(2,d[1],e)}}catch(D){r={error:D}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(e.length<3)throw new X;var p=e.substring(0,3);try{for(var v=wu(t.THREE_DIGIT_DATA_LENGTH),_=v.next();!_.done;_=v.next()){var d=_.value;if(d[0]===p)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,d[2],e):t.processFixedAI(3,d[1],e)}}catch(D){i={error:D}}finally{try{_&&!_.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}try{for(var x=wu(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),g=x.next();!g.done;g=x.next()){var d=g.value;if(d[0]===p)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,d[2],e):t.processFixedAI(4,d[1],e)}}catch(D){o={error:D}}finally{try{g&&!g.done&&(s=x.return)&&s.call(x)}finally{if(o)throw o.error}}if(e.length<4)throw new X;var m=e.substring(0,4);try{for(var y=wu(t.FOUR_DIGIT_DATA_LENGTH),C=y.next();!C.done;C=y.next()){var d=C.value;if(d[0]===m)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,d[2],e):t.processFixedAI(4,d[1],e)}}catch(D){l={error:D}}finally{try{C&&!C.done&&(u=y.return)&&u.call(y)}finally{if(l)throw l.error}}throw new X},t.processFixedAI=function(e,r,n){if(n.length<e)throw new X;var i=n.substring(0,e);if(n.length<e+r)throw new X;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(o);return l==null?s:s+l},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),l="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(s);return u==null?l:l+u},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Yu=function(){function t(e){this.buffer=new Ae,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=jS.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new Ja(this.information.getSize(),Ja.FNC1,Ja.FNC1):new Ja(this.information.getSize(),r-1,Ja.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new Ja(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new ha(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new ha(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new ha(this.current.getPosition(),this.buffer.toString()):r=new ha(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new ca(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new ha(this.current.getPosition(),this.buffer.toString());return new ca(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ca(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ha(this.current.getPosition(),this.buffer.toString());return new ca(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ca(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new ha(this.current.getPosition(),this.buffer.toString());return new ca(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ca(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new En(e+5,En.FNC1);if(r>=5&&r<15)return new En(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new En(e+7,""+(n+1));if(n>=90&&n<116)return new En(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new ie}return new En(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new En(e+5,En.FNC1);if(r>=5&&r<15)return new En(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new En(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Vl("Decoding invalid alphanumeric value: "+n)}return new En(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),ym=function(){function t(e){this.information=e,this.generalDecoder=new Yu(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),XS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Nn=function(t){XS(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-"0".charCodeAt(0);i+=a&1?o:3*o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(ym),$S=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YS=function(t){$S(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ae;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(Nn),KS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZS=function(t){KS(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Ae;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(ym),QS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ku=function(t){QS(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,l=0;l<5;++l)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(Nn),qS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wm=function(t){qS(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ku.GTIN_SIZE+e.WEIGHT_SIZE)throw new X;var r=new Ae;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ku.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(Ku),JS=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),eA=function(t){JS(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(wm),tA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rA=function(t){tA(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(wm),nA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iA=function(t){nA(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Nn.GTIN_SIZE)throw new X;var r=new Ae;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Nn.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Nn.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(Nn),aA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oA=function(t){aA(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Nn.GTIN_SIZE)throw new X;var r=new Ae;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Nn.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Nn.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Nn.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Nn),sA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ti=function(t){sA(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new X;var r=new Ae;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),o/10===0&&r.append("0"),r.append(o),a/10===0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ku);function lA(t){try{if(t.get(1))return new YS(t);if(!t.get(2))return new ZS(t);var e=Yu.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new eA(t);case 5:return new rA(t)}var r=Yu.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new iA(t);case 13:return new oA(t)}var n=Yu.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new Ti(t,"310","11");case 57:return new Ti(t,"320","11");case 58:return new Ti(t,"310","13");case 59:return new Ti(t,"320","13");case 60:return new Ti(t,"310","15");case 61:return new Ti(t,"320","15");case 62:return new Ti(t,"310","17");case 63:return new Ti(t,"320","17")}}catch(i){throw console.log(i),new Vl("unknown decoder: "+t)}}var ag=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),uA=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),fA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ii=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cA=function(t){fA(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof X){if(!this.pairs.length)throw new X;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new X},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var l=(i=void 0,Ii(r)),u=l.next();!u.done;u=l.next()){var f=u.value;this.pairs.push(f.getPairs())}}catch(h){i={error:h}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var c=new Array(r);c.push(s);try{return this.checkRows(c,o+1)}catch(h){console.log(h)}}}throw new X},e.isValidSequence=function(r){var n,i;try{for(var a=Ii(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var l=!0,u=0;u<r.length;u++)if(r[u].getFinderPattern().getValue()!==s[u]){l=!1;break}if(l)return!0}}}catch(f){n={error:f}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new uA(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,l,u;try{for(var f=Ii(n),c=f.next();!c.done;c=f.next()){var h=c.value;if(h.getPairs().length!==r.length){var d=!0;try{for(var p=(o=void 0,Ii(h.getPairs())),v=p.next();!v.done;v=p.next()){var _=v.value,x=!1;try{for(var g=(l=void 0,Ii(r)),m=g.next();!m.done;m=g.next()){var y=m.value;if(ag.equals(_,y)){x=!0;break}}}catch(C){l={error:C}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}x||(d=!1)}}catch(C){o={error:C}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}}}}catch(C){i={error:C}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,l,u;try{for(var f=Ii(n),c=f.next();!c.done;c=f.next()){var h=c.value,d=!0;try{for(var p=(o=void 0,Ii(r)),v=p.next();!v.done;v=p.next()){var _=v.value,x=!1;try{for(var g=(l=void 0,Ii(h.getPairs())),m=g.next();!m.done;m=g.next()){var y=m.value;if(_.equals(y)){x=!0;break}}}catch(C){l={error:C}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}if(!x){d=!1;break}}}catch(C){o={error:C}}finally{try{v&&!v.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}if(d)return!0}}catch(C){i={error:C}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=WS.buildBitArray(r),i=lA(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),l=[o[0],o[1],s[0],s[1]];return new Er(a,null,null,l,_e.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var l=this.pairs.get(s);a+=l.getLeftChar().getChecksumPortion(),o++;var u=l.getRightChar();u!=null&&(a+=u.getChecksumPortion(),o++)}a%=211;var f=211*(o-4)+a;return f===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2===0;this.startFromEven&&(a=!a);var o,s=!0,l=-1;do this.findNextPair(r,n,l),o=this.parseFoundFinderPattern(r,i,a),o===null?l=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var u=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new X;var f;try{f=this.decodeDataCharacter(r,o,a,!1)}catch(c){f=null,console.log(c)}return new ag(u,f,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var l=n[n.length-1];s=l.getFinderPattern().getStartEnd()[1]}var u=n.length%2!==0;this.startFromEven&&(u=!u);for(var f=!1;s<o&&(f=!r.get(s),!!f);)s++;for(var c=0,h=s,d=s;d<o;d++)if(r.get(d)!==f)a[c]++;else{if(c===3){if(u&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=h,this.startEnd[1]=d;return}u&&e.reverseCounters(a),h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,f=!f}throw new X},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var l=this.startEnd[0]-1;l>=0&&!r.get(l);)l--;l++,a=this.startEnd[0]-l,o=l,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var u=this.getDecodeFinderCounters();ot.arraycopy(u,0,u,1,u.length-1),u[0]=a;var f;try{f=this.parseFinderValue(u,e.FINDER_PATTERNS)}catch{return null}return new mm(f,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var l=0,u=o.length-1;l<u;l++,u--){var f=o[l];o[l]=o[u],o[u]=f}}var c=17,h=Be.sum(new Int32Array(o))/c,d=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-d)/d>.3)throw new X;for(var p=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),l=0;l<o.length;l++){var g=1*o[l]/h,m=g+.5;if(m<1){if(g<.3)throw new X;m=1}else if(m>8){if(g>8.7)throw new X;m=8}var y=l/2;l&1?(v[y]=m,x[y]=g-m):(p[y]=m,_[y]=g-m)}this.adjustOddEvenCounts(c);for(var C=4*n.getValue()+(i?0:2)+(a?0:1)-1,D=0,E=0,l=p.length-1;l>=0;l--){if(e.isNotA1left(n,i,a)){var R=e.WEIGHTS[C][2*l];E+=p[l]*R}D+=p[l]}for(var F=0,l=v.length-1;l>=0;l--)if(e.isNotA1left(n,i,a)){var R=e.WEIGHTS[C][2*l+1];F+=v[l]*R}var k=E+F;if(D&1||D>13||D<4)throw new X;var G=(13-D)/2,z=e.SYMBOL_WIDEST[G],Q=9-z,Ee=mo.getRSSvalue(p,z,!0),xe=mo.getRSSvalue(v,Q,!1),st=e.EVEN_TOTAL_SUBSET[G],je=e.GSUM[G],ae=Ee*st+xe+je;return new wf(ae,k)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=Be.sum(new Int32Array(this.getOddCounts())),i=Be.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,l=!1;i>13?l=!0:i<4&&(s=!0);var u=n+i-r,f=(n&1)===1,c=(i&1)===0;if(u===1)if(f){if(c)throw new X;o=!0}else{if(!c)throw new X;l=!0}else if(u===-1)if(f){if(c)throw new X;a=!0}else{if(!c)throw new X;s=!0}else if(u===0){if(f){if(!c)throw new X;n<i?(a=!0,l=!0):(o=!0,s=!0)}else if(c)throw new X}else throw new X;if(a){if(o)throw new X;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new X;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(va),hA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dA=function(t){hA(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(wf),pA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},og=function(t){pA(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,l,u=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var f=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,f),n.reverse();try{for(var c=gc(this.possibleLeftPairs),h=c.next();!h.done;h=c.next()){var d=h.value;if(d.getCount()>1)try{for(var p=(s=void 0,gc(this.possibleRightPairs)),v=p.next();!v.done;v=p.next()){var _=v.value;if(_.getCount()>1&&e.checkChecksum(d,_))return e.constructResult(d,_)}}catch(x){s={error:x}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(s)throw s.error}}}}catch(x){a={error:x}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}throw new X},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=gc(r),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.getValue()===n.getValue()){u.incrementCount(),o=!0;break}}}catch(f){i={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new Ae,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var l=0,s=0;s<13;s++){var u=o.charAt(s).charCodeAt(0)-"0".charCodeAt(0);l+=s&1?u:3*u}l=10-l%10,l===10&&(l=0),o.append(l.toString());var f=r.getFinderPattern().getResultPoints(),c=n.getFinderPattern().getResultPoints();return new Er(o.toString(),null,0,[f[0],f[1],c[0],c[1]],_e.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),l=a==null?null:a.get(vt.NEED_RESULT_POINT_CALLBACK);if(l!=null){var u=(o[0]+o[1])/2;n&&(u=r.getSize()-1-u),l.foundPossibleResultPoint(new de(u,i))}var f=this.decodeDataCharacter(r,s,!0),c=this.decodeDataCharacter(r,s,!1);return new dA(1597*f.getValue()+c.getValue(),f.getChecksumPortion()+4*c.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)Wt.recordPatternInReverse(r,n.getStartEnd()[0],a);else{Wt.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,l=a.length-1;s<l;s++,l--){var u=a[s];a[s]=a[l],a[l]=u}}for(var f=i?16:15,c=Be.sum(new Int32Array(a))/f,h=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var _=a[s]/c,x=Math.floor(_+.5);x<1?x=1:x>8&&(x=8);var g=Math.floor(s/2);s&1?(d[g]=x,v[g]=_-x):(h[g]=x,p[g]=_-x)}this.adjustOddEvenCounts(i,f);for(var m=0,y=0,s=h.length-1;s>=0;s--)y*=9,y+=h[s],m+=h[s];for(var C=0,D=0,s=d.length-1;s>=0;s--)C*=9,C+=d[s],D+=d[s];var E=y+3*C;if(i){if(m&1||m>12||m<4)throw new X;var R=(12-m)/2,F=e.OUTSIDE_ODD_WIDEST[R],k=9-F,G=mo.getRSSvalue(h,F,!1),z=mo.getRSSvalue(d,k,!0),Q=e.OUTSIDE_EVEN_TOTAL_SUBSET[R],Ee=e.OUTSIDE_GSUM[R];return new wf(G*Q+z+Ee,E)}else{if(D&1||D>10||D<4)throw new X;var R=(10-D)/2,F=e.INSIDE_ODD_WIDEST[R],k=9-F,G=mo.getRSSvalue(h,F,!0),z=mo.getRSSvalue(d,k,!1),xe=e.INSIDE_ODD_TOTAL_SUBSET[R],Ee=e.INSIDE_GSUM[R];return new wf(z*xe+G+Ee,E)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var l=0,u=s,f=s;f<a;f++)if(r.get(f)!==o)i[l]++;else{if(l===3){if(va.isFinderPattern(i))return[u,f];u+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,l--}else l++;i[l]=1,o=!o}throw new X},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var l=a[0]-s,u=this.getDecodeFinderCounters(),f=new Int32Array(u.length);ot.arraycopy(u,0,f,1,u.length-1),f[0]=l;var c=this.parseFinderValue(f,e.FINDER_PATTERNS),h=s,d=a[1];return i&&(h=r.getSize()-1-h,d=r.getSize()-1-d),new mm(c,[s,a[1]],h,d,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=Be.sum(new Int32Array(this.getOddCounts())),a=Be.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,l=!1,u=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?u=!0:a<4&&(l=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?u=!0:a<4&&(l=!0));var f=i+a-n,c=(i&1)===(r?1:0),h=(a&1)===1;if(f===1)if(c){if(h)throw new X;s=!0}else{if(!h)throw new X;u=!0}else if(f===-1)if(c){if(h)throw new X;o=!0}else{if(!h)throw new X;l=!0}else if(f===0){if(c){if(!h)throw new X;i<a?(o=!0,u=!0):(s=!0,l=!0)}else if(h)throw new X}else throw new X;if(o){if(s)throw new X;va.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&va.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(u)throw new X;va.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&va.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(va),vA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ms=function(t){vA(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(vt.POSSIBLE_FORMATS):null,a=r&&r.get(vt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=r&&r.get(vt.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(_e.EAN_13)||i.includes(_e.UPC_A)||i.includes(_e.EAN_8)||i.includes(_e.UPC_E))&&n.readers.push(new vc(r)),i.includes(_e.CODE_39)&&n.readers.push(new Zv(a,o)),i.includes(_e.CODE_93)&&n.readers.push(new Qv),i.includes(_e.CODE_128)&&n.readers.push(new Kv),i.includes(_e.ITF)&&n.readers.push(new qv),i.includes(_e.CODABAR)&&n.readers.push(new LS),i.includes(_e.RSS_14)&&n.readers.push(new og),i.includes(_e.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new cA))),n.readers.length===0&&(n.readers.push(new vc(r)),n.readers.push(new Zv),n.readers.push(new Qv),n.readers.push(new vc(r)),n.readers.push(new Kv),n.readers.push(new qv),n.readers.push(new og)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new X},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Wt),gA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){gA(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Ms(n),r,n)||this}return e})(ts);var sg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Ue=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),xA=function(){function t(e,r,n,i,a,o){var s,l;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var u=0,f=o.getECCodewords(),c=o.getECBlocks();try{for(var h=sg(c),d=h.next();!d.done;d=h.next()){var p=d.value;u+=p.getCount()*(p.getDataCodewords()+f)}}catch(v){s={error:v}}finally{try{d&&!d.done&&(l=h.return)&&l.call(h)}finally{if(s)throw s.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new ie;try{for(var a=sg(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new ie},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new ze(5,new Ue(1,3))),new t(2,12,12,10,10,new ze(7,new Ue(1,5))),new t(3,14,14,12,12,new ze(10,new Ue(1,8))),new t(4,16,16,14,14,new ze(12,new Ue(1,12))),new t(5,18,18,16,16,new ze(14,new Ue(1,18))),new t(6,20,20,18,18,new ze(18,new Ue(1,22))),new t(7,22,22,20,20,new ze(20,new Ue(1,30))),new t(8,24,24,22,22,new ze(24,new Ue(1,36))),new t(9,26,26,24,24,new ze(28,new Ue(1,44))),new t(10,32,32,14,14,new ze(36,new Ue(1,62))),new t(11,36,36,16,16,new ze(42,new Ue(1,86))),new t(12,40,40,18,18,new ze(48,new Ue(1,114))),new t(13,44,44,20,20,new ze(56,new Ue(1,144))),new t(14,48,48,22,22,new ze(68,new Ue(1,174))),new t(15,52,52,24,24,new ze(42,new Ue(2,102))),new t(16,64,64,14,14,new ze(56,new Ue(2,140))),new t(17,72,72,16,16,new ze(36,new Ue(4,92))),new t(18,80,80,18,18,new ze(48,new Ue(4,114))),new t(19,88,88,20,20,new ze(56,new Ue(4,144))),new t(20,96,96,22,22,new ze(68,new Ue(4,174))),new t(21,104,104,24,24,new ze(56,new Ue(6,136))),new t(22,120,120,18,18,new ze(68,new Ue(6,175))),new t(23,132,132,20,20,new ze(62,new Ue(8,163))),new t(24,144,144,22,22,new ze(62,new Ue(8,156),new Ue(2,155))),new t(25,8,18,6,16,new ze(7,new Ue(1,5))),new t(26,8,32,6,14,new ze(11,new Ue(1,10))),new t(27,12,26,10,24,new ze(14,new Ue(1,16))),new t(28,12,36,10,16,new ze(18,new Ue(1,22))),new t(29,16,36,14,16,new ze(24,new Ue(1,32))),new t(30,16,48,14,22,new ze(28,new Ue(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),_A=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new ie;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Zn(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return xA.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,l=!1,u=!1,f=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&o&3&&!l)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,l=!0;else if(n===a+4&&i===2&&!(o&7)&&!u)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,u=!0;else if(n===a-2&&i===0&&(o&7)===4&&!f)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,f=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new ie;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new me("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,l=o*i,u=s*a,f=new Zn(u,l),c=0;c<o;++c)for(var h=c*i,d=0;d<s;++d)for(var p=d*a,v=0;v<i;++v)for(var _=c*(i+2)+1+v,x=h+v,g=0;g<a;++g){var m=d*(a+2)+1+g;if(e.get(m,_)){var y=p+g;f.set(y,x)}}return f},t}(),lg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mA=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),l=0,u=s.getECBlocks();try{for(var f=lg(u),c=f.next();!c.done;c=f.next()){var h=c.value;l+=h.getCount()}}catch(Ee){n={error:Ee}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var d=new Array(l),p=0;try{for(var v=lg(u),_=v.next();!_.done;_=v.next())for(var h=_.value,x=0;x<h.getCount();x++){var g=h.getDataCodewords(),m=s.getECCodewords()+g;d[p++]=new t(g,new Uint8Array(m))}}catch(Ee){a={error:Ee}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}for(var y=d[0].codewords.length,C=y-s.getECCodewords(),D=C-1,E=0,x=0;x<D;x++)for(var R=0;R<p;R++)d[R].codewords[x]=e[E++];for(var F=r.getVersionNumber()===24,k=F?8:p,R=0;R<k;R++)d[R].codewords[C-1]=e[E++];for(var G=d[0].codewords.length,x=C;x<G;x++)for(var R=0;R<p;R++){var z=F?(R+8)%p:R,Q=F&&z>7?x-1:x;d[z].codewords[Q]=e[E++]}if(E!==e.length)throw new me;return d},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Em=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new me(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,l=o-s,u=255>>8-s<<l;r=(a[i]&u)>>l,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var l=8-e,u=255>>l<<l;r=r<<e|(a[i]&u)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Pt;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));var yA=function(){function t(){}return t.decode=function(e){var r=new Em(e),n=new Ae,i=new Ae,a=new Array,o=Pt.ASCII_ENCODE;do if(o===Pt.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case Pt.C40_ENCODE:this.decodeC40Segment(r,n);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new ie}o=Pt.ASCII_ENCODE}while(o!==Pt.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new g0(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new ie;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),Pt.ASCII_ENCODE;if(a===129)return Pt.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new ie;break}}while(e.available()>0);return Pt.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.C40_BASIC_SET_CHARS.length){var u=this.C40_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ie;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.C40_SHIFT2_SET_CHARS.length){var u=this.C40_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new ie}a=0;break;case 3:n?(r.append(String.fromCharCode(l+224)),n=!1):r.append(String.fromCharCode(l+96)),a=0;break;default:throw new ie}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var l=i[s];switch(a){case 0:if(l<3)a=l+1;else if(l<this.TEXT_BASIC_SET_CHARS.length){var u=this.TEXT_BASIC_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else throw new ie;break;case 1:n?(r.append(String.fromCharCode(l+128)),n=!1):r.append(String.fromCharCode(l)),a=0;break;case 2:if(l<this.TEXT_SHIFT2_SET_CHARS.length){var u=this.TEXT_SHIFT2_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u)}else switch(l){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new ie}a=0;break;case 3:if(l<this.TEXT_SHIFT3_SET_CHARS.length){var u=this.TEXT_SHIFT3_SET_CHARS[l];n?(r.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):r.append(u),a=0}else throw new ie;break;default:throw new ie}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new ie;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new ie;for(var s=new Uint8Array(o),l=0;l<o;l++){if(e.available()<8)throw new ie;s[l]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(xn.decode(s,Fe.ISO88591))}catch(u){throw new Vl("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),wA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},EA=function(){function t(){this.rsDecoder=new x0(Lr.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new _A(e),a=i.getVersion(),o=i.readCodewords(),s=mA.getDataBlocks(o,a),l=0;try{for(var u=wA(s),f=u.next();!f.done;f=u.next()){var c=f.value;l+=c.getNumDataCodewords()}}catch(m){r={error:m}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}for(var h=new Uint8Array(l),d=s.length,p=0;p<d;p++){var v=s[p],_=v.getCodewords(),x=v.getNumDataCodewords();this.correctErrors(_,x);for(var g=0;g<x;g++)h[g*d+p]=_[g]}return yA.decode(h)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new $t}for(var i=0;i<r;i++)e[i]=n[i]},t}(),CA=function(){function t(e){this.image=e,this.rectangleDetector=new Hh(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new X;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,l=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(l&1)===1&&(l+=1),4*s<7*l&&4*l<7*s&&(s=l=Math.max(s,l));var u=t.sampleGrid(this.image,n,i,a,o,s,l);return new xd(u,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new de(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new de(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,a),u=this.transitionsBetween(a,r),f=o,c=[a,r,n,i];return f>s&&(f=s,c[0]=r,c[1]=n,c[2]=i,c[3]=a),f>l&&(f=l,c[0]=n,c[1]=i,c[2]=a,c[3]=r),f>u&&(c[0]=i,c[1]=a,c[2]=r,c[3]=n),c},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),l=t.shiftPoint(i,n,(o+1)*4),u=this.transitionsBetween(s,r),f=this.transitionsBetween(l,a);return u<f?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),l=t.shiftPoint(r,n,(s+1)*4),u=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(l,a),s=this.transitionsBetween(u,a);var f=new de(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),c=new de(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(f))return this.isValid(c)?c:null;if(!this.isValid(c))return f;var h=this.transitionsBetween(l,f)+this.transitionsBetween(u,f),d=this.transitionsBetween(l,c)+this.transitionsBetween(u,c);return h>d?f:c},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,l=t.shiftPoint(r,n,s*4),u=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(l,a)+1,s=this.transitionsBetween(u,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var f=(r.getX()+n.getX()+i.getX()+a.getX())/4,c=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,f,c),n=t.moveAway(n,f,c),i=t.moveAway(i,f,c),a=t.moveAway(a,f,c);var h,d;return l=t.shiftPoint(r,n,s*4),l=t.shiftPoint(l,a,o*4),h=t.shiftPoint(n,r,s*4),h=t.shiftPoint(h,i,o*4),u=t.shiftPoint(i,a,s*4),u=t.shiftPoint(u,n,o*4),d=t.shiftPoint(a,i,s*4),d=t.shiftPoint(d,r,o*4),[l,h,u,d]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var l=_d.getInstance();return l.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var l=n;n=i,i=l,l=a,a=o,o=l}for(var u=Math.abs(a-n),f=Math.abs(o-i),c=-u/2,h=i<o?1:-1,d=n<a?1:-1,p=0,v=this.image.get(s?i:n,s?n:i),_=n,x=i;_!==a;_+=d){var g=this.image.get(s?x:_,s?_:x);if(g!==v&&(p++,v=g),c+=f,c>0){if(x===o)break;x+=h,c-=u}}return p},t}(),Gh=function(){function t(){this.decoder=new EA}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(vt.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new CA(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),l=new Er(n.getText(),s,8*s.length,i,_e.DATA_MATRIX,ot.currentTimeMillis()),u=n.getByteSegments();u!=null&&l.putMetadata(lr.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!=null&&l.putMetadata(lr.ERROR_CORRECTION_LEVEL,f),l},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new X;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0],u=(l-s+1)/i,f=(o-a+1)/i;if(u<=0||f<=0)throw new X;var c=i/2;a+=c,s+=c;for(var h=new Zn(u,f),d=0;d<f;d++)for(var p=a+d*i,v=0;v<u;v++)e.get(s+v*i,p)&&h.set(v,d);return h},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new X;var o=i-e[0];if(o===0)throw new X;return o},t.NO_POINTS=[],t}(),SA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){SA(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Gh,r)||this}return e})(ts);var yo;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(yo||(yo={}));var AA=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new An(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new me;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(yo.L,"L",1),t.M=new t(yo.M,"M",0),t.Q=new t(yo.Q,"Q",3),t.H=new t(yo.H,"H",2),t}(),TA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cm=function(){function t(e){this.errorCorrectionLevel=AA.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return Te.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=TA(t.FORMAT_INFO_DECODE_LOOKUP),l=s.next();!l.done;l=s.next()){var u=l.value,f=u[0];if(f===e||f===r)return new t(u[1]);var c=t.numBitsDiffering(e,f);c<a&&(o=u[1],a=c),e!==r&&(c=t.numBitsDiffering(r,f),c<a&&(o=u[1],a=c))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),IA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},L=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=IA(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),A=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),OA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,l=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();try{for(var f=OA(u),c=f.next();!c.done;c=f.next()){var h=c.value;s+=h.getCount()*(h.getDataCodewords()+l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new ie;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ie}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new me;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=Cm.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Zn(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new L(7,new A(1,19)),new L(10,new A(1,16)),new L(13,new A(1,13)),new L(17,new A(1,9))),new t(2,Int32Array.from([6,18]),new L(10,new A(1,34)),new L(16,new A(1,28)),new L(22,new A(1,22)),new L(28,new A(1,16))),new t(3,Int32Array.from([6,22]),new L(15,new A(1,55)),new L(26,new A(1,44)),new L(18,new A(2,17)),new L(22,new A(2,13))),new t(4,Int32Array.from([6,26]),new L(20,new A(1,80)),new L(18,new A(2,32)),new L(26,new A(2,24)),new L(16,new A(4,9))),new t(5,Int32Array.from([6,30]),new L(26,new A(1,108)),new L(24,new A(2,43)),new L(18,new A(2,15),new A(2,16)),new L(22,new A(2,11),new A(2,12))),new t(6,Int32Array.from([6,34]),new L(18,new A(2,68)),new L(16,new A(4,27)),new L(24,new A(4,19)),new L(28,new A(4,15))),new t(7,Int32Array.from([6,22,38]),new L(20,new A(2,78)),new L(18,new A(4,31)),new L(18,new A(2,14),new A(4,15)),new L(26,new A(4,13),new A(1,14))),new t(8,Int32Array.from([6,24,42]),new L(24,new A(2,97)),new L(22,new A(2,38),new A(2,39)),new L(22,new A(4,18),new A(2,19)),new L(26,new A(4,14),new A(2,15))),new t(9,Int32Array.from([6,26,46]),new L(30,new A(2,116)),new L(22,new A(3,36),new A(2,37)),new L(20,new A(4,16),new A(4,17)),new L(24,new A(4,12),new A(4,13))),new t(10,Int32Array.from([6,28,50]),new L(18,new A(2,68),new A(2,69)),new L(26,new A(4,43),new A(1,44)),new L(24,new A(6,19),new A(2,20)),new L(28,new A(6,15),new A(2,16))),new t(11,Int32Array.from([6,30,54]),new L(20,new A(4,81)),new L(30,new A(1,50),new A(4,51)),new L(28,new A(4,22),new A(4,23)),new L(24,new A(3,12),new A(8,13))),new t(12,Int32Array.from([6,32,58]),new L(24,new A(2,92),new A(2,93)),new L(22,new A(6,36),new A(2,37)),new L(26,new A(4,20),new A(6,21)),new L(28,new A(7,14),new A(4,15))),new t(13,Int32Array.from([6,34,62]),new L(26,new A(4,107)),new L(22,new A(8,37),new A(1,38)),new L(24,new A(8,20),new A(4,21)),new L(22,new A(12,11),new A(4,12))),new t(14,Int32Array.from([6,26,46,66]),new L(30,new A(3,115),new A(1,116)),new L(24,new A(4,40),new A(5,41)),new L(20,new A(11,16),new A(5,17)),new L(24,new A(11,12),new A(5,13))),new t(15,Int32Array.from([6,26,48,70]),new L(22,new A(5,87),new A(1,88)),new L(24,new A(5,41),new A(5,42)),new L(30,new A(5,24),new A(7,25)),new L(24,new A(11,12),new A(7,13))),new t(16,Int32Array.from([6,26,50,74]),new L(24,new A(5,98),new A(1,99)),new L(28,new A(7,45),new A(3,46)),new L(24,new A(15,19),new A(2,20)),new L(30,new A(3,15),new A(13,16))),new t(17,Int32Array.from([6,30,54,78]),new L(28,new A(1,107),new A(5,108)),new L(28,new A(10,46),new A(1,47)),new L(28,new A(1,22),new A(15,23)),new L(28,new A(2,14),new A(17,15))),new t(18,Int32Array.from([6,30,56,82]),new L(30,new A(5,120),new A(1,121)),new L(26,new A(9,43),new A(4,44)),new L(28,new A(17,22),new A(1,23)),new L(28,new A(2,14),new A(19,15))),new t(19,Int32Array.from([6,30,58,86]),new L(28,new A(3,113),new A(4,114)),new L(26,new A(3,44),new A(11,45)),new L(26,new A(17,21),new A(4,22)),new L(26,new A(9,13),new A(16,14))),new t(20,Int32Array.from([6,34,62,90]),new L(28,new A(3,107),new A(5,108)),new L(26,new A(3,41),new A(13,42)),new L(30,new A(15,24),new A(5,25)),new L(28,new A(15,15),new A(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new L(28,new A(4,116),new A(4,117)),new L(26,new A(17,42)),new L(28,new A(17,22),new A(6,23)),new L(30,new A(19,16),new A(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new L(28,new A(2,111),new A(7,112)),new L(28,new A(17,46)),new L(30,new A(7,24),new A(16,25)),new L(24,new A(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new L(30,new A(4,121),new A(5,122)),new L(28,new A(4,47),new A(14,48)),new L(30,new A(11,24),new A(14,25)),new L(30,new A(16,15),new A(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new L(30,new A(6,117),new A(4,118)),new L(28,new A(6,45),new A(14,46)),new L(30,new A(11,24),new A(16,25)),new L(30,new A(30,16),new A(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new L(26,new A(8,106),new A(4,107)),new L(28,new A(8,47),new A(13,48)),new L(30,new A(7,24),new A(22,25)),new L(30,new A(22,15),new A(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new L(28,new A(10,114),new A(2,115)),new L(28,new A(19,46),new A(4,47)),new L(28,new A(28,22),new A(6,23)),new L(30,new A(33,16),new A(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new L(30,new A(8,122),new A(4,123)),new L(28,new A(22,45),new A(3,46)),new L(30,new A(8,23),new A(26,24)),new L(30,new A(12,15),new A(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new L(30,new A(3,117),new A(10,118)),new L(28,new A(3,45),new A(23,46)),new L(30,new A(4,24),new A(31,25)),new L(30,new A(11,15),new A(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new L(30,new A(7,116),new A(7,117)),new L(28,new A(21,45),new A(7,46)),new L(30,new A(1,23),new A(37,24)),new L(30,new A(19,15),new A(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new L(30,new A(5,115),new A(10,116)),new L(28,new A(19,47),new A(10,48)),new L(30,new A(15,24),new A(25,25)),new L(30,new A(23,15),new A(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new L(30,new A(13,115),new A(3,116)),new L(28,new A(2,46),new A(29,47)),new L(30,new A(42,24),new A(1,25)),new L(30,new A(23,15),new A(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new L(30,new A(17,115)),new L(28,new A(10,46),new A(23,47)),new L(30,new A(10,24),new A(35,25)),new L(30,new A(19,15),new A(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new L(30,new A(17,115),new A(1,116)),new L(28,new A(14,46),new A(21,47)),new L(30,new A(29,24),new A(19,25)),new L(30,new A(11,15),new A(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new L(30,new A(13,115),new A(6,116)),new L(28,new A(14,46),new A(23,47)),new L(30,new A(44,24),new A(7,25)),new L(30,new A(59,16),new A(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new L(30,new A(12,121),new A(7,122)),new L(28,new A(12,47),new A(26,48)),new L(30,new A(39,24),new A(14,25)),new L(30,new A(22,15),new A(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new L(30,new A(6,121),new A(14,122)),new L(28,new A(6,47),new A(34,48)),new L(30,new A(46,24),new A(10,25)),new L(30,new A(2,15),new A(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new L(30,new A(17,122),new A(4,123)),new L(28,new A(29,46),new A(14,47)),new L(30,new A(49,24),new A(10,25)),new L(30,new A(24,15),new A(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new L(30,new A(4,122),new A(18,123)),new L(28,new A(13,46),new A(32,47)),new L(30,new A(48,24),new A(14,25)),new L(30,new A(42,15),new A(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new L(30,new A(20,117),new A(4,118)),new L(28,new A(40,47),new A(7,48)),new L(30,new A(43,24),new A(22,25)),new L(30,new A(10,15),new A(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new L(30,new A(19,118),new A(6,119)),new L(28,new A(18,47),new A(31,48)),new L(30,new A(34,24),new A(34,25)),new L(30,new A(20,15),new A(61,16)))],t}(),Vt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Vt||(Vt={}));var ug=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Vt.DATA_MASK_000,new t(Vt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Vt.DATA_MASK_001,new t(Vt.DATA_MASK_001,function(e,r){return(e&1)===0})],[Vt.DATA_MASK_010,new t(Vt.DATA_MASK_010,function(e,r){return r%3===0})],[Vt.DATA_MASK_011,new t(Vt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Vt.DATA_MASK_100,new t(Vt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Vt.DATA_MASK_101,new t(Vt.DATA_MASK_101,function(e,r){return e*r%6===0})],[Vt.DATA_MASK_110,new t(Vt.DATA_MASK_110,function(e,r){return e*r%6<3})],[Vt.DATA_MASK_111,new t(Vt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),NA=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new ie;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=Cm.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ie},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Oa.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=Oa.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=Oa.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new ie},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=ug.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),l=0,u=0,f=0,c=i-1;c>0;c-=2){c===6&&c--;for(var h=0;h<i;h++)for(var d=o?i-1-h:h,p=0;p<2;p++)a.get(c-p,d)||(f++,u<<=1,this.bitMatrix.get(c-p,d)&&(u|=1),f===8&&(s[l++]=u,f=0,u=0));o=!o}if(l!==r.getTotalCodewords())throw new ie;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=ug.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),fg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DA=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new me;var l=r.getECBlocksForLevel(n),u=0,f=l.getECBlocks();try{for(var c=fg(f),h=c.next();!h.done;h=c.next()){var d=h.value;u+=d.getCount()}}catch(Q){i={error:Q}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var p=new Array(u),v=0;try{for(var _=fg(f),x=_.next();!x.done;x=_.next())for(var d=x.value,g=0;g<d.getCount();g++){var m=d.getDataCodewords(),y=l.getECCodewordsPerBlock()+m;p[v++]=new t(m,new Uint8Array(y))}}catch(Q){o={error:Q}}finally{try{x&&!x.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}for(var C=p[0].codewords.length,D=p.length-1;D>=0;){var E=p[D].codewords.length;if(E===C)break;D--}D++;for(var R=C-l.getECCodewordsPerBlock(),F=0,g=0;g<R;g++)for(var k=0;k<v;k++)p[k].codewords[g]=e[F++];for(var k=D;k<v;k++)p[k].codewords[R]=e[F++];for(var G=p[0].codewords.length,g=R;g<G;g++)for(var k=0;k<v;k++){var z=k<D?g:g+1;p[k].codewords[z]=e[F++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),fn;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(fn||(fn={}));var ft=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new me;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(fn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(fn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(fn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(fn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(fn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(fn.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(fn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(fn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(fn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(fn.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),RA=function(){function t(){}return t.decode=function(e,r,n,i){var a=new Em(e),o=new Ae,s=new Array,l=-1,u=-1;try{var f=null,c=!1,h=void 0;do{if(a.available()<4)h=ft.TERMINATOR;else{var d=a.readBits(4);h=ft.forBits(d)}switch(h){case ft.TERMINATOR:break;case ft.FNC1_FIRST_POSITION:case ft.FNC1_SECOND_POSITION:c=!0;break;case ft.STRUCTURED_APPEND:if(a.available()<16)throw new ie;l=a.readBits(8),u=a.readBits(8);break;case ft.ECI:var p=t.parseECIValue(a);if(f=Lt.getCharacterSetECIByValue(p),f===null)throw new ie;break;case ft.HANZI:var v=a.readBits(4),_=a.readBits(h.getCharacterCountBits(r));v===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,_);break;default:var x=a.readBits(h.getCharacterCountBits(r));switch(h){case ft.NUMERIC:t.decodeNumericSegment(a,o,x);break;case ft.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,x,c);break;case ft.BYTE:t.decodeByteSegment(a,o,x,f,s,i);break;case ft.KANJI:t.decodeKanjiSegment(a,o,x);break;default:throw new ie}break}}while(h!==ft.TERMINATOR)}catch{throw new ie}return new g0(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),l,u)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new ie;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(xn.decode(i,Fe.GB2312))}catch(l){throw new ie(l)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new ie;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(xn.decode(i,Fe.SHIFT_JIS))}catch(l){throw new ie(l)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new ie;for(var s=new Uint8Array(n),l=0;l<n;l++)s[l]=e.readBits(8);var u;i===null?u=Fe.guessEncoding(s,o):u=i.getName();try{r.append(xn.decode(s,u))}catch(f){throw new ie(f)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new ie;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new ie;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new ie;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new ie;var i=e.readBits(10);if(i>=1e3)throw new ie;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new ie;var a=e.readBits(7);if(a>=100)throw new ie;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new ie;var o=e.readBits(4);if(o>=10)throw new ie;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new ie},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),Sm=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),cg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},PA=function(){function t(){this.rsDecoder=new x0(Lr.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Zn.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new NA(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new Sm(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=DA.getDataBlocks(u,s,l),c=0;try{for(var h=cg(f),d=h.next();!d.done;d=h.next()){var p=d.value;c+=p.getNumDataCodewords()}}catch(D){n={error:D}}finally{try{d&&!d.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var v=new Uint8Array(c),_=0;try{for(var x=cg(f),g=x.next();!g.done;g=x.next()){var p=g.value,m=p.getCodewords(),y=p.getNumDataCodewords();this.correctErrors(m,y);for(var C=0;C<y;C++)v[_++]=m[C]}}catch(D){a={error:D}}finally{try{g&&!g.done&&(o=x.return)&&o.call(x)}finally{if(a)throw a.error}}return RA.decode(v,s,l,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new $t}for(var i=0;i<r;i++)e[i]=n[i]},t}(),FA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kA=function(t){FA(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(de),MA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},bA=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,l=0;l<r;l++){var u=a+(l&1?-Math.floor((l+1)/2):Math.floor((l+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var f=e;f<i&&!s.get(f,u);)f++;for(var c=0;f<i;){if(s.get(f,u))if(c===1)o[1]++;else if(c===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,f);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,c=1}else o[++c]++;else c===1&&c++,o[c]++;f++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,u,i);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new X},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var l=e;l>=0&&a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&!a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l)&&s[1]<=n;)s[1]++,l++;if(l===o||s[1]>n)return NaN;for(;l<o&&!a.get(r,l)&&s[2]<=n;)s[2]++,l++;if(s[2]>n)return NaN;var u=s[0]+s[1]+s[2];return 5*Math.abs(u-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),l=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(l)){var u=(e[0]+e[1]+e[2])/3;try{for(var f=MA(this.possibleCenters),c=f.next();!c.done;c=f.next()){var h=c.value;if(h.aboutEquals(u,l,s))return h.combineEstimate(l,s,u)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var d=new kA(s,l,u);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null},t}(),LA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),BA=function(t){LA(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,l=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,l,a)},e}(de),UA=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),Es=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},HA=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(vt.TRY_HARDER)!==void 0,n=e!=null&&e.get(vt.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var l=!1,u=new Int32Array(5),f=s-1;f<a&&!l;f+=s){u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0;for(var c=0,h=0;h<o;h++)if(i.get(h,f))(c&1)===1&&c++,u[c]++;else if(c&1)u[c]++;else if(c===4)if(t.foundPatternCross(u)){var d=this.handlePossibleCenter(u,f,h,n);if(d===!0)if(s=2,this.hasSkipped===!0)l=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>u[2]&&(f+=p-u[2]-s,h=o-1)}else{u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,c=3;continue}c=0,u[0]=0,u[1]=0,u[2]=0,u[3]=0,u[4]=0}else u[0]=u[2],u[1]=u[3],u[2]=u[4],u[3]=1,u[4]=0,c=3;else u[++c]++;if(t.foundPatternCross(u)){var d=this.handlePossibleCenter(u,f,o,n);d===!0&&(s=u[0],this.hasSkipped&&(l=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return de.orderBestPatterns(v),new UA(v)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var l=s.getHeight(),u=s.getWidth();for(o=1;e+o<l&&r+o<u&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=l||r+o>=u)return!1;for(;e+o<l&&r+o<u&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=l||r+o>=u||a[3]>=n)return!1;for(;e+o<l&&r+o<u&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var f=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(f-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(r,l);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(r,l)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(r,l)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(r,l);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(r,l)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(r,l)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),l=e;l>=0&&a.get(l,r);)s[2]++,l--;if(l<0)return NaN;for(;l>=0&&!a.get(l,r)&&s[1]<=n;)s[1]++,l--;if(l<0||s[1]>n)return NaN;for(;l>=0&&a.get(l,r)&&s[0]<=n;)s[0]++,l--;if(s[0]>n)return NaN;for(l=e+1;l<o&&a.get(l,r);)s[2]++,l++;if(l===o)return NaN;for(;l<o&&!a.get(l,r)&&s[3]<n;)s[3]++,l++;if(l===o||s[3]>=n)return NaN;for(;l<o&&a.get(l,r)&&s[4]<n;)s[4]++,l++;if(s[4]>=n)return NaN;var u=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(u-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,l):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var l=a/7,u=!1,f=this.possibleCenters,c=0,h=f.length;c<h;c++){var d=f[c];if(d.aboutEquals(l,s,o)){f[c]=d.combineEstimate(s,o,l),u=!0;break}}if(!u){var p=new BA(o,s,l);f.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=Es(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var l=Es(this.possibleCenters),u=l.next();!u.done;u=l.next()){var f=u.value;f.getCount()>=t.CENTER_QUORUM&&(a++,o+=f.getEstimatedModuleSize())}}catch(v){e={error:v}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}if(a<3)return!1;var c=o/s,h=0;try{for(var d=Es(this.possibleCenters),p=d.next();!p.done;p=d.next()){var f=p.value;h+=Math.abs(f.getEstimatedModuleSize()-c)}}catch(v){n={error:v}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}return h<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new X;var o=this.possibleCenters,s;if(a>3){var l=0,u=0;try{for(var f=Es(this.possibleCenters),c=f.next();!c.done;c=f.next()){var h=c.value,d=h.getEstimatedModuleSize();l+=d,u+=d*d}}catch(C){e={error:C}}finally{try{c&&!c.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}s=l/a;var p=Math.sqrt(u/a-s*s);o.sort(function(C,D){var E=Math.abs(D.getEstimatedModuleSize()-s),R=Math.abs(C.getEstimatedModuleSize()-s);return E<R?-1:E>R?1:0});for(var v=Math.max(.2*s,p),_=0;_<o.length&&o.length>3;_++){var x=o[_];Math.abs(x.getEstimatedModuleSize()-s)>v&&(o.splice(_,1),_--)}}if(o.length>3){var l=0;try{for(var g=Es(o),m=g.next();!m.done;m=g.next()){var y=m.value;l+=y.getEstimatedModuleSize()}}catch(D){n={error:D}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}s=l/o.length,o.sort(function(D,E){if(E.getCount()===D.getCount()){var R=Math.abs(E.getEstimatedModuleSize()-s),F=Math.abs(D.getEstimatedModuleSize()-s);return R<F?1:R>F?-1:0}else return E.getCount()-D.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),WA=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(vt.NEED_RESULT_POINT_CALLBACK);var r=new HA(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new X("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=Oa.getProvisionalVersionForDimension(o),l=s.getDimensionForVersion()-7,u=null;if(s.getAlignmentPatternCenters().length>0)for(var f=n.getX()-r.getX()+i.getX(),c=n.getY()-r.getY()+i.getY(),h=1-3/l,d=Math.floor(r.getX()+h*(f-r.getX())),p=Math.floor(r.getY()+h*(c-r.getY())),v=4;v<=16;v<<=1)try{u=this.findAlignmentInRegion(a,d,p,v);break}catch(m){if(!(m instanceof X))throw m}var _=t.createTransform(r,n,i,u,o),x=t.sampleGrid(this.image,_,o),g;return u===null?g=[i,r,n]:g=[i,r,n,u],new xd(x,g)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,l,u,f;return i!==null?(s=i.getX(),l=i.getY(),u=o-3,f=u):(s=r.getX()-e.getX()+n.getX(),l=r.getY()-e.getY()+n.getY(),u=o,f=o),_m.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,u,f,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,l,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=_d.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=Be.round(de.distance(e,r)/i),o=Be.round(de.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new X("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var l=Math.floor(r-(i-r)*o);return o=1,l<0?(o=r/(r-l),l=0):l>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(l-r),l=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,l),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),l=Math.abs(i-r),u=-s/2,f=e<n?1:-1,c=r<i?1:-1,h=0,d=n+f,p=e,v=r;p!==d;p+=f){var _=a?v:p,x=a?p:v;if(h===1===this.image.get(_,x)){if(h===2)return Be.distance(p,v,e,r);h++}if(u+=l,u>0){if(v===i)break;v+=c,u-=s}}return h===2?Be.distance(n+f,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new X("Alignment top exceeds estimated module size.");var l=Math.max(0,n-a),u=Math.min(this.image.getHeight()-1,n+a);if(u-l<e*3)throw new X("Alignment bottom exceeds estimated module size.");var f=new bA(this.image,o,l,s-o,u-l,e,this.resultPointCallback);return f.find()},t}(),zh=function(){function t(){this.decoder=new PA}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(vt.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new WA(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof Sm&&n.getOther().applyMirroredCorrection(i);var s=new Er(n.getText(),n.getRawBytes(),void 0,i,_e.QR_CODE,void 0),l=n.getByteSegments();l!==null&&s.putMetadata(lr.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!==null&&s.putMetadata(lr.ERROR_CORRECTION_LEVEL,u),n.hasStructuredAppend()&&(s.putMetadata(lr.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(lr.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new X;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],l=n[0];if(s>=l||a>=o)throw new X;if(o-a!==l-s&&(l=s+(o-a),l>=e.getWidth()))throw new X;var u=Math.round((l-s+1)/i),f=Math.round((o-a+1)/i);if(u<=0||f<=0)throw new X;if(f!==u)throw new X;var c=Math.floor(i/2);a+=c,s+=c;var h=s+Math.floor((u-1)*i)-l;if(h>0){if(h>c)throw new X;s-=h}var d=a+Math.floor((f-1)*i)-o;if(d>0){if(d>c)throw new X;a-=d}for(var p=new Zn(u,f),v=0;v<f;v++)for(var _=a+Math.floor(v*i),x=0;x<u;x++)e.get(s+Math.floor(x*i),_)&&p.set(x,v);return p},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,l=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++l===5)break;s=!s}a++,o++}if(a===i||o===n)throw new X;return(a-e[0])/7},t.NO_POINTS=new Array,t}(),VA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Me=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Be.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=VA(e),s=o.next();!s.done;s=o.next()){var l=s.value;i[a++]=l}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Bt.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),GA=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),zA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jA=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new GA(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,l=!1;o<r.getHeight();){var u=t.findVertices(r,o,s);if(u[0]==null&&u[3]==null){if(!l)break;l=!1,s=0;try{for(var f=(n=void 0,zA(a)),c=f.next();!c.done;c=f.next()){var h=c.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(d){n={error:d}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(l=!0,a.push(u),!e)break;u[2]!=null?(s=Math.trunc(u[2].getX()),o=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),o=Math.trunc(u[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),l=!1,u=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var f=t.findGuardPattern(e,a,i,n,!1,o,u);if(f!=null){for(;i>0;){var c=t.findGuardPattern(e,a,--i,n,!1,o,u);if(c!=null)f=c;else{i++;break}}s[0]=new de(f[0],i),s[1]=new de(f[1],i),l=!0;break}}var h=i+1;if(l){for(var d=0,c=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);h<r;h++){var f=t.findGuardPattern(e,c[0],h,n,!1,o,u);if(f!=null&&Math.abs(c[0]-f[0])<t.MAX_PATTERN_DRIFT&&Math.abs(c[1]-f[1])<t.MAX_PATTERN_DRIFT)c=f,d=0;else{if(d>t.SKIPPED_ROW_COUNT_MAX)break;d++}}h-=d+1,s[2]=new de(c[0],h),s[3]=new de(c[1],h)}return h-i<t.BARCODE_MIN_HEIGHT&&Bt.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Bt.fillWithin(s,0,s.length,0);for(var l=r,u=0;e.get(l,n)&&l>0&&u++<t.MAX_PIXEL_DRIFT;)l--;for(var f=l,c=0,h=o.length,d=a;f<i;f++){var p=e.get(f,n);if(p!==d)s[c]++;else{if(c===h-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([l,f]);l+=s[0]+s[1],ot.arraycopy(s,2,s,0,c-1),s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,d=!d}}return c===h-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([l,f-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var l=a/o;n*=l;for(var u=0,f=0;f<i;f++){var c=e[f],h=r[f]*l,d=c>h?c-h:h-c;if(d>n)return 1/0;u+=d}return u/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),XA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ca=function(){function t(e,r){if(r.length===0)throw new me;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),ot.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=XA(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var l=this.coefficients[0],u=this.coefficients.length,f=1;f<u;f++)l=this.field.add(this.field.multiply(e,l),this.coefficients[f]);return l},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new me("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;ot.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new me("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new me("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var l=r[s],u=0;u<a;u++)o[s+u]=this.field.add(o[s+u],this.field.multiply(l,i[u]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new me;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Ae,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),$A=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new me;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new xm;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),YA=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KA=function(t){YA(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new Ca(i,new Int32Array([0])),i.one=new Ca(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new me;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Ca(this,i)},e.PDF417_GF=new e(Me.NUMBER_OF_CODEWORDS,3),e}($A),ZA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},QA=function(){function t(){this.field=KA.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new Ca(this.field,e),s=new Int32Array(r),l=!1,u=r;u>0;u--){var f=o.evaluateAt(this.field.exp(u));s[r-u]=f,f!==0&&(l=!0)}if(!l)return 0;var c=this.field.getOne();if(n!=null)try{for(var h=ZA(n),d=h.next();!d.done;d=h.next()){var p=d.value,v=this.field.exp(e.length-1-p),_=new Ca(this.field,new Int32Array([this.field.subtract(0,v),1]));c=c.multiply(_)}}catch(R){i={error:R}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}for(var x=new Ca(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),m=g[0],y=g[1],C=this.findErrorLocations(m),D=this.findErrorMagnitudes(y,m,C),u=0;u<C.length;u++){var E=e.length-1-this.field.log(C[u]);if(E<0)throw $t.getChecksumInstance();e[E]=this.field.subtract(e[E],D[u])}return C.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),l=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=a,f=s;if(a=o,s=l,a.isZero())throw $t.getChecksumInstance();o=u;for(var c=this.field.getZero(),h=a.getCoefficient(a.getDegree()),d=this.field.inverse(h);o.getDegree()>=a.getDegree()&&!o.isZero();){var p=o.getDegree()-a.getDegree(),v=this.field.multiply(o.getCoefficient(o.getDegree()),d);c=c.add(this.field.buildMonomial(p,v)),o=o.subtract(a.multiplyByMonomial(p,v))}l=c.multiply(s).subtract(f).negative()}var _=l.getCoefficient(0);if(_===0)throw $t.getChecksumInstance();var x=this.field.inverse(_),g=l.multiply(x),m=o.multiply(x);return[g,m]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw $t.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new Ca(this.field,a),l=n.length,u=new Int32Array(l),o=0;o<l;o++){var f=this.field.inverse(n[o]),c=this.field.subtract(0,e.evaluateAt(f)),h=this.field.inverse(s.evaluateAt(f));u[o]=this.field.multiply(c,h)}return u},t}(),jh=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new X;o?(r=new de(0,i.getY()),n=new de(0,a.getY())):s&&(i=new de(e.getWidth()-1,r.getY()),a=new de(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var l=n?this.topLeft:this.topRight,u=Math.trunc(l.getY()-e);u<0&&(u=0);var f=new de(l.getX(),u);n?i=f:o=f}if(r>0){var c=n?this.bottomLeft:this.bottomRight,h=Math.trunc(c.getY()+r);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var d=new de(c.getX(),h);n?a=d:s=d}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),qA=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),yd=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,l,u,f,c){if(o==="%%")return"%";if(r[++n]!==void 0){o=u?parseInt(u.substr(1)):void 0;var h=f?parseInt(f.substr(1)):void 0,d;switch(c){case"s":d=r[n];break;case"c":d=r[n][0];break;case"f":d=parseFloat(r[n]).toFixed(o);break;case"p":d=parseFloat(r[n]).toPrecision(o);break;case"e":d=parseFloat(r[n]).toExponential(o);break;case"x":d=parseInt(r[n]).toString(h||16);break;case"d":d=parseFloat(parseInt(r[n],h||10).toPrecision(o)).toFixed(0);break}d=typeof d=="object"?JSON.stringify(d):(+d).toString(h);for(var p=parseInt(l),v=l&&l[0]+""=="0"?"0":" ";d.length<p;)d=s!==void 0?d+v:v+d;return d}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),JA=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Am=function(){function t(e){this.boundingBox=new jh(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new yd,i=0;try{for(var a=JA(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(l){e={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),eT=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tT=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},bs=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(c,h){var d={getKey:function(){return c},getValue:function(){return h}};d.getValue()>n?(n=d.getValue(),i=[],i.push(d.getKey())):d.getValue()===n&&i.push(d.getKey())};try{for(var o=eT(this.values.entries()),s=o.next();!s.done;s=o.next()){var l=tT(s.value,2),u=l[0],f=l[1];a(u,f)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return Me.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),rT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hg=function(t){rT(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=xc(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.imageRowToCodewordIndex(Math.trunc(o.getY())),u=-1,f=1,c=0,h=s;h<l;h++)if(n[h]!=null){var d=n[h],p=d.getRowNumber()-u;if(p===0)c++;else if(p===1)f=Math.max(f,c),c=1,u=d.getRowNumber();else if(p<0||d.getRowNumber()>=r.getRowCount()||p>h)n[h]=null;else{var v=void 0;f>2?v=(f-2)*p:v=p;for(var _=v>=h,x=1;x<=v&&!_;x++)_=n[h-x]!=null;_?n[h]=null:(u=d.getRowNumber(),c=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=xc(this.getCodewords()),s=o.next();!s.done;s=o.next()){var l=s.value;if(l!=null){var u=l.getRowNumber();if(u>=a.length)continue;a[u]++}}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=this.getCodewords(),u=-1,f=o;f<s;f++)if(l[f]!=null){var c=l[f];c.setRowNumberAsRowIndicatorColumn();var h=c.getRowNumber()-u;h===0||(h===1?u=c.getRowNumber():c.getRowNumber()>=r.getRowCount()?l[f]=null:u=c.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new bs,o=new bs,s=new bs,l=new bs;try{for(var u=xc(i),f=u.next();!f.done;f=u.next()){var c=f.value;if(c!=null){c.setRowNumberAsRowIndicatorColumn();var h=c.getValue()%30,d=c.getRowNumber();switch(this._isLeft||(d+=2),d%3){case 0:o.setValue(h*3+1);break;case 1:l.setValue(h/3),s.setValue(h%3);break;case 2:a.setValue(h+1);break}}}}catch(v){r={error:v}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||l.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Me.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Me.MAX_ROWS_IN_BARCODE)return null;var p=new qA(a.getValue()[0],o.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Am),nT=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},iT=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=Me.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),l=s;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());var u=new Array(14);u[2]=s[r],u[3]=l[r],r>0&&(u[0]=n[r-1],u[4]=s[r-1],u[5]=l[r-1]),r>1&&(u[8]=n[r-2],u[10]=s[r-2],u[11]=l[r-2]),r<n.length-1&&(u[1]=n[r+1],u[6]=s[r+1],u[7]=l[r+1]),r<n.length-2&&(u[9]=n[r+2],u[12]=s[r+2],u[13]=l[r+2]);try{for(var f=nT(u),c=f.next();!c.done;c=f.next()){var h=c.value;if(t.adjustRowNumber(o,h))return}}catch(d){i={error:d}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new yd,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}(),aT=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),oT=function(){function t(){}return t.initialize=function(){for(var e=0;e<Me.SYMBOL_TABLE.length;e++)for(var r=Me.SYMBOL_TABLE[e],n=r&1,i=0;i<Me.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Me.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Me.BARS_IN_MODULE-i-1]=Math.fround(a/Me.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Be.sum(e),n=new Int32Array(Me.BARS_IN_MODULE),i=0,a=0,o=0;o<Me.MODULES_IN_CODEWORD;o++){var s=r/(2*Me.MODULES_IN_CODEWORD)+o*r/Me.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Me.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Be.sum(e),n=new Array(Me.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=Uh.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var l=0,u=t.RATIOS_TABLE[s],f=0;f<Me.BARS_IN_MODULE;f++){var c=Math.fround(u[f]-n[f]);if(l+=Math.fround(c*c),l>=a)break}l<a&&(a=l,o=Me.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Me.SYMBOL_TABLE.length).map(function(e){return new Array(Me.BARS_IN_MODULE)}),t}(),sT=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),dg=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),lT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uT=function(t){lT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Kr),fT=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new uT;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new vd;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),cT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hT=function(t){cT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Kr),dT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pT=function(t){dT(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new me("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new hT;i=Te.MAX_VALUE}this.buf=Bt.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new vd;this.ensureCapacity(this.count+i),ot.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Bt.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(fT),Je;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Je||(Je={}));function Tm(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Eu;function Ri(t){if(typeof Eu>"u"&&(Eu=Tm()),Eu===null)throw new Error("BigInt is not supported!");return Eu(t)}function vT(){var t=[];t[0]=Ri(1);var e=Ri(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var gT=function(){function t(){}return t.decode=function(e,r){var n=new Ae(""),i=Lt.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new sT;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:Lt.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ie;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw ie.getFormatInstance()}if(n.length()===0)throw ie.getFormatInstance();var l=new g0(null,n.toString(),null,r);return l.setOther(s),l},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ie.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(Te.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Ae;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var l=new Ae;r=t.textCompaction(e,r+1,l),n.setFileName(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var u=new Ae;r=t.textCompaction(e,r+1,u),n.setSender(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var f=new Ae;r=t.textCompaction(e,r+1,f),n.setAddressee(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var c=new Ae;r=t.numericCompaction(e,r+1,c),n.setSegmentCount(Te.parseInt(c.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Ae;r=t.numericCompaction(e,r+1,h),n.setTimestamp(dg.parseLong(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var d=new Ae;r=t.numericCompaction(e,r+1,d),n.setChecksum(Te.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Ae;r=t.numericCompaction(e,r+1,p),n.setFileSize(dg.parseLong(p.toString()));break;default:throw ie.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ie.getFormatInstance()}if(s!==-1){var v=r-s;n.isLastSegment()&&v--,n.setOptionalData(Bt.copyOfRange(e,s,s+v))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var l=e[r++];if(l<t.TEXT_COMPACTION_MODE_LATCH)i[o]=l/30,i[o+1]=l%30,o+=2;else switch(l){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,l=e[r++],a[o]=l,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Je.ALPHA,o=Je.ALPHA,s=0;s<n;){var l=e[s],u="";switch(a){case Je.ALPHA:if(l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.LL:a=Je.LOWER;break;case t.ML:a=Je.MIXED;break;case t.PS:o=a,a=Je.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.LOWER:if(l<26)u=String.fromCharCode(97+l);else switch(l){case 26:u=" ";break;case t.AS:o=a,a=Je.ALPHA_SHIFT;break;case t.ML:a=Je.MIXED;break;case t.PS:o=a,a=Je.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.MIXED:if(l<t.PL)u=t.MIXED_CHARS[l];else switch(l){case t.PL:a=Je.PUNCT;break;case 26:u=" ";break;case t.LL:a=Je.LOWER;break;case t.AL:a=Je.ALPHA;break;case t.PS:o=a,a=Je.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.PUNCT:if(l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Je.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.ALPHA_SHIFT:if(a=o,l<26)u=String.fromCharCode(65+l);else switch(l){case 26:u=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break;case Je.PUNCT_SHIFT:if(a=o,l<t.PAL)u=t.PUNCT_CHARS[l];else switch(l){case t.PAL:a=Je.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Je.ALPHA;break}break}u!==""&&i.append(u),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new pT,s=0,l=0,u=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var f=new Int32Array(6),c=r[i++];i<r[0]&&!u;)switch(f[s++]=c,l=900*l+c,c=r[i++],c){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break;default:if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Ri(l)>>Ri(8*(5-h))));l=0,s=0}break}i===r[0]&&c<t.TEXT_COMPACTION_MODE_LATCH&&(f[s++]=c);for(var d=0;d<s;d++)o.write(f[d]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!u;){var p=r[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,l=900*l+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,u=!0;break}if(s%5===0&&s>0){for(var h=0;h<6;++h)o.write(Number(Ri(l)>>Ri(8*(5-h))));l=0,s=0}}break}return a.append(xn.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=Ri(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*Ri(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new ie;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=Tm()?vT():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Cs=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},xT=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var l=new jh(e,r,n,i,a),u=null,f=null,c,h=!0;;h=!1){if(r!=null&&(u=t.getRowIndicatorColumn(e,l,r,!0,o,s)),i!=null&&(f=t.getRowIndicatorColumn(e,l,i,!1,o,s)),c=t.merge(u,f),c==null)throw X.getNotFoundInstance();var d=c.getBoundingBox();if(h&&d!=null&&(d.getMinY()<l.getMinY()||d.getMaxY()>l.getMaxY()))l=d;else break}c.setBoundingBox(l);var p=c.getBarcodeColumnCount()+1;c.setDetectionResultColumn(0,u),c.setDetectionResultColumn(p,f);for(var v=u!=null,_=1;_<=p;_++){var x=v?_:p-_;if(c.getDetectionResultColumn(x)===void 0){var g=void 0;x===0||x===p?g=new hg(l,x===0):g=new Am(l),c.setDetectionResultColumn(x,g);for(var m=-1,y=m,C=l.getMinY();C<=l.getMaxY();C++){if(m=t.getStartColumn(c,x,C,v),m<0||m>l.getMaxX()){if(y===-1)continue;m=y}var D=t.detectCodeword(e,l.getMinX(),l.getMaxX(),v,m,C,o,s);D!=null&&(g.setCodeword(C,D),y=m,o=Math.min(o,D.getWidth()),s=Math.max(s,D.getWidth()))}}}return t.createDecoderResult(c)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=jh.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new iT(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=Cs(i),l=s.next();!l.done;l=s.next()){var u=l.value;if(o+=a-u,u>0)break}}catch(d){r={error:d}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var f=e.getCodewords(),c=0;o>0&&f[c]==null;c++)o--;for(var h=0,c=i.length-1;c>=0&&(h+=a-i[c],!(i[c]>0));c--);for(var c=f.length-1;h>0&&f[c]==null;c--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=Cs(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new hg(r,i),l=0;l<2;l++)for(var u=l===0?1:-1,f=Math.trunc(Math.trunc(n.getX())),c=Math.trunc(Math.trunc(n.getY()));c<=r.getMaxY()&&c>=r.getMinY();c+=u){var h=t.detectCodeword(e,0,e.getWidth(),i,f,c,a,o);h!=null&&(s.setCodeword(c,h),i?f=h.getStartX():f=h.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>Me.MAX_CODEWORDS_IN_BARCODE)throw X.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var l=0;l<e.getBarcodeColumnCount();l++){var u=r[s][l+1].getValue(),f=s*e.getBarcodeColumnCount()+l;u.length===0?n.push(f):u.length===1?i[f]=u[0]:(o.push(f),a.push(u))}for(var c=new Array(a.length),h=0;h<c.length;h++)c[h]=a[h];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,Me.toIntArray(n),Me.toIntArray(o),c)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var l=0;l<o.length;l++)r[i[l]]=a[l][o[l]];try{return t.decodeCodewords(r,e,n)}catch(f){var u=f instanceof $t;if(!u)throw f}if(o.length===0)throw $t.getChecksumInstance();for(var l=0;l<o.length;l++)if(o[l]<a[l].length-1){o[l]++;break}else if(o[l]=0,l===o.length-1)throw $t.getChecksumInstance()}throw $t.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var l=0;l<o[s].length;l++)o[s][l]=new bs;var u=0;try{for(var f=Cs(e.getDetectionResultColumns()),c=f.next();!c.done;c=f.next()){var h=c.value;if(h!=null)try{for(var d=(i=void 0,Cs(h.getCodewords())),p=d.next();!p.done;p=d.next()){var v=p.value;if(v!=null){var _=v.getRowNumber();if(_>=0){if(_>=o.length)continue;o[_][u].setValue(v.getValue())}}}}catch(x){i={error:x}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}u++}}catch(x){r={error:x}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,l=null;if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(r).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(l=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();for(var u=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var f=(a=void 0,Cs(e.getDetectionResultColumn(r).getCodewords())),c=f.next();!c.done;c=f.next()){var h=c.value;if(h!=null)return(i?h.getEndX():h.getStartX())+s*u*(h.getEndX()-h.getStartX())}}catch(d){a={error:d}}finally{try{c&&!c.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}u++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,l){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var u=t.getModuleBitCount(e,r,n,i,a,o);if(u==null)return null;var f,c=Be.sum(u);if(i)f=a+c;else{for(var h=0;h<u.length/2;h++){var d=u[h];u[h]=u[u.length-1-h],u[u.length-1-h]=d}f=a,a=f-c}if(!t.checkCodewordSkew(c,s,l))return null;var p=oT.getDecodedValue(u),v=Me.getCodeword(p);return v===-1?null:new aT(a,f,t.getCodewordBucketNumber(p),v)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,l=new Int32Array(8),u=0,f=i?1:-1,c=i;(i?s<n:s>=r)&&u<l.length;)e.get(s,o)===c?(l[u]++,s+=f):(u++,c=!c);return u===l.length||s===(i?n:r)&&u===l.length-1?l:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,l=i?-1:1,u=0;u<2;u++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=l}l=-l,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw ie.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=gT.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw $t.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw ie.getFormatInstance();var n=e[0];if(n>e.length)throw ie.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw ie.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new yd,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new QA,t}(),_T=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xh=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw X.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ie||n instanceof $t?X.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=jA.detectMultiple(e,r,n);try{for(var l=_T(s.getPoints()),u=l.next();!u.done;u=l.next()){var f=u.value,c=xT.decode(s.getBits(),f[4],f[5],f[6],f[7],t.getMinCodewordWidth(f),t.getMaxCodewordWidth(f)),h=new Er(c.getText(),c.getRawBytes(),void 0,f,_e.PDF_417);h.putMetadata(lr.ERROR_CORRECTION_LEVEL,c.getECLevel());var d=c.getOther();d!=null&&h.putMetadata(lr.PDF417_EXTRA_METADATA,d),o.push(h)}}catch(p){i={error:p}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o.map(function(p){return p})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?Te.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),mT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pg=function(t){mT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Kr),vg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yT=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(vt.TRY_HARDER)!==void 0,n=e==null?null:e.get(vt.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===_e.UPC_A||o===_e.UPC_E||o===_e.EAN_13||o===_e.EAN_8||o===_e.CODABAR||o===_e.CODE_39||o===_e.CODE_93||o===_e.CODE_128||o===_e.ITF||o===_e.RSS_14||o===_e.RSS_EXPANDED});a&&!r&&i.push(new Ms(e)),n.includes(_e.QR_CODE)&&i.push(new zh),n.includes(_e.DATA_MATRIX)&&i.push(new Gh),n.includes(_e.AZTEC)&&i.push(new Wh),n.includes(_e.PDF_417)&&i.push(new Xh),a&&r&&i.push(new Ms(e))}i.length===0&&(r||i.push(new Ms(e)),i.push(new zh),i.push(new Gh),i.push(new Wh),i.push(new Xh),r&&i.push(new Ms(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=vg(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new pg("No readers where selected, nothing can be read.");try{for(var i=vg(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof pg)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new X("No MultiFormat Readers were able to detect the code.")},t}(),wT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ET=function(t){wT(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new yT;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(ts),CT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){CT(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new Xh,r)||this}return e})(ts);var ST=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){ST(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new zh,r)||this}return e})(ts);var $h;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})($h||($h={}));const Cu=$h;var Im=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Xi(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new Xi(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new me("No error correction bytes");var n=e.length-r;if(n<=0)throw new me("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);ot.arraycopy(e,0,a,0,n);var o=new Xi(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],l=s.getCoefficients(),u=r-l.length,f=0;f<u;f++)e[n+f]=0;ot.arraycopy(l,0,e,n+u,l.length)},t}(),Ls=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],l=0;l<i-1;l++){var u=s[l];u===s[l+1]&&u===n[o+1][l]&&u===n[o+1][l+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var l=n[o];s+6<i&&l[s]===1&&l[s+1]===0&&l[s+2]===1&&l[s+3]===1&&l[s+4]===1&&l[s+5]===0&&l[s+6]===1&&(t.isWhiteHorizontal(l,s-4,s)||t.isWhiteHorizontal(l,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],l=0;l<i;l++)s[l]===1&&r++;var u=e.getHeight()*e.getWidth(),f=Math.floor(Math.abs(r*2-u)*10/u);return f*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new me("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var l=0,u=-1,f=0;f<a;f++){var c=r?o[s][f]:o[f][s];c===u?l++:(l>=5&&(n+=t.N1+(l-5)),l=1,u=c)}l>=5&&(n+=t.N1+(l-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),AT=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TT=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=AT(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;Bt.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,l=this.width;s<l;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Ae,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Yh=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Ae;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),IT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ut=function(t){IT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Kr),gg=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new Zt;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),l=t.TYPE_INFO_COORDINATES[a],u=l[0],f=l[1];if(n.setBoolean(u,f,s),a<8){var c=n.getWidth()-a-1,h=8;n.setBoolean(c,h,s)}else{var c=8,h=n.getHeight()-7+(a-8);n.setBoolean(c,h,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new Zt;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var l=0;l<2;++l){var u=o-l;if(t.isEmpty(n.get(u,s))){var f=void 0;i<e.getSize()?(f=e.get(i),++i):f=!1,r!==255&&Ls.getDataMaskBit(r,u,s)&&(f=!f),n.setBoolean(u,s,f)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new ut("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-Te.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new me("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Yh.isValidMaskPattern(r))throw new ut("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new Zt;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new ut("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new ut("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new ut;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new ut;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new ut;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var l=0;l!==o;l++){var u=i[l];u>=0&&t.isEmpty(r.get(u,s))&&t.embedPositionAdjustmentPattern(u-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),OT=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),xg=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Ls.applyMaskPenaltyRule1(e)+Ls.applyMaskPenaltyRule2(e)+Ls.applyMaskPenaltyRule3(e)+Ls.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(Cu.CHARACTER_SET)!==void 0;a&&(i=n.get(Cu.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new Zt;if(o===ft.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var l=Lt.getCharacterSetECIByName(i);l!==void 0&&this.appendECI(l,s)}this.appendModeInfo(o,s);var u=new Zt;this.appendBytes(e,o,u,i);var f;if(n!==null&&n.get(Cu.QR_VERSION)!==void 0){var c=Number.parseInt(n.get(Cu.QR_VERSION).toString(),10);f=Oa.getVersionForNumber(c);var h=this.calculateBitsNeeded(o,s,u,f);if(!this.willFit(h,f,r))throw new ut("Data too big for requested version")}else f=this.recommendVersion(r,o,s,u);var d=new Zt;d.appendBitArray(s);var p=o===ft.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(p,f,o,d),d.appendBitArray(u);var v=f.getECBlocksForLevel(r),_=f.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(_,d);var x=this.interleaveWithECBytes(d,f.getTotalCodewords(),_,v.getNumBlocks()),g=new Yh;g.setECLevel(r),g.setMode(o),g.setVersion(f);var m=f.getDimensionForVersion(),y=new TT(m,m),C=this.chooseMaskPattern(x,r,f,y);return g.setMaskPattern(C),gg.buildMatrix(x,r,f,C,y),g.setMatrix(y),g},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,Oa.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Lt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return ft.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return ft.BYTE}return i?ft.ALPHANUMERIC:n?ft.NUMERIC:ft.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=xn.encode(e,Lt.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Yh.NUM_MASK_PATTERNS;s++){gg.buildMatrix(e,r,n,s,i);var l=this.calculateMaskPenalty(i);l<a&&(a=l,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=Oa.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new ut("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,l=(e+7)/8;return s>=l},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new ut("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new ut("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new ut("Block ID too large");var s=e%n,l=n-s,u=Math.floor(e/n),f=u+1,c=Math.floor(r/n),h=c+1,d=u-c,p=f-h;if(d!==p)throw new ut("EC bytes mismatch");if(n!==l+s)throw new ut("RS blocks mismatch");if(e!==(c+d)*l+(h+p)*s)throw new ut("Total bytes mismatch");i<l?(a[0]=c,o[0]=d):(a[0]=h,o[0]=p)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,l;if(e.getSizeInBytes()!==n)throw new ut("Number of bits and data bytes does not match");for(var u=0,f=0,c=0,h=new Array,d=0;d<i;++d){var p=new Int32Array(1),v=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,d,p,v);var _=p[0],x=new Uint8Array(_);e.toBytes(8*u,x,0,_);var g=t.generateECBytes(x,v[0]);h.push(new OT(x,g)),f=Math.max(f,_),c=Math.max(c,g.length),u+=p[0]}if(n!==u)throw new ut("Data bytes does not match offset");for(var m=new Zt,d=0;d<f;++d)try{for(var y=(a=void 0,xg(h)),C=y.next();!C.done;C=y.next()){var D=C.value,x=D.getDataBytes();d<x.length&&m.appendBits(x[d],8)}}catch(k){a={error:k}}finally{try{C&&!C.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}for(var d=0;d<c;++d)try{for(var E=(s=void 0,xg(h)),R=E.next();!R.done;R=E.next()){var D=R.value,g=D.getErrorCorrectionBytes();d<g.length&&m.appendBits(g[d],8)}}catch(k){s={error:k}}finally{try{R&&!R.done&&(l=E.return)&&l.call(E)}finally{if(s)throw s.error}}if(r!==m.getSizeInBytes())throw new ut("Interleaving error: "+r+" and "+m.getSizeInBytes()+" differ.");return m},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new Im(Lr.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new ut(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case ft.NUMERIC:t.appendNumericBytes(e,n);break;case ft.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case ft.BYTE:t.append8BitBytes(e,n,i);break;case ft.KANJI:t.appendKanjiBytes(e,n);break;default:throw new ut("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new ut;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new ut;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=xn.encode(e,n)}catch(l){throw new ut(l)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=xn.encode(e,Lt.SJIS)}catch(c){throw new ut(c)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,l=o<<8&4294967295|s,u=-1;if(l>=33088&&l<=40956?u=l-33088:l>=57408&&l<=60351&&(u=l-49472),u===-1)throw new ut("Invalid byte sequence");var f=(u>>8)*192+(u&255);r.appendBits(f,13)}},t.appendECI=function(e,r){r.appendBits(ft.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Lt.UTF8.getName(),t})();var NT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){NT(e,t);function e(r,n,i,a,o,s,l,u){var f=t.call(this,s,l)||this;if(f.yuvData=r,f.dataWidth=n,f.dataHeight=i,f.left=a,f.top=o,a+s>n||o+l>i)throw new me("Crop rectangle does not fit within image data.");return u&&f.reverseHorizontal(s,l),f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new me("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return ot.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ot.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;ot.arraycopy(this.yuvData,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var l=s*r,u=0;u<r;u++){var f=a[o+u*e.THUMBNAIL_SCALE_FACTOR]&255;i[l+u]=4278190080|f*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,l=o,u=o+r-1;l<s;l++,u--){var f=i[l];i[l]=i[u],i[u]=f}},e.prototype.invert=function(){return new gd(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(v0);var DT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){DT(e,t);function e(r,n,i,a,o,s,l){var u=t.call(this,n,i)||this;if(u.dataWidth=a,u.dataHeight=o,u.left=s,u.top=l,r.BYTES_PER_ELEMENT===4){for(var f=n*i,c=new Uint8ClampedArray(f),h=0;h<f;h++){var d=r[h],p=d>>16&255,v=d>>7&510,_=d&255;c[h]=(p+v+_)/4&255}u.luminances=c}else u.luminances=r;if(a===void 0&&(u.dataWidth=n),o===void 0&&(u.dataHeight=i),s===void 0&&(u.left=0),l===void 0&&(u.top=0),u.left+n>u.dataWidth||u.top+i>u.dataHeight)throw new me("Crop rectangle does not fit within image data.");return u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new me("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return ot.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return ot.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var l=s*r;ot.arraycopy(this.luminances,o,a,l,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new gd(this)},e})(v0);var RT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PT=function(t){RT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Lt),FT=function(){function t(){}return t.ISO_8859_1=Lt.ISO8859_1,t}(),Kh,kT=301,MT=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=kT);return{LOG:t,ALOG:e}};Kh=MT([],[]),Kh.LOG;Kh.ALOG;var _g;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(_g||(_g={}));var mg=129,Om=230,bT=231,LT=235,BT=236,UT=237,HT=238,WT=239,VT=240,_c=254,GT=254,yg="[)>05",wg="[)>06",Eg="",$e=0,rr=1,Tr=2,Ft=3,Gt=4,gr=5,zT=function(){function t(){}return t.prototype.getEncodingMode=function(){return $e},t.prototype.encode=function(e){var r=Dn.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=Dn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case gr:e.writeCodeword(bT),e.signalEncoderChange(gr);return;case rr:e.writeCodeword(Om),e.signalEncoderChange(rr);return;case Ft:e.writeCodeword(HT),e.signalEncoderChange(Ft);break;case Tr:e.writeCodeword(WT),e.signalEncoderChange(Tr);break;case Gt:e.writeCodeword(VT),e.signalEncoderChange(Gt);break;default:throw new Error("Illegal mode: "+i)}else Dn.isExtendedASCII(n)?(e.writeCodeword(LT),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(Dn.isDigit(e)&&Dn.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),jT=function(){function t(){}return t.prototype.getEncodingMode=function(){return gr},t.prototype.encode=function(e){var r=new Ae;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=Dn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange($e);break}}var a=r.length()-1,o=1,s=e.getCodewordCount()+a+o;e.updateSymbolInfo(s);var l=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||l)if(a<=249)r.setCharAt(0,Fe.getCharAt(a));else if(a<=1555)r.setCharAt(0,Fe.getCharAt(Math.floor(a/250)+249)),r.insert(1,Fe.getCharAt(a%250));else throw new Error("Message length not in valid ranges: "+a);for(var u=0,n=r.length();u<n;u++)e.writeCodeword(this.randomize255State(r.charAt(u).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),wd=function(){function t(){}return t.prototype.getEncodingMode=function(){return rr},t.prototype.encodeMaximal=function(e){for(var r=new Ae,n=0,i=e.pos,a=0;e.hasMoreCharacters();){var o=e.getCurrentChar();e.pos++,n=this.encodeChar(o,r),r.length()%3===0&&(i=e.pos,a=r.length())}if(a!==r.length()){var s=Math.floor(r.length()/3*2),l=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(l);var u=e.getSymbolInfo().getDataCapacity()-l,f=Math.floor(r.length()%3);(f===2&&u!==2||f===1&&(n>3||u!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(Om),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Ae;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),a=Math.floor(r.length()/3)*2,o=e.getCodewordCount()+a;e.updateSymbolInfo(o);var s=e.getSymbolInfo().getDataCapacity()-o;if(!e.hasMoreCharacters()){var l=new Ae;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,l,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,l,i);break}var u=r.length();if(u%3===0){var f=Dn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(f!==this.getEncodingMode()){e.signalEncoderChange($e);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var a=r.length(),o=r.toString().substring(0,a-i);r.setLengthToZero(),r.append(o),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,a=e.getCodewordCount()+n;e.updateSymbolInfo(a);var o=e.getSymbolInfo().getDataCapacity()-a;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(_c)}else if(o===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(_c),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(o>0||e.hasMoreCharacters())&&e.writeCodeword(_c)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange($e)},t.prototype.encodeChar=function(e,r){if(e===" ".charCodeAt(0))return r.append(3),1;if(e>="0".charCodeAt(0)&&e<="9".charCodeAt(0))return r.append(e-48+4),1;if(e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0))return r.append(e-65+14),1;if(e<" ".charCodeAt(0))return r.append(0),r.append(e),2;if(e<="/".charCodeAt(0))return r.append(1),r.append(e-33),2;if(e<="@".charCodeAt(0))return r.append(1),r.append(e-58+15),2;if(e<="_".charCodeAt(0))return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,a=new Ae;return a.append(n),a.append(i),a.toString()},t}(),XT=function(){function t(){}return t.prototype.getEncodingMode=function(){return Gt},t.prototype.encode=function(e){for(var r=new Ae;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var a=r.toString().substring(4);r.setLengthToZero(),r.append(a);var o=Dn.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){e.signalEncoderChange($e);break}}}r.append(Fe.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),a=e.getRemainingCharacters();if(a>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),a<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var o=n-1,s=this.encodeToCodewords(r.toString()),l=!e.hasMoreCharacters(),u=l&&o<=2;if(o<=2){e.updateSymbolInfo(e.getCodewordCount()+o);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(u=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}u?(e.resetSymbolInfo(),e.pos-=o):e.writeCodewords(s)}finally{e.signalEncoderChange($e)}},t.prototype.encodeChar=function(e,r){e>=" ".charCodeAt(0)&&e<="?".charCodeAt(0)?r.append(e):e>="@".charCodeAt(0)&&e<="^".charCodeAt(0)?r.append(Fe.getCharAt(e-64)):Dn.illegalCharacter(Fe.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,a=r>=3?e.charAt(2).charCodeAt(0):0,o=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(a<<6)+o,l=s>>16&255,u=s>>8&255,f=s&255,c=new Ae;return c.append(l),r>=2&&c.append(u),r>=3&&c.append(f),c.toString()},t}(),$T=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YT=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},He=function(){function t(e,r,n,i,a,o,s,l){s===void 0&&(s=0),l===void 0&&(l=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=a,this.dataRegions=o,this.rsBlockData=s,this.rsBlockError=l}return t.lookup=function(e,r,n,i,a){var o,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!0);try{for(var l=YT(ZT),u=l.next();!u.done;u=l.next()){var f=u.value;if(!(r===1&&f.rectangular)&&!(r===2&&!f.rectangular)&&!(n!=null&&(f.getSymbolWidth()<n.getWidth()||f.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(f.getSymbolWidth()>i.getWidth()||f.getSymbolHeight()>i.getHeight()))&&e<=f.dataCapacity)return f}}catch(c){o={error:c}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}if(a)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),KT=function(t){$T(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(He),ZT=[new He(!1,3,5,8,8,1),new He(!1,5,7,10,10,1),new He(!0,5,7,16,6,1),new He(!1,8,10,12,12,1),new He(!0,10,11,14,6,2),new He(!1,12,12,14,14,1),new He(!0,16,14,24,10,1),new He(!1,18,14,16,16,1),new He(!1,22,18,18,18,1),new He(!0,22,18,16,10,2),new He(!1,30,20,20,20,1),new He(!0,32,24,16,14,2),new He(!1,36,24,22,22,1),new He(!1,44,28,24,24,1),new He(!0,49,28,22,14,2),new He(!1,62,36,14,14,4),new He(!1,86,42,16,16,4),new He(!1,114,48,18,18,4),new He(!1,144,56,20,20,4),new He(!1,174,68,22,22,4),new He(!1,204,84,24,24,4,102,42),new He(!1,280,112,14,14,16,140,56),new He(!1,368,144,16,16,16,92,36),new He(!1,456,192,18,18,16,114,48),new He(!1,576,224,20,20,16,144,56),new He(!1,696,272,22,22,16,174,68),new He(!1,816,336,24,24,16,136,56),new He(!1,1050,408,18,18,36,175,68),new He(!1,1304,496,20,20,36,163,62),new KT],QT=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Ae,i=0,a=r.length;i<a;i++){var o=String.fromCharCode(r[i]&255);if(o==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(o)}this.msg=n.toString(),this.shape=0,this.codewords=new Ae,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=He.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),qT=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),JT=function(t){qT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ft},e.prototype.encode=function(r){for(var n=new Ae;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var a=n.length();if(a%3===0){this.writeNextTriplet(r,n);var o=Dn.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange($e);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case"*".charCodeAt(0):n.append(1);break;case">".charCodeAt(0):n.append(2);break;case" ".charCodeAt(0):n.append(3);break;default:r>="0".charCodeAt(0)&&r<="9".charCodeAt(0)?n.append(r-48+4):r>="A".charCodeAt(0)&&r<="Z".charCodeAt(0)?n.append(r-65+14):Dn.illegalCharacter(Fe.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),a=n.length();r.pos-=a,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(GT),r.getNewEncoding()<0&&r.signalEncoderChange($e)},e}(wd),e8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),t8=function(t){e8(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Tr},e.prototype.encodeChar=function(r,n){if(r===" ".charCodeAt(0))return n.append(3),1;if(r>="0".charCodeAt(0)&&r<="9".charCodeAt(0))return n.append(r-48+4),1;if(r>="a".charCodeAt(0)&&r<="z".charCodeAt(0))return n.append(r-97+14),1;if(r<" ".charCodeAt(0))return n.append(0),n.append(r),2;if(r<="/".charCodeAt(0))return n.append(1),n.append(r-33),2;if(r<="@".charCodeAt(0))return n.append(1),n.append(r-58+15),2;if(r>="[".charCodeAt(0)&&r<="_".charCodeAt(0))return n.append(1),n.append(r-91+22),2;if(r==="`".charCodeAt(0))return n.append(2),n.append(0),2;if(r<="Z".charCodeAt(0))return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(wd),r8=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=mg+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,a){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=!1);var o=new wd,s=[new zT,o,new t8,new JT,new XT,new jT],l=new QT(e);l.setSymbolShape(r),l.setSizeConstraints(n,i),e.startsWith(yg)&&e.endsWith(Eg)?(l.writeCodeword(BT),l.setSkipAtEnd(2),l.pos+=yg.length):e.startsWith(wg)&&e.endsWith(Eg)&&(l.writeCodeword(UT),l.setSkipAtEnd(2),l.pos+=wg.length);var u=$e;for(a&&(o.encodeMaximal(l),u=l.getNewEncoding(),l.resetEncoderSignal());l.hasMoreCharacters();)s[u].encode(l),l.getNewEncoding()>=0&&(u=l.getNewEncoding(),l.resetEncoderSignal());var f=l.getCodewordCount();l.updateSymbolInfo();var c=l.getSymbolInfo().getDataCapacity();f<c&&u!==$e&&u!==gr&&u!==Gt&&l.writeCodeword("");var h=l.getCodewords();for(h.length()<c&&h.append(mg);h.length()<c;)h.append(this.randomize253State(h.length()+1));return l.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Ft&&i===Ft){for(var a=Math.min(r+3,e.length),o=r;o<a;o++)if(!this.isNativeX12(e.charCodeAt(o)))return $e}else if(n===Gt&&i===Gt){for(var a=Math.min(r+4,e.length),o=r;o<a;o++)if(!this.isNativeEDIFACT(e.charCodeAt(o)))return $e}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===$e?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var a=0,o=new Uint8Array(6),s=[];;){if(r+a===e.length){Bt.fill(o,0),Bt.fill(s,0);var l=this.findMinimums(i,s,Te.MAX_VALUE,o),u=this.getMinimumCount(o);if(s[$e]===l)return $e;if(u===1){if(o[gr]>0)return gr;if(o[Gt]>0)return Gt;if(o[Tr]>0)return Tr;if(o[Ft]>0)return Ft}return rr}var f=e.charCodeAt(r+a);if(a++,this.isDigit(f)?i[$e]+=.5:this.isExtendedASCII(f)?(i[$e]=Math.ceil(i[$e]),i[$e]+=2):(i[$e]=Math.ceil(i[$e]),i[$e]++),this.isNativeC40(f)?i[rr]+=2/3:this.isExtendedASCII(f)?i[rr]+=8/3:i[rr]+=4/3,this.isNativeText(f)?i[Tr]+=2/3:this.isExtendedASCII(f)?i[Tr]+=8/3:i[Tr]+=4/3,this.isNativeX12(f)?i[Ft]+=2/3:this.isExtendedASCII(f)?i[Ft]+=13/3:i[Ft]+=10/3,this.isNativeEDIFACT(f)?i[Gt]+=3/4:this.isExtendedASCII(f)?i[Gt]+=17/4:i[Gt]+=13/4,this.isSpecialB256(f)?i[gr]+=4:i[gr]++,a>=4){if(Bt.fill(o,0),Bt.fill(s,0),this.findMinimums(i,s,Te.MAX_VALUE,o),s[$e]<this.min(s[gr],s[rr],s[Tr],s[Ft],s[Gt]))return $e;if(s[gr]<s[$e]||s[gr]+1<this.min(s[rr],s[Tr],s[Ft],s[Gt]))return gr;if(s[Gt]+1<this.min(s[gr],s[rr],s[Tr],s[Ft],s[$e]))return Gt;if(s[Tr]+1<this.min(s[gr],s[rr],s[Gt],s[Ft],s[$e]))return Tr;if(s[Ft]+1<this.min(s[gr],s[rr],s[Gt],s[Tr],s[$e]))return Ft;if(s[rr]+1<this.min(s[$e],s[gr],s[Gt],s[Tr])){if(s[rr]<s[Ft])return rr;if(s[rr]===s[Ft]){for(var c=r+a+1;c<e.length;){var h=e.charCodeAt(c);if(this.isX12TermSep(h))return Ft;if(!this.isNativeX12(h))break;c++}return rr}}}}},t.min=function(e,r,n,i,a){var o=Math.min(e,Math.min(r,Math.min(n,i)));return a===void 0?o:Math.min(o,a)},t.findMinimums=function(e,r,n,i){for(var a=0;a<6;a++){var o=r[a]=Math.ceil(e[a]);n>o&&(n=o,Bt.fill(i,0)),n===o&&(i[a]=i[a]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isNativeText=function(e){return e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===" ".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)},t.isX12TermSep=function(e){return e===13||e==="*".charCodeAt(0)||e===">".charCodeAt(0)},t.isNativeEDIFACT=function(e){return e>=" ".charCodeAt(0)&&e<="^".charCodeAt(0)},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=Te.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}();const Dn=r8;var mc=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Cg=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return xn.encode(e,this.charset)!=null}catch{return!1}},t}(),n8=function(){function t(e,r,n){var i,a,o,s,l,u;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(F){return new Cg(PT.forName(F))}),this.encoders=[];var f=[];f.push(new Cg(FT.ISO_8859_1));for(var c=r!=null&&r.name.startsWith("UTF"),h=0;h<e.length;h++){var d=!1;try{for(var p=(i=void 0,mc(f)),v=p.next();!v.done;v=p.next()){var _=v.value,x=e.charAt(h),g=x.charCodeAt(0);if(g===n||_.canEncode(x)){d=!0;break}}}catch(F){i={error:F}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}if(!d)try{for(var m=(o=void 0,mc(this.ENCODERS)),y=m.next();!y.done;y=m.next()){var _=y.value;if(_.canEncode(e.charAt(h))){f.push(_),d=!0;break}}}catch(F){o={error:F}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}d||(c=!0)}if(f.length===1&&!c)this.encoders=[f[0]];else{this.encoders=[];var C=0;try{for(var D=mc(f),E=D.next();!E.done;E=D.next()){var _=E.value;this.encoders[C++]=_}}catch(F){l={error:F}}finally{try{E&&!E.done&&(u=D.return)&&u.call(D)}finally{if(l)throw l.error}}}var R=-1;if(r!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&r.name===this.encoders[h].name){R=h;break}}this.priorityEncoderIndex=R}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return xn.encode(Fe.getCharAt(e),this.encoders[r].name)},t}(),i8=3,a8=function(){function t(e,r,n){this.fnc1=n;var i=new n8(e,r,n);if(i.length()===1)for(var a=0;a<this.bytes.length;a++){var o=e.charAt(a).charCodeAt(0);this.bytes[a]=o===n?1e3:o}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Ae,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,a,o){var s=e.charAt(i).charCodeAt(0),l=0,u=r.length();r.getPriorityEncoderIndex()>=0&&(s===o||r.canEncode(s,r.getPriorityEncoderIndex()))&&(l=r.getPriorityEncoderIndex(),u=l+1);for(var f=l;f<u;f++)(s===o||r.canEncode(s,f))&&this.addEdge(n,i+1,new Sg(s,r,f,a,o))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,a=new Sg[i+1][r.length()];this.addEdges(e,r,a,0,null,n);for(var o=1;o<=i;o++){for(var s=0;s<r.length();s++)a[o][s]!=null&&o<i&&this.addEdges(e,r,a,o,a[o][s],n);for(var s=0;s<r.length();s++)a[o-1][s]=null}for(var l=-1,u=Te.MAX_VALUE,s=0;s<r.length();s++)if(a[i][s]!=null){var f=a[i][s];f.cachedTotalSize<u&&(u=f.cachedTotalSize,l=s)}if(l<0)throw new Error('Failed to encode "'+e+'"');for(var c=[],h=a[i][l];h!=null;){if(h.isFNC1())c.unshift(1e3);else for(var d=r.encode(h.c,h.encoderIndex),o=d.length-1;o>=0;o--)c.unshift(d[o]&255);var p=h.previous===null?0:h.previous.encoderIndex;p!==h.encoderIndex&&c.unshift(256+r.getECIValue(h.encoderIndex)),h=h.previous}for(var v=[],o=0;o<v.length;o++)v[o]=c[o];return v},t}(),Sg=function(){function t(e,r,n,i,a){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=a,this.c=e===a?1e3:e;var o=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(o+=i8),i!=null&&(o+=i.cachedTotalSize),this.cachedTotalSize=o}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),o8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__values;var s8=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};globalThis&&globalThis.__spread;var Ag;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(Ag||(Ag={}));(function(t){o8(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n,i)||this;return s.shape=a,s.macroId=o,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(a8);var l8=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),Tg=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),u8=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),f8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ed=function(t){f8(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+Te.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(u8),c8=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),h8=function(t){c8(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Ed);function d8(t,e,r){return new h8(t,e,r)}function Ss(t,e,r){return new Ed(t,e,r)}var p8=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],$i=0,Ef=1,vn=2,Nm=3,$n=4,v8=new Ed(null,0,0),yc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])],g8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function x8(t){var e,r;try{for(var n=g8(t),i=n.next();!i.done;i=n.next()){var a=i.value;Bt.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[$i][$n]=0,t[Ef][$n]=0,t[Ef][$i]=28,t[Nm][$n]=0,t[vn][$n]=0,t[vn][$i]=15,t}var Dm=x8(Bt.createInt32Array(6,6)),_8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},m8=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=yc[this.mode][e];i=Ss(i,a&65535,a>>16),n+=a>>16}var o=e===vn?4:5;return i=Ss(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===vn?4:5;return n=Ss(n,Dm[this.mode][e],i),n=Ss(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===$n||this.mode===vn){var a=yc[n][$i];r=Ss(r,a&65535,a>>16),i+=a>>16,n=$i}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2047+31&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=d8(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(yc[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new Zt;try{for(var s=_8(i),l=s.next();!l.done;l=s.next()){var u=l.value;u.appendTo(o,e)}}catch(f){r={error:f}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return Fe.format("%s bits=%d bytes=%d",p8[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(v8,$i,0,0),t}();function y8(t){var e=Fe.getCharCode(" "),r=Fe.getCharCode("."),n=Fe.getCharCode(",");t[$i][e]=1;for(var i=Fe.getCharCode("Z"),a=Fe.getCharCode("A"),o=a;o<=i;o++)t[$i][o]=o-a+2;t[Ef][e]=1;for(var s=Fe.getCharCode("z"),l=Fe.getCharCode("a"),o=l;o<=s;o++)t[Ef][o]=o-l+2;t[vn][e]=1;for(var u=Fe.getCharCode("9"),f=Fe.getCharCode("0"),o=f;o<=u;o++)t[vn][o]=o-f+2;t[vn][n]=12,t[vn][r]=13;for(var c=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<c.length;h++)t[Nm][Fe.getCharCode(c[h])]=h;for(var d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<d.length;h++)Fe.getCharCode(d[h])>0&&(t[$n][Fe.getCharCode(d[h])]=h);return t}var wc=y8(Bt.createInt32Array(5,256)),Su=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},w8=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Fe.getCharCode(" "),r=Fe.getCharCode(`
`),n=Tg.singletonList(m8.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Fe.getCharCode("\r"):a=o===r?2:0;break;case Fe.getCharCode("."):a=o===e?3:0;break;case Fe.getCharCode(","):a=o===e?4:0;break;case Fe.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=Tg.min(n,function(l,u){return l.getBitCount()-u.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=Su(e),s=o.next();!s.done;s=o.next()){var l=s.value;this.updateStateForChar(l,r,a)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=wc[e.getMode()][i]>0,o=null,s=0;s<=$n;s++){var l=wc[s][i];if(l>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===vn){var u=o.latchAndAppend(s,l);n.push(u)}if(!a&&Dm[e.getMode()][s]>=0){var f=o.shiftAndAppend(s,l);n.push(f)}}}if(e.getBinaryShiftByteCount()>0||wc[e.getMode()][i]===0){var c=e.addBinaryShiftChar(r);n.push(c)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=Su(e),l=s.next();!l.done;l=s.next()){var u=l.value;this.updateStateForPair(u,r,n,o)}}catch(f){i={error:f}}finally{try{l&&!l.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend($n,n)),e.getMode()!==$n&&i.push(a.shiftAndAppend($n,n)),n===3||n===4){var o=a.latchAndAppend(vn,16-n).latchAndAppend(vn,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=Su(e),l=s.next();!l.done;l=s.next()){var u=l.value,f=!0,c=function(_){if(_.isBetterThanOrEqualTo(u))return f=!1,"break";u.isBetterThanOrEqualTo(_)&&(o=o.filter(function(x){return x!==_}))};try{for(var h=(i=void 0,Su(o)),d=h.next();!d.done;d=h.next()){var p=d.value,v=c(p);if(v==="break")break}}catch(_){i={error:_}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}f&&o.push(u)}}catch(_){r={error:_}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}(),E8=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new w8(e).encode(),a=Te.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,l,u,f,c;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,l=Math.abs(n),l>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new me(Fe.format("Illegal value %s for layers",n));u=t.totalBitsInLayer(l,s),f=t.WORD_SIZE[l];var h=u-u%f;if(c=t.stuffBits(i,f),c.getSize()+a>h)throw new me("Data to large for user specified layer");if(s&&c.getSize()>f*64)throw new me("Data to large for user specified layer")}else{f=0,c=null;for(var d=0;;d++){if(d>t.MAX_NB_BITS)throw new me("Data too large for an Aztec code");if(s=d<=3,l=s?d+1:d,u=t.totalBitsInLayer(l,s),!(o>u)){(c==null||f!==t.WORD_SIZE[l])&&(f=t.WORD_SIZE[l],c=t.stuffBits(i,f));var h=u-u%f;if(!(s&&c.getSize()>f*64)&&c.getSize()+a<=h)break}}}var p=t.generateCheckWords(c,u,f),v=c.getSize()/f,_=t.generateModeMessage(s,l,v),x=(s?11:14)+l*4,g=new Int32Array(x),m;if(s){m=x;for(var d=0;d<g.length;d++)g[d]=d}else{m=x+1+2*Te.truncDivision(Te.truncDivision(x,2)-1,15);for(var y=Te.truncDivision(x,2),C=Te.truncDivision(m,2),d=0;d<y;d++){var D=d+Te.truncDivision(d,15);g[y-d-1]=C-D-1,g[y+d]=C+D+1}}for(var E=new Zn(m),d=0,R=0;d<l;d++){for(var F=(l-d)*4+(s?9:12),k=0;k<F;k++)for(var G=k*2,z=0;z<2;z++)p.get(R+G+z)&&E.set(g[d*2+z],g[d*2+k]),p.get(R+F*2+G+z)&&E.set(g[d*2+k],g[x-1-d*2-z]),p.get(R+F*4+G+z)&&E.set(g[x-1-d*2-z],g[x-1-d*2-k]),p.get(R+F*6+G+z)&&E.set(g[x-1-d*2-k],g[d*2+z]);R+=F*8}if(t.drawModeMessage(E,s,m,_),s)t.drawBullsEye(E,Te.truncDivision(m,2),5);else{t.drawBullsEye(E,Te.truncDivision(m,2),7);for(var d=0,k=0;d<Te.truncDivision(x,2)-1;d+=15,k+=16)for(var z=Te.truncDivision(m,2)&1;z<m;z+=2)E.set(Te.truncDivision(m,2)-k,z),E.set(Te.truncDivision(m,2)+k,z),E.set(z,Te.truncDivision(m,2)-k),E.set(z,Te.truncDivision(m,2)+k)}var Q=new l8;return Q.setCompact(s),Q.setSize(m),Q.setLayers(l),Q.setCodeWords(v),Q.setMatrix(E),Q},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new Zt;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=Te.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+Te.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new Im(t.getGF(n)),l=Te.truncDivision(r,n),u=t.bitsToWords(e,n,l);s.encode(u,l-o);var f=r%n,c=new Zt;c.appendBits(0,f);try{for(var h=E8(Array.from(u)),d=h.next();!d.done;d=h.next()){var p=d.value;c.appendBits(p,n)}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return c},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,l=0;l<r;l++)s|=e.get(a*r+l)?1<<r-l-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return Lr.AZTEC_PARAM;case 6:return Lr.AZTEC_DATA_6;case 8:return Lr.AZTEC_DATA_8;case 10:return Lr.AZTEC_DATA_10;case 12:return Lr.AZTEC_DATA_12;default:throw new me("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new Zt,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,l=0;l<r;l++)(o+l>=i||e.get(o+l))&&(s|=1<<r-1-l);(s&a)===a?(n.appendBits(s&a,r),o--):s&a?n.appendBits(s,r):(n.appendBits(s|1,r),o--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var Rm={exports:{}};(function(t,e){(function(n,i){t.exports=i(Mr)})(l3,function(r){return function(n){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=n,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(s&1&&(o=a(o)),s&8||s&4&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),s&2&&typeof o!="string")for(var u in o)a.d(l,u,(function(f){return o[f]}).bind(null,u));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,a){a.r(i);var o=a("react"),s=function(){var h=function(d,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var x in _)_.hasOwnProperty(x)&&(v[x]=_[x])},h(d,p)};return function(d,p){h(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),l=function(){return l=Object.assign||function(h){for(var d,p=1,v=arguments.length;p<v;p++){d=arguments[p];for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(h[_]=d[_])}return h},l.apply(this,arguments)},u=function(h,d){var p={};for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&d.indexOf(v)<0&&(p[v]=h[v]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,v=Object.getOwnPropertySymbols(h);_<v.length;_++)d.indexOf(v[_])<0&&Object.prototype.propertyIsEnumerable.call(h,v[_])&&(p[v[_]]=h[v[_]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(d){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(v,_){p.call(navigator,d,v,_)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var c=function(h){s(d,h);function d(p){var v=h.call(this,p)||this;return v.canvas=null,v.ctx=null,v.requestUserMediaId=0,v.unmounted=!1,v.state={hasUserMedia:!1},v}return d.prototype.componentDidMount=function(){var p=this,v=p.state,_=p.props;if(this.unmounted=!1,!f()){_.onUserMediaError("getUserMedia not supported");return}v.hasUserMedia||this.requestUserMedia(),_.children&&typeof _.children!="function"&&console.warn("children must be a function")},d.prototype.componentDidUpdate=function(p){var v=this.props;if(!f()){v.onUserMediaError("getUserMedia not supported");return}var _=JSON.stringify(p.audioConstraints)!==JSON.stringify(v.audioConstraints),x=JSON.stringify(p.videoConstraints)!==JSON.stringify(v.videoConstraints),g=p.minScreenshotWidth!==v.minScreenshotWidth,m=p.minScreenshotHeight!==v.minScreenshotHeight;(x||g||m)&&(this.canvas=null,this.ctx=null),(_||x)&&(this.stopAndCleanup(),this.requestUserMedia())},d.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},d.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(v){p.removeTrack(v),v.stop()}),p.getAudioTracks().map(function(v){p.removeTrack(v),v.stop()})):p.stop())},d.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(d.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},d.prototype.getScreenshot=function(p){var v=this,_=v.state,x=v.props;if(!_.hasUserMedia)return null;var g=this.getCanvas(p);return g&&g.toDataURL(x.screenshotFormat,x.screenshotQuality)},d.prototype.getCanvas=function(p){var v=this,_=v.state,x=v.props;if(!this.video||!_.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var g=this.video.videoWidth,m=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var y=g/m;g=x.minScreenshotWidth||this.video.clientWidth,m=g/y,x.minScreenshotHeight&&m<x.minScreenshotHeight&&(m=x.minScreenshotHeight,g=m*y)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||g,this.canvas.height=(p==null?void 0:p.height)||m,this.ctx=this.canvas.getContext("2d")}var C=this,D=C.ctx,E=C.canvas;return D&&E&&(E.width=(p==null?void 0:p.width)||E.width,E.height=(p==null?void 0:p.height)||E.height,x.mirrored&&(D.translate(E.width,0),D.scale(-1,1)),D.imageSmoothingEnabled=x.imageSmoothing,D.drawImage(this.video,0,0,(p==null?void 0:p.width)||E.width,(p==null?void 0:p.height)||E.height),x.mirrored&&(D.scale(-1,1),D.translate(-E.width,0))),E},d.prototype.requestUserMedia=function(){var p=this,v=this.props,_=function(m,y){var C={video:typeof y<"u"?y:!0};v.audio&&(C.audio=typeof m<"u"?m:!0),p.requestUserMediaId++;var D=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(C).then(function(E){p.unmounted||D!==p.requestUserMediaId?d.stopMediaStream(E):p.handleUserMedia(null,E)}).catch(function(E){p.handleUserMedia(E)})};if("mediaDevices"in navigator)_(v.audioConstraints,v.videoConstraints);else{var x=function(m){return{optional:[{sourceId:m}]}},g=function(m){var y=m.deviceId;return typeof y=="string"?y:Array.isArray(y)&&y.length>0?y[0]:typeof y=="object"&&y.ideal?y.ideal:null};MediaStreamTrack.getSources(function(m){var y=null,C=null;m.forEach(function(R){R.kind==="audio"?y=R.id:R.kind==="video"&&(C=R.id)});var D=g(v.audioConstraints);D&&(y=D);var E=g(v.videoConstraints);E&&(C=E),_(x(y),x(C))})}},d.prototype.handleUserMedia=function(p,v){var _=this.props;if(p||!v){this.setState({hasUserMedia:!1}),_.onUserMediaError(p);return}this.stream=v;try{this.video&&(this.video.srcObject=v),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(v)})}_.onUserMedia(v)},d.prototype.render=function(){var p=this,v=this,_=v.state,x=v.props,g=x.audio;x.forceScreenshotSourceSize;var m=x.disablePictureInPicture;x.onUserMedia,x.onUserMediaError,x.screenshotFormat,x.screenshotQuality,x.minScreenshotWidth,x.minScreenshotHeight,x.audioConstraints,x.videoConstraints,x.imageSmoothing;var y=x.mirrored,C=x.style,D=C===void 0?{}:C,E=x.children,R=u(x,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),F=y?l(l({},D),{transform:(D.transform||"")+" scaleX(-1)"}):D,k={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",l({autoPlay:!0,disablePictureInPicture:m,src:_.src,muted:!g,playsInline:!0,ref:function(G){p.video=G},style:F},R)),E&&E(k))},d.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},d}(o.Component);i.default=c},react:function(n,i){n.exports=r}}).default})})(Rm);var C8=Rm.exports;const S8=y1(C8),A8=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:a,delay:o=500,videoConstraints:s,stopStream:l})=>{const u=io.useRef(null),f=io.useCallback(()=>{var d;const c=new ET,h=(d=u==null?void 0:u.current)==null?void 0:d.getScreenshot();h&&c.decodeFromImage(void 0,h).then(p=>{t(null,p)}).catch(p=>{t(p)})},[t]);return io.useEffect(()=>{var c,h;if(typeof a=="boolean"&&((c=navigator==null?void 0:navigator.mediaDevices)!=null&&c.getSupportedConstraints().torch)){const d=(h=u==null?void 0:u.current)==null?void 0:h.video.srcObject,p=d==null?void 0:d.getVideoTracks()[0];p&&p.getCapabilities().torch&&!p.getConstraints().torch&&p.applyConstraints({advanced:[{torch:a}]}).catch(v=>t(v))}},[a,t]),io.useEffect(()=>{var c;if(l){let h=(c=u==null?void 0:u.current)==null?void 0:c.video.srcObject;h&&(h.getTracks().forEach(d=>{h.removeTrack(d),d.stop()}),h=null)}},[l]),io.useEffect(()=>{const c=setInterval(f,o);return()=>{clearInterval(c)}},[]),Re.jsx(S8,{width:r,height:n,ref:u,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Cf={};Cf.version="0.18.5";var Pm=1252,T8=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Fm=function(t){T8.indexOf(t)!=-1&&(Pm=t)};function I8(){Fm(1252)}var wl=function(t){Fm(t)};function O8(){wl(1200),I8()}function N8(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Au=function(e){return String.fromCharCode(e)},Ig=function(e){return String.fromCharCode(e)},_a,bi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function El(t){for(var e="",r=0,n=0,i=0,a=0,o=0,s=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),a=r>>2,n=t.charCodeAt(u++),o=(r&3)<<4|n>>4,i=t.charCodeAt(u++),s=(n&15)<<2|i>>6,l=i&63,isNaN(n)?s=l=64:isNaN(i)&&(l=64),e+=bi.charAt(a)+bi.charAt(o)+bi.charAt(s)+bi.charAt(l);return e}function gi(t){var e="",r=0,n=0,i=0,a=0,o=0,s=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)a=bi.indexOf(t.charAt(u++)),o=bi.indexOf(t.charAt(u++)),r=a<<2|o>>4,e+=String.fromCharCode(r),s=bi.indexOf(t.charAt(u++)),n=(o&15)<<4|s>>2,s!==64&&(e+=String.fromCharCode(n)),l=bi.indexOf(t.charAt(u++)),i=(s&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var We=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ei=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ba(t){return We?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Og(t){return We?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Rn=function(e){return We?Ei(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function _0(t){if(typeof ArrayBuffer>"u")return Rn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Gl(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function D8(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var or=We?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ei(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function R8(t){for(var e=[],r=0,n=t.length+250,i=ba(t.length+255),a=0;a<t.length;++a){var o=t.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var s=t.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|s>>6&15|(o&3)<<4,i[r++]=128|s&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(e.push(i.slice(0,r)),r=0,i=ba(65535),n=65530)}return e.push(i.slice(0,r)),or(e)}var Ys=/\u0000/g,Tu=/[\u0001-\u0006]/g;function No(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Fn(t,e){var r=""+t;return r.length>=e?r:St("0",e-r.length)+r}function Cd(t,e){var r=""+t;return r.length>=e?r:St(" ",e-r.length)+r}function Sf(t,e){var r=""+t;return r.length>=e?r:r+St(" ",e-r.length)}function P8(t,e){var r=""+Math.round(t);return r.length>=e?r:St("0",e-r.length)+r}function F8(t,e){var r=""+t;return r.length>=e?r:St("0",e-r.length)+r}var Ng=Math.pow(2,32);function eo(t,e){if(t>Ng||t<-Ng)return P8(t,e);var r=Math.round(t);return F8(r,e)}function Af(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Dg=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ec=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function k8(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Tt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Rg={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},M8={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Tf(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,o=1,s=0,l=1,u=0,f=0,c=Math.floor(i);u<e&&(c=Math.floor(i),s=c*o+a,f=c*u+l,!(i-c<5e-8));)i=1/(i-c),a=o,o=s,l=u,u=f;if(f>e&&(u>e?(f=l,s=a):(f=u,s=o)),!r)return[0,n*s,f];var h=Math.floor(n*s/f);return[h,n*s-h*f,f]}function Iu(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,o=[],s={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),e&&e.date1904&&(n+=1462),s.u>.9999&&(s.u=0,++i==86400&&(s.T=i=0,++n,++s.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=V8(l,o))}return s.y=o[0],s.m=o[1],s.d=o[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=a,s}var km=new Date(1899,11,31,0,0,0),b8=km.getTime(),L8=new Date(1900,2,1,0,0,0);function Mm(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=L8&&(r+=24*60*60*1e3),(r-(b8+(t.getTimezoneOffset()-km.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Sd(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function B8(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function U8(t){var e=t<0?12:11,r=Sd(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function H8(t){var e=Sd(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function W8(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=U8(t):e===10?r=t.toFixed(10).substr(0,12):r=H8(t),Sd(B8(r.toUpperCase()))}function Zh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):W8(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ji(14,Mm(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function V8(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function G8(t,e,r,n){var i="",a=0,o=0,s=r.y,l,u=0;switch(t){case 98:s=r.y+543;case 121:switch(e.length){case 1:case 2:l=s%100,u=2;break;default:l=s%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return Ec[r.m-1][1];case 5:return Ec[r.m-1][0];default:return Ec[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return Dg[r.q][0];default:return Dg[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Fn(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),e==="s"?a===0?"0":""+a/o:(i=Fn(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=s,u=1;break}var f=u>0?Fn(l,u):"";return f}function Li(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var bm=/%/g;function z8(t,e,r){var n=e.replace(bm,""),i=e.length-n.length;return li(t,n,r*Math.pow(10,2*i))+St("%",i)}function j8(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return li(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Lm(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Lm(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,f){return l+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Bm=/# (\?+)( ?)\/( ?)(\d+)/;function X8(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),o=i-a*n,s=n;return r+(a===0?"":""+a)+" "+(o===0?St(" ",t[1].length+1+t[4].length):Cd(o,t[1].length)+t[2]+"/"+t[3]+Fn(s,t[4].length))}function $8(t,e,r){return r+(e===0?"":""+e)+St(" ",t[1].length+2+t[4].length)}var Um=/^#*0*\.([0#]+)/,Hm=/\).*[0#]/,Wm=/\(###\) ###\\?-####/;function Or(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Pg(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Fg(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Y8(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function K8(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function un(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Hm)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?un("n",n,r):"("+un("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return j8(t,e,r);if(e.indexOf("%")!==-1)return z8(t,e,r);if(e.indexOf("E")!==-1)return Lm(e,r);if(e.charCodeAt(0)===36)return"$"+un(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,o,s,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+eo(l,e.length);if(e.match(/^[#?]+$/))return i=eo(r,0),i==="0"&&(i=""),i.length>e.length?i:Or(e.substr(0,e.length-i.length))+i;if(a=e.match(Bm))return X8(a,l,u);if(e.match(/^#+0+$/))return u+eo(l,e.length-e.indexOf("0"));if(a=e.match(Um))return i=Pg(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Or(a[1])).replace(/\.$/,"."+Or(a[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+St("0",Or(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+Pg(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Li(eo(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+un(t,e,-r):Li(""+(Math.floor(r)+Y8(r,a[1].length)))+"."+Fn(Fg(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return un(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=No(un(t,e.replace(/[\\-]/g,""),r)),o=0,No(No(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<i.length?i.charAt(o++):p==="0"?"0":""}));if(e.match(Wm))return i=un(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Tf(l,Math.pow(10,o)-1,!1),i=""+u,f=li("n",a[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Sf(s[2],o),f.length<a[4].length&&(f=Or(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Tf(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?Cd(s[1],o)+a[2]+"/"+a[3]+Sf(s[2],o):St(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=eo(r,0),e.length<=i.length?i:Or(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var c=e.indexOf(".")-o,h=e.length-i.length-c;return Or(e.substr(0,c)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=Fg(r,a[1].length),r<0?"-"+un(t,e,-r):Li(K8(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Fn(0,3-p.length):"")+p})+"."+Fn(o,a[1].length);switch(e){case"###,##0.00":return un(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Li(eo(l,0));return d!=="0"?u+d:"";case"###,###.00":return un(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return un(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Z8(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return li(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Q8(t,e,r){var n=e.replace(bm,""),i=e.length-n.length;return li(t,n,r*Math.pow(10,2*i))+St("%",i)}function Vm(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Vm(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(s,l,u,f){return l+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Gn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Hm)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Gn("n",n,r):"("+Gn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Z8(t,e,r);if(e.indexOf("%")!==-1)return Q8(t,e,r);if(e.indexOf("E")!==-1)return Vm(e,r);if(e.charCodeAt(0)===36)return"$"+Gn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,o,s,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Fn(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Or(e.substr(0,e.length-i.length))+i;if(a=e.match(Bm))return $8(a,l,u);if(e.match(/^#+0+$/))return u+Fn(l,e.length-e.indexOf("0"));if(a=e.match(Um))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Or(a[1])).replace(/\.$/,"."+Or(a[1])),i=i.replace(/\.(\d*)$/,function(p,v){return"."+v+St("0",Or(a[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return u+Li(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Gn(t,e,-r):Li(""+r)+"."+St("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Gn(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=No(Gn(t,e.replace(/[\\-]/g,""),r)),o=0,No(No(e.replace(/\\/g,"")).replace(/[0#]/g,function(p){return o<i.length?i.charAt(o++):p==="0"?"0":""}));if(e.match(Wm))return i=Gn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),s=Tf(l,Math.pow(10,o)-1,!1),i=""+u,f=li("n",a[1],s[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Sf(s[2],o),f.length<a[4].length&&(f=Or(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),s=Tf(l,Math.pow(10,o)-1,!0),u+(s[0]||(s[1]?"":"0"))+" "+(s[1]?Cd(s[1],o)+a[2]+"/"+a[3]+Sf(s[2],o):St(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Or(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var c=e.indexOf(".")-o,h=e.length-i.length-c;return Or(e.substr(0,c)+i+e.substr(e.length-h))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Gn(t,e,-r):Li(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Fn(0,3-p.length):"")+p})+"."+Fn(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=Li(""+l);return d!=="0"?u+d:"";default:if(e.match(/\.[0#?]*$/))return Gn(t,e.slice(0,e.lastIndexOf(".")),r)+Or(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function li(t,e,r){return(r|0)===r?Gn(t,e,r):un(t,e,r)}function q8(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Gm=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function zm(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Af(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Gm))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function J8(t,e,r,n){for(var i=[],a="",o=0,s="",l="t",u,f,c,h="H";o<t.length;)switch(s=t.charAt(o)){case"G":if(!Af(t,o))throw new Error("unrecognized character "+s+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(c=t.charCodeAt(++o))!==34&&o<t.length;)a+=String.fromCharCode(c);i[i.length]={t:"t",v:a},++o;break;case"\\":var d=t.charAt(++o),p=d==="("||d===")"?d:"t";i[i.length]={t:p,v:d},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(u==null&&(u=Iu(e,r,t.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},l=s,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":s=s.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Iu(e,r),u==null))return"";for(a=s;++o<t.length&&t.charAt(o).toLowerCase()===s;)a+=s;s==="m"&&l.toLowerCase()==="h"&&(s="M"),s==="h"&&(s=h),i[i.length]={t:s,v:a},l=s;break;case"A":case"a":case"":var v={t:s,v:s};if(u==null&&(u=Iu(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",h="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",o+=5,h="h"):t.substr(o,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",o+=5,h="h"):(v.t="t",++o),u==null&&v.t==="T")return"";i[i.length]=v,l=s;break;case"[":for(a=s;t.charAt(o++)!=="]"&&o<t.length;)a+=t.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(Gm)){if(u==null&&(u=Iu(e,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",zm(t)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=s;++o<t.length&&(s=t.charAt(o))==="0";)a+=s;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=s;++o<t.length&&"0#?.,E+-%".indexOf(s=t.charAt(o))>-1;)a+=s;i[i.length]={t:"n",v:a};break;case"?":for(a=s;t.charAt(++o)===s;)a+=s;i[i.length]={t:s,v:a},l=s;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":s,v:s},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=s;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)a+=t.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:s,v:s},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(s)===-1)throw new Error("unrecognized character "+s+" in "+t);i[i.length]={t:"t",v:s},++o;break}var _=0,x=0,g;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=h,l="h",_<1&&(_=1);break;case"s":(g=i[o].v.match(/\.0+$/))&&(x=Math.max(x,g[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[o].v.match(/[Hh]/)&&(_=1),_<2&&i[o].v.match(/[Mm]/)&&(_=2),_<3&&i[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var m="",y;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=G8(i[o].t.charCodeAt(0),i[o].v,u,x),i[o].t="t";break;case"n":case"?":for(y=o+1;i[y]!=null&&((s=i[y].t)==="?"||s==="D"||(s===" "||s==="t")&&i[y+1]!=null&&(i[y+1].t==="?"||i[y+1].t==="t"&&i[y+1].v==="/")||i[o].t==="("&&(s===" "||s==="n"||s===")")||s==="t"&&(i[y].v==="/"||i[y].v===" "&&i[y+1]!=null&&i[y+1].t=="?"));)i[o].v+=i[y].v,i[y]={v:"",t:";"},++y;m+=i[o].v,o=y-1;break;case"G":i[o].t="t",i[o].v=Zh(e,r);break}var C="",D,E;if(m.length>0){m.charCodeAt(0)==40?(D=e<0&&m.charCodeAt(0)===45?-e:e,E=li("n",m,D)):(D=e<0&&n>1?-e:e,E=li("n",m,D),D<0&&i[0]&&i[0].t=="t"&&(E=E.substr(1),i[0].v="-"+i[0].v)),y=E.length-1;var R=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){R=o;break}var F=i.length;if(R===i.length&&E.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(y>=i[o].v.length-1?(y-=i[o].v.length,i[o].v=E.substr(y+1,i[o].v.length)):y<0?i[o].v="":(i[o].v=E.substr(0,y+1),y=-1),i[o].t="t",F=o);y>=0&&F<i.length&&(i[F].v=E.substr(0,y+1)+i[F].v)}else if(R!==i.length&&E.indexOf("E")===-1){for(y=E.indexOf(".")-1,o=R;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===R?i[o].v.indexOf(".")-1:i[o].v.length-1,C=i[o].v.substr(f+1);f>=0;--f)y>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(C=E.charAt(y--)+C);i[o].v=C,i[o].t="t",F=o}for(y>=0&&F<i.length&&(i[F].v=E.substr(0,y+1)+i[F].v),y=E.indexOf(".")+1,o=R;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==R)){for(f=i[o].v.indexOf(".")>-1&&o===R?i[o].v.indexOf(".")+1:0,C=i[o].v.substr(0,f);f<i[o].v.length;++f)y<E.length&&(C+=E.charAt(y++));i[o].v=C,i[o].t="t",F=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(D=n>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=li(i[o].t,i[o].v,D),i[o].t="t");var k="";for(o=0;o!==i.length;++o)i[o]!=null&&(k+=i[o].v);return k}var kg=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Mg(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function eI(t,e){var r=q8(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(kg),s=r[1].match(kg);return Mg(e,o)?[n,r[0]]:Mg(e,s)?[n,r[1]]:[n,r[o!=null&&s!=null?2:1]]}return[n,a]}function Ji(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tt)[t],n==null&&(n=r.table&&r.table[Rg[t]]||Tt[Rg[t]]),n==null&&(n=M8[t]||"General");break}if(Af(n,0))return Zh(e,r);e instanceof Date&&(e=Mm(e,r.date1904));var i=eI(n,e);if(Af(i[1]))return Zh(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return J8(i[1],e,r,i[0])}function jm(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Tt[r]==null){e<0&&(e=r);continue}if(Tt[r]==t){e=r;break}}e<0&&(e=391)}return Tt[e]=t,e}function m0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&jm(t[e],e)}function y0(){Tt=k8()}var Xm=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function tI(t){var e=typeof t=="number"?Tt[t]:t;return e=e.replace(Xm,"(\\d+)"),new RegExp("^"+e+"$")}function rI(t,e,r){var n=-1,i=-1,a=-1,o=-1,s=-1,l=-1;(e.match(Xm)||[]).forEach(function(c,h){var d=parseInt(r[h+1],10);switch(c.toLowerCase().charAt(0)){case"y":n=d;break;case"d":a=d;break;case"h":o=d;break;case"s":l=d;break;case"m":o>=0?s=d:i=d;break}}),l>=0&&s==-1&&i>=0&&(s=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&s==-1&&l==-1?u:n==-1&&i==-1&&a==-1?f:u+"T"+f}var nI=function(){var t={};t.version="1.2.0";function e(){for(var E=0,R=new Array(256),F=0;F!=256;++F)E=F,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,R[F]=E;return typeof Int32Array<"u"?new Int32Array(R):R}var r=e();function n(E){var R=0,F=0,k=0,G=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)G[k]=E[k];for(k=0;k!=256;++k)for(F=E[k],R=256+k;R<4096;R+=256)F=G[R]=F>>>8^E[F&255];var z=[];for(k=1;k!=16;++k)z[k-1]=typeof Int32Array<"u"?G.subarray(k*256,k*256+256):G.slice(k*256,k*256+256);return z}var i=n(r),a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],f=i[5],c=i[6],h=i[7],d=i[8],p=i[9],v=i[10],_=i[11],x=i[12],g=i[13],m=i[14];function y(E,R){for(var F=R^-1,k=0,G=E.length;k<G;)F=F>>>8^r[(F^E.charCodeAt(k++))&255];return~F}function C(E,R){for(var F=R^-1,k=E.length-15,G=0;G<k;)F=m[E[G++]^F&255]^g[E[G++]^F>>8&255]^x[E[G++]^F>>16&255]^_[E[G++]^F>>>24]^v[E[G++]]^p[E[G++]]^d[E[G++]]^h[E[G++]]^c[E[G++]]^f[E[G++]]^u[E[G++]]^l[E[G++]]^s[E[G++]]^o[E[G++]]^a[E[G++]]^r[E[G++]];for(k+=15;G<k;)F=F>>>8^r[(F^E[G++])&255];return~F}function D(E,R){for(var F=R^-1,k=0,G=E.length,z=0,Q=0;k<G;)z=E.charCodeAt(k++),z<128?F=F>>>8^r[(F^z)&255]:z<2048?(F=F>>>8^r[(F^(192|z>>6&31))&255],F=F>>>8^r[(F^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,Q=E.charCodeAt(k++)&1023,F=F>>>8^r[(F^(240|z>>8&7))&255],F=F>>>8^r[(F^(128|z>>2&63))&255],F=F>>>8^r[(F^(128|Q>>6&15|(z&3)<<4))&255],F=F>>>8^r[(F^(128|Q&63))&255]):(F=F>>>8^r[(F^(224|z>>12&15))&255],F=F>>>8^r[(F^(128|z>>6&63))&255],F=F>>>8^r[(F^(128|z&63))&255]);return~F}return t.table=r,t.bstr=y,t.buf=C,t.str=D,t}(),et=function(){var e={};e.version="1.2.1";function r(w,I){for(var S=w.split("/"),T=I.split("/"),O=0,N=0,U=Math.min(S.length,T.length);O<U;++O){if(N=S[O].length-T[O].length)return N;if(S[O]!=T[O])return S[O]<T[O]?-1:1}return S.length-T.length}function n(w){if(w.charAt(w.length-1)=="/")return w.slice(0,-1).indexOf("/")===-1?w:n(w.slice(0,-1));var I=w.lastIndexOf("/");return I===-1?w:w.slice(0,I+1)}function i(w){if(w.charAt(w.length-1)=="/")return i(w.slice(0,-1));var I=w.lastIndexOf("/");return I===-1?w:w.slice(I+1)}function a(w,I){typeof I=="string"&&(I=new Date(I));var S=I.getHours();S=S<<6|I.getMinutes(),S=S<<5|I.getSeconds()>>>1,w.write_shift(2,S);var T=I.getFullYear()-1980;T=T<<4|I.getMonth()+1,T=T<<5|I.getDate(),w.write_shift(2,T)}function o(w){var I=w.read_shift(2)&65535,S=w.read_shift(2)&65535,T=new Date,O=S&31;S>>>=5;var N=S&15;S>>>=4,T.setMilliseconds(0),T.setFullYear(S+1980),T.setMonth(N-1),T.setDate(O);var U=I&31;I>>>=5;var Y=I&63;return I>>>=6,T.setHours(I),T.setMinutes(Y),T.setSeconds(U<<1),T}function s(w){qr(w,0);for(var I={},S=0;w.l<=w.length-4;){var T=w.read_shift(2),O=w.read_shift(2),N=w.l+O,U={};switch(T){case 21589:S=w.read_shift(1),S&1&&(U.mtime=w.read_shift(4)),O>5&&(S&2&&(U.atime=w.read_shift(4)),S&4&&(U.ctime=w.read_shift(4))),U.mtime&&(U.mt=new Date(U.mtime*1e3));break}w.l=N,I[T]=U}return I}var l;function u(){return l||(l={})}function f(w,I){if(w[0]==80&&w[1]==75)return Lp(w,I);if((w[0]|32)==109&&(w[1]|32)==105)return r3(w,I);if(w.length<512)throw new Error("CFB file size "+w.length+" < 512");var S=3,T=512,O=0,N=0,U=0,Y=0,B=0,H=[],V=w.slice(0,512);qr(V,0);var q=c(V);switch(S=q[0],S){case 3:T=512;break;case 4:T=4096;break;case 0:if(q[1]==0)return Lp(w,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+S)}T!==512&&(V=w.slice(0,T),qr(V,28));var oe=w.slice(0,T);h(V,S);var ue=V.read_shift(4,"i");if(S===3&&ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ue);V.l+=4,U=V.read_shift(4,"i"),V.l+=4,V.chk("00100000","Mini Stream Cutoff Size: "),Y=V.read_shift(4,"i"),O=V.read_shift(4,"i"),B=V.read_shift(4,"i"),N=V.read_shift(4,"i");for(var ee=-1,le=0;le<109&&(ee=V.read_shift(4,"i"),!(ee<0));++le)H[le]=ee;var Ce=d(w,T);_(B,N,Ce,T,H);var gt=g(Ce,U,H,T);gt[U].name="!Directory",O>0&&Y!==Q&&(gt[Y].name="!MiniFAT"),gt[H[0]].name="!FAT",gt.fat_addrs=H,gt.ssz=T;var xt={},dr=[],cs=[],hs=[];m(U,gt,Ce,dr,O,xt,cs,Y),p(cs,hs,dr),dr.shift();var ds={FileIndex:cs,FullPaths:hs};return I&&I.raw&&(ds.raw={header:oe,sectors:Ce}),ds}function c(w){if(w[w.l]==80&&w[w.l+1]==75)return[0,0];w.chk(Ee,"Header Signature: "),w.l+=16;var I=w.read_shift(2,"u");return[w.read_shift(2,"u"),I]}function h(w,I){var S=9;switch(w.l+=2,S=w.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+S);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+S);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+S)}w.chk("0600","Mini Sector Shift: "),w.chk("000000000000","Reserved: ")}function d(w,I){for(var S=Math.ceil(w.length/I)-1,T=[],O=1;O<S;++O)T[O-1]=w.slice(O*I,(O+1)*I);return T[S-1]=w.slice(S*I),T}function p(w,I,S){for(var T=0,O=0,N=0,U=0,Y=0,B=S.length,H=[],V=[];T<B;++T)H[T]=V[T]=T,I[T]=S[T];for(;Y<V.length;++Y)T=V[Y],O=w[T].L,N=w[T].R,U=w[T].C,H[T]===T&&(O!==-1&&H[O]!==O&&(H[T]=H[O]),N!==-1&&H[N]!==N&&(H[T]=H[N])),U!==-1&&(H[U]=T),O!==-1&&T!=H[T]&&(H[O]=H[T],V.lastIndexOf(O)<Y&&V.push(O)),N!==-1&&T!=H[T]&&(H[N]=H[T],V.lastIndexOf(N)<Y&&V.push(N));for(T=1;T<B;++T)H[T]===T&&(N!==-1&&H[N]!==N?H[T]=H[N]:O!==-1&&H[O]!==O&&(H[T]=H[O]));for(T=1;T<B;++T)if(w[T].type!==0){if(Y=T,Y!=H[Y])do Y=H[Y],I[T]=I[Y]+"/"+I[T];while(Y!==0&&H[Y]!==-1&&Y!=H[Y]);H[T]=-1}for(I[0]+="/",T=1;T<B;++T)w[T].type!==2&&(I[T]+="/")}function v(w,I,S){for(var T=w.start,O=w.size,N=[],U=T;S&&O>0&&U>=0;)N.push(I.slice(U*z,U*z+z)),O-=z,U=ma(S,U*4);return N.length===0?j(0):or(N).slice(0,w.size)}function _(w,I,S,T,O){var N=Q;if(w===Q){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(w!==-1){var U=S[w],Y=(T>>>2)-1;if(!U)return;for(var B=0;B<Y&&(N=ma(U,B*4))!==Q;++B)O.push(N);_(ma(U,T-4),I-1,S,T,O)}}function x(w,I,S,T,O){var N=[],U=[];O||(O=[]);var Y=T-1,B=0,H=0;for(B=I;B>=0;){O[B]=!0,N[N.length]=B,U.push(w[B]);var V=S[Math.floor(B*4/T)];if(H=B*4&Y,T<4+H)throw new Error("FAT boundary crossed: "+B+" 4 "+T);if(!w[V])break;B=ma(w[V],H)}return{nodes:N,data:Gg([U])}}function g(w,I,S,T){var O=w.length,N=[],U=[],Y=[],B=[],H=T-1,V=0,q=0,oe=0,ue=0;for(V=0;V<O;++V)if(Y=[],oe=V+I,oe>=O&&(oe-=O),!U[oe]){B=[];var ee=[];for(q=oe;q>=0;){ee[q]=!0,U[q]=!0,Y[Y.length]=q,B.push(w[q]);var le=S[Math.floor(q*4/T)];if(ue=q*4&H,T<4+ue)throw new Error("FAT boundary crossed: "+q+" 4 "+T);if(!w[le]||(q=ma(w[le],ue),ee[q]))break}N[oe]={nodes:Y,data:Gg([B])}}return N}function m(w,I,S,T,O,N,U,Y){for(var B=0,H=T.length?2:0,V=I[w].data,q=0,oe=0,ue;q<V.length;q+=128){var ee=V.slice(q,q+128);qr(ee,64),oe=ee.read_shift(2),ue=Nd(ee,0,oe-H),T.push(ue);var le={name:ue,type:ee.read_shift(1),color:ee.read_shift(1),L:ee.read_shift(4,"i"),R:ee.read_shift(4,"i"),C:ee.read_shift(4,"i"),clsid:ee.read_shift(16),state:ee.read_shift(4,"i"),start:0,size:0},Ce=ee.read_shift(2)+ee.read_shift(2)+ee.read_shift(2)+ee.read_shift(2);Ce!==0&&(le.ct=y(ee,ee.l-8));var gt=ee.read_shift(2)+ee.read_shift(2)+ee.read_shift(2)+ee.read_shift(2);gt!==0&&(le.mt=y(ee,ee.l-8)),le.start=ee.read_shift(4,"i"),le.size=ee.read_shift(4,"i"),le.size<0&&le.start<0&&(le.size=le.type=0,le.start=Q,le.name=""),le.type===5?(B=le.start,O>0&&B!==Q&&(I[B].name="!StreamData")):le.size>=4096?(le.storage="fat",I[le.start]===void 0&&(I[le.start]=x(S,le.start,I.fat_addrs,I.ssz)),I[le.start].name=le.name,le.content=I[le.start].data.slice(0,le.size)):(le.storage="minifat",le.size<0?le.size=0:B!==Q&&le.start!==Q&&I[B]&&(le.content=v(le,I[B].data,(I[Y]||{}).data))),le.content&&qr(le.content,0),N[ue]=le,U.push(le)}}function y(w,I){return new Date((en(w,I+4)/1e7*Math.pow(2,32)+en(w,I)/1e7-11644473600)*1e3)}function C(w,I){return u(),f(l.readFileSync(w),I)}function D(w,I){var S=I&&I.type;switch(S||We&&Buffer.isBuffer(w)&&(S="buffer"),S||"base64"){case"file":return C(w,I);case"base64":return f(Rn(gi(w)),I);case"binary":return f(Rn(w),I)}return f(w,I)}function E(w,I){var S=I||{},T=S.root||"Root Entry";if(w.FullPaths||(w.FullPaths=[]),w.FileIndex||(w.FileIndex=[]),w.FullPaths.length!==w.FileIndex.length)throw new Error("inconsistent CFB structure");w.FullPaths.length===0&&(w.FullPaths[0]=T+"/",w.FileIndex[0]={name:T,type:5}),S.CLSID&&(w.FileIndex[0].clsid=S.CLSID),R(w)}function R(w){var I="Sh33tJ5";if(!et.find(w,"/"+I)){var S=j(4);S[0]=55,S[1]=S[3]=50,S[2]=54,w.FileIndex.push({name:I,type:2,content:S,size:4,L:69,R:69,C:69}),w.FullPaths.push(w.FullPaths[0]+I),F(w)}}function F(w,I){E(w);for(var S=!1,T=!1,O=w.FullPaths.length-1;O>=0;--O){var N=w.FileIndex[O];switch(N.type){case 0:T?S=!0:(w.FileIndex.pop(),w.FullPaths.pop());break;case 1:case 2:case 5:T=!0,isNaN(N.R*N.L*N.C)&&(S=!0),N.R>-1&&N.L>-1&&N.R==N.L&&(S=!0);break;default:S=!0;break}}if(!(!S&&!I)){var U=new Date(1987,1,19),Y=0,B=Object.create?Object.create(null):{},H=[];for(O=0;O<w.FullPaths.length;++O)B[w.FullPaths[O]]=!0,w.FileIndex[O].type!==0&&H.push([w.FullPaths[O],w.FileIndex[O]]);for(O=0;O<H.length;++O){var V=n(H[O][0]);T=B[V],T||(H.push([V,{name:i(V).replace("/",""),type:1,clsid:st,ct:U,mt:U,content:null}]),B[V]=!0)}for(H.sort(function(ue,ee){return r(ue[0],ee[0])}),w.FullPaths=[],w.FileIndex=[],O=0;O<H.length;++O)w.FullPaths[O]=H[O][0],w.FileIndex[O]=H[O][1];for(O=0;O<H.length;++O){var q=w.FileIndex[O],oe=w.FullPaths[O];if(q.name=i(oe).replace("/",""),q.L=q.R=q.C=-(q.color=1),q.size=q.content?q.content.length:0,q.start=0,q.clsid=q.clsid||st,O===0)q.C=H.length>1?1:-1,q.size=0,q.type=5;else if(oe.slice(-1)=="/"){for(Y=O+1;Y<H.length&&n(w.FullPaths[Y])!=oe;++Y);for(q.C=Y>=H.length?-1:Y,Y=O+1;Y<H.length&&n(w.FullPaths[Y])!=n(oe);++Y);q.R=Y>=H.length?-1:Y,q.type=1}else n(w.FullPaths[O+1]||"")==n(oe)&&(q.R=O+1),q.type=2}}}function k(w,I){var S=I||{};if(S.fileType=="mad")return n3(w,S);switch(F(w),S.fileType){case"zip":return ZE(w,S)}var T=function(ue){for(var ee=0,le=0,Ce=0;Ce<ue.FileIndex.length;++Ce){var gt=ue.FileIndex[Ce];if(gt.content){var xt=gt.content.length;xt>0&&(xt<4096?ee+=xt+63>>6:le+=xt+511>>9)}}for(var dr=ue.FullPaths.length+3>>2,cs=ee+7>>3,hs=ee+127>>7,ds=cs+le+dr+hs,fa=ds+127>>7,H0=fa<=109?0:Math.ceil((fa-109)/127);ds+fa+H0+127>>7>fa;)H0=++fa<=109?0:Math.ceil((fa-109)/127);var ei=[1,H0,fa,hs,dr,le,ee,0];return ue.FileIndex[0].size=ee<<6,ei[7]=(ue.FileIndex[0].start=ei[0]+ei[1]+ei[2]+ei[3]+ei[4]+ei[5])+(ei[6]+7>>3),ei}(w),O=j(T[7]<<9),N=0,U=0;{for(N=0;N<8;++N)O.write_shift(1,xe[N]);for(N=0;N<8;++N)O.write_shift(2,0);for(O.write_shift(2,62),O.write_shift(2,3),O.write_shift(2,65534),O.write_shift(2,9),O.write_shift(2,6),N=0;N<3;++N)O.write_shift(2,0);for(O.write_shift(4,0),O.write_shift(4,T[2]),O.write_shift(4,T[0]+T[1]+T[2]+T[3]-1),O.write_shift(4,0),O.write_shift(4,4096),O.write_shift(4,T[3]?T[0]+T[1]+T[2]-1:Q),O.write_shift(4,T[3]),O.write_shift(-4,T[1]?T[0]-1:Q),O.write_shift(4,T[1]),N=0;N<109;++N)O.write_shift(-4,N<T[2]?T[1]+N:-1)}if(T[1])for(U=0;U<T[1];++U){for(;N<236+U*127;++N)O.write_shift(-4,N<T[2]?T[1]+N:-1);O.write_shift(-4,U===T[1]-1?Q:U+1)}var Y=function(ue){for(U+=ue;N<U-1;++N)O.write_shift(-4,N+1);ue&&(++N,O.write_shift(-4,Q))};for(U=N=0,U+=T[1];N<U;++N)O.write_shift(-4,je.DIFSECT);for(U+=T[2];N<U;++N)O.write_shift(-4,je.FATSECT);Y(T[3]),Y(T[4]);for(var B=0,H=0,V=w.FileIndex[0];B<w.FileIndex.length;++B)V=w.FileIndex[B],V.content&&(H=V.content.length,!(H<4096)&&(V.start=U,Y(H+511>>9)));for(Y(T[6]+7>>3);O.l&511;)O.write_shift(-4,je.ENDOFCHAIN);for(U=N=0,B=0;B<w.FileIndex.length;++B)V=w.FileIndex[B],V.content&&(H=V.content.length,!(!H||H>=4096)&&(V.start=U,Y(H+63>>6)));for(;O.l&511;)O.write_shift(-4,je.ENDOFCHAIN);for(N=0;N<T[4]<<2;++N){var q=w.FullPaths[N];if(!q||q.length===0){for(B=0;B<17;++B)O.write_shift(4,0);for(B=0;B<3;++B)O.write_shift(4,-1);for(B=0;B<12;++B)O.write_shift(4,0);continue}V=w.FileIndex[N],N===0&&(V.start=V.size?V.start-1:Q);var oe=N===0&&S.root||V.name;if(H=2*(oe.length+1),O.write_shift(64,oe,"utf16le"),O.write_shift(2,H),O.write_shift(1,V.type),O.write_shift(1,V.color),O.write_shift(-4,V.L),O.write_shift(-4,V.R),O.write_shift(-4,V.C),V.clsid)O.write_shift(16,V.clsid,"hex");else for(B=0;B<4;++B)O.write_shift(4,0);O.write_shift(4,V.state||0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,0),O.write_shift(4,V.start),O.write_shift(4,V.size),O.write_shift(4,0)}for(N=1;N<w.FileIndex.length;++N)if(V=w.FileIndex[N],V.size>=4096)if(O.l=V.start+1<<9,We&&Buffer.isBuffer(V.content))V.content.copy(O,O.l,0,V.size),O.l+=V.size+511&-512;else{for(B=0;B<V.size;++B)O.write_shift(1,V.content[B]);for(;B&511;++B)O.write_shift(1,0)}for(N=1;N<w.FileIndex.length;++N)if(V=w.FileIndex[N],V.size>0&&V.size<4096)if(We&&Buffer.isBuffer(V.content))V.content.copy(O,O.l,0,V.size),O.l+=V.size+63&-64;else{for(B=0;B<V.size;++B)O.write_shift(1,V.content[B]);for(;B&63;++B)O.write_shift(1,0)}if(We)O.l=O.length;else for(;O.l<O.length;)O.write_shift(1,0);return O}function G(w,I){var S=w.FullPaths.map(function(B){return B.toUpperCase()}),T=S.map(function(B){var H=B.split("/");return H[H.length-(B.slice(-1)=="/"?2:1)]}),O=!1;I.charCodeAt(0)===47?(O=!0,I=S[0].slice(0,-1)+I):O=I.indexOf("/")!==-1;var N=I.toUpperCase(),U=O===!0?S.indexOf(N):T.indexOf(N);if(U!==-1)return w.FileIndex[U];var Y=!N.match(Tu);for(N=N.replace(Ys,""),Y&&(N=N.replace(Tu,"!")),U=0;U<S.length;++U)if((Y?S[U].replace(Tu,"!"):S[U]).replace(Ys,"")==N||(Y?T[U].replace(Tu,"!"):T[U]).replace(Ys,"")==N)return w.FileIndex[U];return null}var z=64,Q=-2,Ee="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],st="00000000000000000000000000000000",je={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:Ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:st,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(w,I,S){u();var T=k(w,S);l.writeFileSync(I,T)}function ve(w){for(var I=new Array(w.length),S=0;S<w.length;++S)I[S]=String.fromCharCode(w[S]);return I.join("")}function ye(w,I){var S=k(w,I);switch(I&&I.type||"buffer"){case"file":return u(),l.writeFileSync(I.filename,S),S;case"binary":return typeof S=="string"?S:ve(S);case"base64":return El(typeof S=="string"?S:ve(S));case"buffer":if(We)return Buffer.isBuffer(S)?S:Ei(S);case"array":return typeof S=="string"?Rn(S):S}return S}var Pe;function P(w){try{var I=w.InflateRaw,S=new I;if(S._processChunk(new Uint8Array([3,0]),S._finishFlushFlag),S.bytesRead)Pe=w;else throw new Error("zlib does not expose bytesRead")}catch(T){console.error("cannot use native zlib: "+(T.message||T))}}function W(w,I){if(!Pe)return Mp(w,I);var S=Pe.InflateRaw,T=new S,O=T._processChunk(w.slice(w.l),T._finishFlushFlag);return w.l+=T.bytesRead,O}function b(w){return Pe?Pe.deflateRawSync(w):Np(w)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ce=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(w){var I=(w<<1|w<<11)&139536|(w<<5|w<<15)&558144;return(I>>16|I>>8|I)&255}for(var pe=typeof Uint8Array<"u",se=pe?new Uint8Array(256):[],tt=0;tt<256;++tt)se[tt]=ge(tt);function ke(w,I){var S=se[w&255];return I<=8?S>>>8-I:(S=S<<8|se[w>>8&255],I<=16?S>>>16-I:(S=S<<8|se[w>>16&255],S>>>24-I))}function Cr(w,I){var S=I&7,T=I>>>3;return(w[T]|(S<=6?0:w[T+1]<<8))>>>S&3}function Ge(w,I){var S=I&7,T=I>>>3;return(w[T]|(S<=5?0:w[T+1]<<8))>>>S&7}function qn(w,I){var S=I&7,T=I>>>3;return(w[T]|(S<=4?0:w[T+1]<<8))>>>S&15}function Et(w,I){var S=I&7,T=I>>>3;return(w[T]|(S<=3?0:w[T+1]<<8))>>>S&31}function he(w,I){var S=I&7,T=I>>>3;return(w[T]|(S<=1?0:w[T+1]<<8))>>>S&127}function ln(w,I,S){var T=I&7,O=I>>>3,N=(1<<S)-1,U=w[O]>>>T;return S<8-T||(U|=w[O+1]<<8-T,S<16-T)||(U|=w[O+2]<<16-T,S<24-T)||(U|=w[O+3]<<24-T),U&N}function Jn(w,I,S){var T=I&7,O=I>>>3;return T<=5?w[O]|=(S&7)<<T:(w[O]|=S<<T&255,w[O+1]=(S&7)>>8-T),I+3}function la(w,I,S){var T=I&7,O=I>>>3;return S=(S&1)<<T,w[O]|=S,I+1}function Qa(w,I,S){var T=I&7,O=I>>>3;return S<<=T,w[O]|=S&255,S>>>=8,w[O+1]=S,I+8}function Op(w,I,S){var T=I&7,O=I>>>3;return S<<=T,w[O]|=S&255,S>>>=8,w[O+1]=S&255,w[O+2]=S>>>8,I+16}function b0(w,I){var S=w.length,T=2*S>I?2*S:I+5,O=0;if(S>=I)return w;if(We){var N=Og(T);if(w.copy)w.copy(N);else for(;O<w.length;++O)N[O]=w[O];return N}else if(pe){var U=new Uint8Array(T);if(U.set)U.set(w);else for(;O<S;++O)U[O]=w[O];return U}return w.length=T,w}function Wn(w){for(var I=new Array(w),S=0;S<w;++S)I[S]=0;return I}function tu(w,I,S){var T=1,O=0,N=0,U=0,Y=0,B=w.length,H=pe?new Uint16Array(32):Wn(32);for(N=0;N<32;++N)H[N]=0;for(N=B;N<S;++N)w[N]=0;B=w.length;var V=pe?new Uint16Array(B):Wn(B);for(N=0;N<B;++N)H[O=w[N]]++,T<O&&(T=O),V[N]=0;for(H[0]=0,N=1;N<=T;++N)H[N+16]=Y=Y+H[N-1]<<1;for(N=0;N<B;++N)Y=w[N],Y!=0&&(V[N]=H[Y+16]++);var q=0;for(N=0;N<B;++N)if(q=w[N],q!=0)for(Y=ke(V[N],T)>>T-q,U=(1<<T+4-q)-1;U>=0;--U)I[Y|U<<q]=q&15|N<<4;return T}var L0=pe?new Uint16Array(512):Wn(512),B0=pe?new Uint16Array(32):Wn(32);if(!pe){for(var ua=0;ua<512;++ua)L0[ua]=0;for(ua=0;ua<32;++ua)B0[ua]=0}(function(){for(var w=[],I=0;I<32;I++)w.push(5);tu(w,B0,32);var S=[];for(I=0;I<=143;I++)S.push(8);for(;I<=255;I++)S.push(9);for(;I<=279;I++)S.push(7);for(;I<=287;I++)S.push(8);tu(S,L0,288)})();var XE=function(){for(var I=pe?new Uint8Array(32768):[],S=0,T=0;S<ce.length-1;++S)for(;T<ce[S+1];++T)I[T]=S;for(;T<32768;++T)I[T]=29;var O=pe?new Uint8Array(259):[];for(S=0,T=0;S<K.length-1;++S)for(;T<K[S+1];++T)O[T]=S;function N(Y,B){for(var H=0;H<Y.length;){var V=Math.min(65535,Y.length-H),q=H+V==Y.length;for(B.write_shift(1,+q),B.write_shift(2,V),B.write_shift(2,~V&65535);V-- >0;)B[B.l++]=Y[H++]}return B.l}function U(Y,B){for(var H=0,V=0,q=pe?new Uint16Array(32768):[];V<Y.length;){var oe=Math.min(65535,Y.length-V);if(oe<10){for(H=Jn(B,H,+(V+oe==Y.length)),H&7&&(H+=8-(H&7)),B.l=H/8|0,B.write_shift(2,oe),B.write_shift(2,~oe&65535);oe-- >0;)B[B.l++]=Y[V++];H=B.l*8;continue}H=Jn(B,H,+(V+oe==Y.length)+2);for(var ue=0;oe-- >0;){var ee=Y[V];ue=(ue<<5^ee)&32767;var le=-1,Ce=0;if((le=q[ue])&&(le|=V&-32768,le>V&&(le-=32768),le<V))for(;Y[le+Ce]==Y[V+Ce]&&Ce<250;)++Ce;if(Ce>2){ee=O[Ce],ee<=22?H=Qa(B,H,se[ee+1]>>1)-1:(Qa(B,H,3),H+=5,Qa(B,H,se[ee-23]>>5),H+=3);var gt=ee<8?0:ee-4>>2;gt>0&&(Op(B,H,Ce-K[ee]),H+=gt),ee=I[V-le],H=Qa(B,H,se[ee]>>3),H-=3;var xt=ee<4?0:ee-2>>1;xt>0&&(Op(B,H,V-le-ce[ee]),H+=xt);for(var dr=0;dr<Ce;++dr)q[ue]=V&32767,ue=(ue<<5^Y[V])&32767,++V;oe-=Ce-1}else ee<=143?ee=ee+48:H=la(B,H,1),H=Qa(B,H,se[ee]),q[ue]=V&32767,++V}H=Qa(B,H,0)-1}return B.l=(H+7)/8|0,B.l}return function(B,H){return B.length<8?N(B,H):U(B,H)}}();function Np(w){var I=j(50+Math.floor(w.length*1.1)),S=XE(w,I);return I.slice(0,S)}var Dp=pe?new Uint16Array(32768):Wn(32768),Rp=pe?new Uint16Array(32768):Wn(32768),Pp=pe?new Uint16Array(128):Wn(128),Fp=1,kp=1;function $E(w,I){var S=Et(w,I)+257;I+=5;var T=Et(w,I)+1;I+=5;var O=qn(w,I)+4;I+=4;for(var N=0,U=pe?new Uint8Array(19):Wn(19),Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=1,H=pe?new Uint8Array(8):Wn(8),V=pe?new Uint8Array(8):Wn(8),q=U.length,oe=0;oe<O;++oe)U[M[oe]]=N=Ge(w,I),B<N&&(B=N),H[N]++,I+=3;var ue=0;for(H[0]=0,oe=1;oe<=B;++oe)V[oe]=ue=ue+H[oe-1]<<1;for(oe=0;oe<q;++oe)(ue=U[oe])!=0&&(Y[oe]=V[ue]++);var ee=0;for(oe=0;oe<q;++oe)if(ee=U[oe],ee!=0){ue=se[Y[oe]]>>8-ee;for(var le=(1<<7-ee)-1;le>=0;--le)Pp[ue|le<<ee]=ee&7|oe<<3}var Ce=[];for(B=1;Ce.length<S+T;)switch(ue=Pp[he(w,I)],I+=ue&7,ue>>>=3){case 16:for(N=3+Cr(w,I),I+=2,ue=Ce[Ce.length-1];N-- >0;)Ce.push(ue);break;case 17:for(N=3+Ge(w,I),I+=3;N-- >0;)Ce.push(0);break;case 18:for(N=11+he(w,I),I+=7;N-- >0;)Ce.push(0);break;default:Ce.push(ue),B<ue&&(B=ue);break}var gt=Ce.slice(0,S),xt=Ce.slice(S);for(oe=S;oe<286;++oe)gt[oe]=0;for(oe=T;oe<30;++oe)xt[oe]=0;return Fp=tu(gt,Dp,286),kp=tu(xt,Rp,30),I}function YE(w,I){if(w[0]==3&&!(w[1]&3))return[ba(I),2];for(var S=0,T=0,O=Og(I||1<<18),N=0,U=O.length>>>0,Y=0,B=0;!(T&1);){if(T=Ge(w,S),S+=3,T>>>1)T>>1==1?(Y=9,B=5):(S=$E(w,S),Y=Fp,B=kp);else{S&7&&(S+=8-(S&7));var H=w[S>>>3]|w[(S>>>3)+1]<<8;if(S+=32,H>0)for(!I&&U<N+H&&(O=b0(O,N+H),U=O.length);H-- >0;)O[N++]=w[S>>>3],S+=8;continue}for(;;){!I&&U<N+32767&&(O=b0(O,N+32767),U=O.length);var V=ln(w,S,Y),q=T>>>1==1?L0[V]:Dp[V];if(S+=q&15,q>>>=4,!(q>>>8&255))O[N++]=q;else{if(q==256)break;q-=257;var oe=q<8?0:q-4>>2;oe>5&&(oe=0);var ue=N+K[q];oe>0&&(ue+=ln(w,S,oe),S+=oe),V=ln(w,S,B),q=T>>>1==1?B0[V]:Rp[V],S+=q&15,q>>>=4;var ee=q<4?0:q-2>>1,le=ce[q];for(ee>0&&(le+=ln(w,S,ee),S+=ee),!I&&U<ue&&(O=b0(O,ue+100),U=O.length);N<ue;)O[N]=O[N-le],++N}}}return I?[O,S+7>>>3]:[O.slice(0,N),S+7>>>3]}function Mp(w,I){var S=w.slice(w.l||0),T=YE(S,I);return w.l+=T[1],T[0]}function bp(w,I){if(w)typeof console<"u"&&console.error(I);else throw new Error(I)}function Lp(w,I){var S=w;qr(S,0);var T=[],O=[],N={FileIndex:T,FullPaths:O};E(N,{root:I.root});for(var U=S.length-4;(S[U]!=80||S[U+1]!=75||S[U+2]!=5||S[U+3]!=6)&&U>=0;)--U;S.l=U+4,S.l+=4;var Y=S.read_shift(2);S.l+=6;var B=S.read_shift(4);for(S.l=B,U=0;U<Y;++U){S.l+=20;var H=S.read_shift(4),V=S.read_shift(4),q=S.read_shift(2),oe=S.read_shift(2),ue=S.read_shift(2);S.l+=8;var ee=S.read_shift(4),le=s(S.slice(S.l+q,S.l+q+oe));S.l+=q+oe+ue;var Ce=S.l;S.l=ee+4,KE(S,H,V,N,le),S.l=Ce}return N}function KE(w,I,S,T,O){w.l+=2;var N=w.read_shift(2),U=w.read_shift(2),Y=o(w);if(N&8257)throw new Error("Unsupported ZIP encryption");for(var B=w.read_shift(4),H=w.read_shift(4),V=w.read_shift(4),q=w.read_shift(2),oe=w.read_shift(2),ue="",ee=0;ee<q;++ee)ue+=String.fromCharCode(w[w.l++]);if(oe){var le=s(w.slice(w.l,w.l+oe));(le[21589]||{}).mt&&(Y=le[21589].mt),((O||{})[21589]||{}).mt&&(Y=O[21589].mt)}w.l+=oe;var Ce=w.slice(w.l,w.l+H);switch(U){case 8:Ce=W(w,V);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+U)}var gt=!1;N&8&&(B=w.read_shift(4),B==134695760&&(B=w.read_shift(4),gt=!0),H=w.read_shift(4),V=w.read_shift(4)),H!=I&&bp(gt,"Bad compressed size: "+I+" != "+H),V!=S&&bp(gt,"Bad uncompressed size: "+S+" != "+V),U0(T,ue,Ce,{unsafe:!0,mt:Y})}function ZE(w,I){var S=I||{},T=[],O=[],N=j(1),U=S.compression?8:0,Y=0,B=0,H=0,V=0,q=0,oe=w.FullPaths[0],ue=oe,ee=w.FileIndex[0],le=[],Ce=0;for(B=1;B<w.FullPaths.length;++B)if(ue=w.FullPaths[B].slice(oe.length),ee=w.FileIndex[B],!(!ee.size||!ee.content||ue=="Sh33tJ5")){var gt=V,xt=j(ue.length);for(H=0;H<ue.length;++H)xt.write_shift(1,ue.charCodeAt(H)&127);xt=xt.slice(0,xt.l),le[q]=nI.buf(ee.content,0);var dr=ee.content;U==8&&(dr=b(dr)),N=j(30),N.write_shift(4,67324752),N.write_shift(2,20),N.write_shift(2,Y),N.write_shift(2,U),ee.mt?a(N,ee.mt):N.write_shift(4,0),N.write_shift(-4,le[q]),N.write_shift(4,dr.length),N.write_shift(4,ee.content.length),N.write_shift(2,xt.length),N.write_shift(2,0),V+=N.length,T.push(N),V+=xt.length,T.push(xt),V+=dr.length,T.push(dr),N=j(46),N.write_shift(4,33639248),N.write_shift(2,0),N.write_shift(2,20),N.write_shift(2,Y),N.write_shift(2,U),N.write_shift(4,0),N.write_shift(-4,le[q]),N.write_shift(4,dr.length),N.write_shift(4,ee.content.length),N.write_shift(2,xt.length),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(4,0),N.write_shift(4,gt),Ce+=N.l,O.push(N),Ce+=xt.length,O.push(xt),++q}return N=j(22),N.write_shift(4,101010256),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,q),N.write_shift(2,q),N.write_shift(4,Ce),N.write_shift(4,V),N.write_shift(2,0),or([or(T),or(O),N])}var ru={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function QE(w,I){if(w.ctype)return w.ctype;var S=w.name||"",T=S.match(/\.([^\.]+)$/);return T&&ru[T[1]]||I&&(T=(S=I).match(/[\.\\]([^\.\\])+$/),T&&ru[T[1]])?ru[T[1]]:"application/octet-stream"}function qE(w){for(var I=El(w),S=[],T=0;T<I.length;T+=76)S.push(I.slice(T,T+76));return S.join(`\r
`)+`\r
`}function JE(w){var I=w.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(H){var V=H.charCodeAt(0).toString(16).toUpperCase();return"="+(V.length==1?"0"+V:V)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var S=[],T=I.split(`\r
`),O=0;O<T.length;++O){var N=T[O];if(N.length==0){S.push("");continue}for(var U=0;U<N.length;){var Y=76,B=N.slice(U,U+Y);B.charAt(Y-1)=="="?Y--:B.charAt(Y-2)=="="?Y-=2:B.charAt(Y-3)=="="&&(Y-=3),B=N.slice(U,U+Y),U+=Y,U<N.length&&(B+="="),S.push(B)}}return S.join(`\r
`)}function e3(w){for(var I=[],S=0;S<w.length;++S){for(var T=w[S];S<=w.length&&T.charAt(T.length-1)=="=";)T=T.slice(0,T.length-1)+w[++S];I.push(T)}for(var O=0;O<I.length;++O)I[O]=I[O].replace(/[=][0-9A-Fa-f]{2}/g,function(N){return String.fromCharCode(parseInt(N.slice(1),16))});return Rn(I.join(`\r
`))}function t3(w,I,S){for(var T="",O="",N="",U,Y=0;Y<10;++Y){var B=I[Y];if(!B||B.match(/^\s*$/))break;var H=B.match(/^(.*?):\s*([^\s].*)$/);if(H)switch(H[1].toLowerCase()){case"content-location":T=H[2].trim();break;case"content-type":N=H[2].trim();break;case"content-transfer-encoding":O=H[2].trim();break}}switch(++Y,O.toLowerCase()){case"base64":U=Rn(gi(I.slice(Y).join("")));break;case"quoted-printable":U=e3(I.slice(Y));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+O)}var V=U0(w,T.slice(S.length),U,{unsafe:!0});N&&(V.ctype=N)}function r3(w,I){if(ve(w.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var S=I&&I.root||"",T=(We&&Buffer.isBuffer(w)?w.toString("binary"):ve(w)).split(`\r
`),O=0,N="";for(O=0;O<T.length;++O)if(N=T[O],!!/^Content-Location:/i.test(N)&&(N=N.slice(N.indexOf("file")),S||(S=N.slice(0,N.lastIndexOf("/")+1)),N.slice(0,S.length)!=S))for(;S.length>0&&(S=S.slice(0,S.length-1),S=S.slice(0,S.lastIndexOf("/")+1),N.slice(0,S.length)!=S););var U=(T[1]||"").match(/boundary="(.*?)"/);if(!U)throw new Error("MAD cannot find boundary");var Y="--"+(U[1]||""),B=[],H=[],V={FileIndex:B,FullPaths:H};E(V);var q,oe=0;for(O=0;O<T.length;++O){var ue=T[O];ue!==Y&&ue!==Y+"--"||(oe++&&t3(V,T.slice(q,O),S),q=O)}return V}function n3(w,I){var S=I||{},T=S.boundary||"SheetJS";T="------="+T;for(var O=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+T.slice(2)+'"',"","",""],N=w.FullPaths[0],U=N,Y=w.FileIndex[0],B=1;B<w.FullPaths.length;++B)if(U=w.FullPaths[B].slice(N.length),Y=w.FileIndex[B],!(!Y.size||!Y.content||U=="Sh33tJ5")){U=U.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ce){return"_x"+Ce.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ce){return"_u"+Ce.charCodeAt(0).toString(16)+"_"});for(var H=Y.content,V=We&&Buffer.isBuffer(H)?H.toString("binary"):ve(H),q=0,oe=Math.min(1024,V.length),ue=0,ee=0;ee<=oe;++ee)(ue=V.charCodeAt(ee))>=32&&ue<128&&++q;var le=q>=oe*4/5;O.push(T),O.push("Content-Location: "+(S.root||"file:///C:/SheetJS/")+U),O.push("Content-Transfer-Encoding: "+(le?"quoted-printable":"base64")),O.push("Content-Type: "+QE(Y,U)),O.push(""),O.push(le?JE(V):qE(V))}return O.push(T+`--\r
`),O.join(`\r
`)}function i3(w){var I={};return E(I,w),I}function U0(w,I,S,T){var O=T&&T.unsafe;O||E(w);var N=!O&&et.find(w,I);if(!N){var U=w.FullPaths[0];I.slice(0,U.length)==U?U=I:(U.slice(-1)!="/"&&(U+="/"),U=(U+I).replace("//","/")),N={name:i(I),type:2},w.FileIndex.push(N),w.FullPaths.push(U),O||et.utils.cfb_gc(w)}return N.content=S,N.size=S?S.length:0,T&&(T.CLSID&&(N.clsid=T.CLSID),T.mt&&(N.mt=T.mt),T.ct&&(N.ct=T.ct)),N}function a3(w,I){E(w);var S=et.find(w,I);if(S){for(var T=0;T<w.FileIndex.length;++T)if(w.FileIndex[T]==S)return w.FileIndex.splice(T,1),w.FullPaths.splice(T,1),!0}return!1}function o3(w,I,S){E(w);var T=et.find(w,I);if(T){for(var O=0;O<w.FileIndex.length;++O)if(w.FileIndex[O]==T)return w.FileIndex[O].name=i(S),w.FullPaths[O]=S,!0}return!1}function s3(w){F(w,!0)}return e.find=G,e.read=D,e.parse=f,e.write=ye,e.writeFile=ae,e.utils={cfb_new:i3,cfb_add:U0,cfb_del:a3,cfb_mov:o3,cfb_gc:s3,ReadShift:Zs,CheckField:fy,prep_blob:qr,bconcat:or,use_zlib:P,_deflateRaw:Np,_inflateRaw:Mp,consts:je},e}();function iI(t){return typeof t=="string"?_0(t):Array.isArray(t)?D8(t):t}function zl(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=_0(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?ai(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([iI(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(t);return s.open("w"),s.encoding="binary",Array.isArray(e)&&(e=Gl(e)),s.write(e),s.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function hr(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function bg(t,e){for(var r=[],n=hr(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Ad(t){for(var e=[],r=hr(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function w0(t){for(var e=[],r=hr(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function aI(t){for(var e=[],r=hr(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var If=new Date(1899,11,30,0,0,0);function Xr(t,e){var r=t.getTime();e&&(r-=1462*24*60*60*1e3);var n=If.getTime()+(t.getTimezoneOffset()-If.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var $m=new Date,oI=If.getTime()+($m.getTimezoneOffset()-If.getTimezoneOffset())*6e4,Lg=$m.getTimezoneOffset();function Ym(t){var e=new Date;return e.setTime(t*24*60*60*1e3+oI),e.getTimezoneOffset()!==Lg&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Lg)*6e4),e}var Bg=new Date("2017-02-19T19:06:09.000Z"),Km=isNaN(Bg.getFullYear())?new Date("2/19/17"):Bg,sI=Km.getFullYear()==2017;function Rr(t,e){var r=new Date(t);if(sI)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Km.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function E0(t,e){if(We&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return ai(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return ai(N8(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return ai(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return ai(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function $r(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=$r(t[r]));return e}function St(t,e){for(var r="";r.length<e;)r+=t;return r}function ui(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var lI=["january","february","march","april","may","june","july","august","september","october","november","december"];function Cl(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&lI.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Se(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return We?n=Ei(r):n=R8(r),et.utils.cfb_add(t,e,n)}et.utils.cfb_add(t,e,r)}else t.file(e,r)}function Td(){return et.utils.cfb_new()}var Rt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Id=Ad(uI),Od=/[&<>'"]/g,fI=/[\u0000-\u0008\u000b-\u001f]/g;function Ze(t){var e=t+"";return e.replace(Od,function(r){return Id[r]}).replace(fI,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Ug(t){return Ze(t).replace(/ /g,"_x0020_")}var Zm=/[\u0000-\u001f]/g;function cI(t){var e=t+"";return e.replace(Od,function(r){return Id[r]}).replace(/\n/g,"<br/>").replace(Zm,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function hI(t){var e=t+"";return e.replace(Od,function(r){return Id[r]}).replace(Zm,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function dI(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function pI(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Cc(t){for(var e="",r=0,n=0,i=0,a=0,o=0,s=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=t.charCodeAt(r++),s=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(s>>>10&1023)),e+=String.fromCharCode(56320+(s&1023))}return e}function Hg(t){var e=ba(2*t.length),r,n,i=1,a=0,o=0,s;for(n=0;n<t.length;n+=i)i=1,(s=t.charCodeAt(n))<128?r=s:s<224?(r=(s&31)*64+(t.charCodeAt(n+1)&63),i=2):s<240?(r=(s&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(s&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[a++]=o&255,e[a++]=o>>>8,o=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function Wg(t){return Ei(t,"binary").toString("utf8")}var Ou="foo bar baz",Ks=We&&(Wg(Ou)==Cc(Ou)&&Wg||Hg(Ou)==Cc(Ou)&&Hg)||Cc,ai=We?function(t){return Ei(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},vI=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),Qm=/(^\s|\s$|\n)/;function sr(t,e){return"<"+t+(e.match(Qm)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Sl(t){return hr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function re(t,e,r){return"<"+t+(r!=null?Sl(r):"")+(e!=null?(e.match(Qm)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Qh(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function gI(t,e){switch(typeof t){case"string":var r=re("vt:lpwstr",Ze(t));return e&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return re((t|0)==t?"vt:i4":"vt:r8",Ze(String(t)));case"boolean":return re("vt:bool",t?"true":"false")}if(t instanceof Date)return re("vt:filetime",Qh(t));throw new Error("Unable to serialize "+t)}var Yt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},rs=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Jr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function xI(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function _I(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,o=n?-e:e;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var s=0;s<=5;++s,a/=256)t[r+s]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var Vg=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},Gg=We?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ei(e)})):Vg(t)}:Vg,zg=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Bs(t,i)));return n.join("").replace(Ys,"")},Nd=We?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ys,""):zg(t,e,r)}:zg,jg=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},qm=We?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):jg(t,e,r)}:jg,Xg=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(ao(t,i)));return n.join("")},jl=We?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Xg(e,r,n)}:Xg,Jm=function(t,e){var r=en(t,e);return r>0?jl(t,e+4,e+4+r-1):""},ey=Jm,ty=function(t,e){var r=en(t,e);return r>0?jl(t,e+4,e+4+r-1):""},ry=ty,ny=function(t,e){var r=2*en(t,e);return r>0?jl(t,e+4,e+4+r-1):""},iy=ny,ay=function(e,r){var n=en(e,r);return n>0?Nd(e,r+4,r+4+n):""},oy=ay,sy=function(t,e){var r=en(t,e);return r>0?jl(t,e+4,e+4+r):""},ly=sy,uy=function(t,e){return xI(t,e)},Of=uy,Dd=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};We&&(ey=function(e,r){if(!Buffer.isBuffer(e))return Jm(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},ry=function(e,r){if(!Buffer.isBuffer(e))return ty(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},iy=function(e,r){if(!Buffer.isBuffer(e))return ny(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},oy=function(e,r){if(!Buffer.isBuffer(e))return ay(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},ly=function(e,r){if(!Buffer.isBuffer(e))return sy(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Of=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):uy(e,r)},Dd=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ao=function(t,e){return t[e]},Bs=function(t,e){return t[e+1]*256+t[e]},mI=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},en=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ma=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},yI=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Zs(t,e){var r="",n,i,a=[],o,s,l,u;switch(e){case"dbcs":if(u=this.l,We&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Bs(this,u)),u+=2;t*=2;break;case"utf8":r=jl(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Nd(this,this.l,this.l+t);break;case"wstr":return Zs.call(this,t,"dbcs");case"lpstr-ansi":r=ey(this,this.l),t=4+en(this,this.l);break;case"lpstr-cp":r=ry(this,this.l),t=4+en(this,this.l);break;case"lpwstr":r=iy(this,this.l),t=4+2*en(this,this.l);break;case"lpp4":t=4+en(this,this.l),r=oy(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+en(this,this.l),r=ly(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=ao(this,this.l+t++))!==0;)a.push(Au(o));r=a.join("");break;case"_wstr":for(t=0,r="";(o=Bs(this,this.l+t))!==0;)a.push(Au(o)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ao(this,u),this.l=u+1,s=Zs.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(Au(Bs(this,u))),u+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return o=ao(this,u),this.l=u+1,s=Zs.call(this,t-l,o?"dbcs-cont":"sbcs-cont"),a.join("")+s;a.push(Au(ao(this,u))),u+=1}r=a.join("");break;default:switch(t){case 1:return n=ao(this,this.l),this.l++,n;case 2:return n=(e==="i"?mI:Bs)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?ma:yI)(this,this.l),this.l+=4,n):(i=en(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Of(this,this.l):i=Of([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=qm(this,this.l,t);break}}return this.l+=t,r}var wI=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},EI=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},CI=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function SI(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)CI(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,wI(this,e,this.l);break;case 8:if(n=8,r==="f"){_I(this,e,this.l);break}case 16:break;case-4:n=4,EI(this,e,this.l);break}return this.l+=n,this}function fy(t,e){var r=qm(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function qr(t,e){t.l=e,t.read_shift=Zs,t.chk=fy,t.write_shift=SI}function Qn(t,e){t.l+=e}function j(t){var e=ba(t);return qr(e,0),e}function zr(){var t=[],e=We?256:2048,r=function(u){var f=j(u);return qr(f,0),f},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},o=function(){return i(),or(t)},s=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:s,end:o,_bufs:t}}function Z(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=xR[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=t.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var s=0;s!=4;++s)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&Dd(r)&&t.push(r)}}function Qs(t,e,r){var n=$r(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function $g(t,e,r){var n=$r(t);return n.s=Qs(n.s,e.s,r),n.e=Qs(n.e,e.s,r),n}function qs(t,e){if(t.cRel&&t.c<0)for(t=$r(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=$r(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=qe(t);return!t.cRel&&t.cRel!=null&&(r=II(r)),!t.rRel&&t.rRel!=null&&(r=AI(r)),r}function Sc(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+mr(t.s.c)+":"+(t.e.cRel?"":"$")+mr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+fr(t.s.r)+":"+(t.e.rRel?"":"$")+fr(t.e.r):qs(t.s,e.biff)+":"+qs(t.e,e.biff)}function Rd(t){return parseInt(TI(t),10)-1}function fr(t){return""+(t+1)}function AI(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TI(t){return t.replace(/\$(\d+)$/,"$1")}function Pd(t){for(var e=OI(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function mr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function II(t){return t.replace(/^([A-Z])/,"$$$1")}function OI(t){return t.replace(/^\$([A-Z])/,"$1")}function NI(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qt(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function qe(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function an(t){var e=t.indexOf(":");return e==-1?{s:Qt(t),e:Qt(t)}:{s:Qt(t.slice(0,e)),e:Qt(t.slice(e+1))}}function Dt(t,e){return typeof e>"u"||typeof e=="number"?Dt(t.s,t.e):(typeof t!="string"&&(t=qe(t)),typeof e!="string"&&(e=qe(e)),t==e?t:t+":"+e)}function dt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Yg(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ji(t.z,r?Xr(e):e)}catch{}try{return t.w=Ji((t.XF||{}).numFmtId||(r?14:0),r?Xr(e):e)}catch{return""+e}}function xi(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Xl[t.v]||t.v:e==null?Yg(t,t.v):Yg(t,e))}function ja(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function cy(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),o=0,s=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Qt(n.origin):n.origin;o=l.r,s=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=dt(a["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var c=0;c!=e.length;++c)if(e[c]){if(!Array.isArray(e[c]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[c].length;++h)if(!(typeof e[c][h]>"u")){var d={v:e[c][h]},p=o+c,v=s+h;if(u.s.r>p&&(u.s.r=p),u.s.c>v&&(u.s.c=v),u.e.r<p&&(u.e.r=p),u.e.c<v&&(u.e.c=v),e[c][h]&&typeof e[c][h]=="object"&&!Array.isArray(e[c][h])&&!(e[c][h]instanceof Date))d=e[c][h];else if(Array.isArray(d.v)&&(d.f=e[c][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||Tt[14],n.cellDates?(d.t="d",d.w=Ji(d.z,Xr(d.v))):(d.t="n",d.v=Xr(d.v),d.w=Ji(d.z,d.v))):d.t="s";if(i)a[p]||(a[p]=[]),a[p][v]&&a[p][v].z&&(d.z=a[p][v].z),a[p][v]=d;else{var _=qe({c:v,r:p});a[_]&&a[_].z&&(d.z=a[_].z),a[_]=d}}}return u.s.c<1e7&&(a["!ref"]=Dt(u)),a}function ns(t,e){return cy(null,t,e)}function DI(t){return t.read_shift(4,"i")}function Bn(t,e){return e||(e=j(4)),e.write_shift(4,t),e}function yr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function qt(t,e){var r=!1;return e==null&&(r=!0,e=j(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function RI(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function PI(t,e){return e||(e=j(4)),e.write_shift(2,t.ich||0),e.write_shift(2,t.ifnt||0),e}function Fd(t,e){var r=t.l,n=t.read_shift(1),i=yr(t),a=[],o={t:i,h:i};if(n&1){for(var s=t.read_shift(4),l=0;l!=s;++l)a.push(RI(t));o.r=a}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function FI(t,e){var r=!1;return e==null&&(r=!0,e=j(15+4*t.t.length)),e.write_shift(1,0),qt(t.t,e),r?e.slice(0,e.l):e}var kI=Fd;function MI(t,e){var r=!1;return e==null&&(r=!0,e=j(23+4*t.t.length)),e.write_shift(1,1),qt(t.t,e),e.write_shift(4,1),PI({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function yn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Xa(t,e){return e==null&&(e=j(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function $a(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Ya(t,e){return e==null&&(e=j(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var bI=yr,hy=qt;function kd(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Nf(t,e){var r=!1;return e==null&&(r=!0,e=j(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var LI=yr,qh=kd,Md=Nf;function dy(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Of([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ma(e,0)>>2;return r?i/100:i}function py(t,e){e==null&&(e=j(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function vy(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function BI(t,e){return e||(e=j(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Ka=vy,is=BI;function as(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function La(t,e){return(e||j(8)).write_shift(8,t,"f")}function UI(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),o=t.read_shift(1),s=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=YI[i];u&&(e.rgb=a2(u));break;case 2:e.rgb=a2([o,s,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Df(t,e){if(e||(e=j(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function HI(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function WI(t,e){e||(e=j(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var gy=2,Zr=3,Nu=11,Rf=19,Du=64,VI=65,GI=71,zI=4108,jI=4126,ir=80,Kg={1:{n:"CodePage",t:gy},2:{n:"Category",t:ir},3:{n:"PresentationFormat",t:ir},4:{n:"ByteCount",t:Zr},5:{n:"LineCount",t:Zr},6:{n:"ParagraphCount",t:Zr},7:{n:"SlideCount",t:Zr},8:{n:"NoteCount",t:Zr},9:{n:"HiddenCount",t:Zr},10:{n:"MultimediaClipCount",t:Zr},11:{n:"ScaleCrop",t:Nu},12:{n:"HeadingPairs",t:zI},13:{n:"TitlesOfParts",t:jI},14:{n:"Manager",t:ir},15:{n:"Company",t:ir},16:{n:"LinksUpToDate",t:Nu},17:{n:"CharacterCount",t:Zr},19:{n:"SharedDoc",t:Nu},22:{n:"HyperlinksChanged",t:Nu},23:{n:"AppVersion",t:Zr,p:"version"},24:{n:"DigSig",t:VI},26:{n:"ContentType",t:ir},27:{n:"ContentStatus",t:ir},28:{n:"Language",t:ir},29:{n:"Version",t:ir},255:{},2147483648:{n:"Locale",t:Rf},2147483651:{n:"Behavior",t:Rf},1919054434:{}},Zg={1:{n:"CodePage",t:gy},2:{n:"Title",t:ir},3:{n:"Subject",t:ir},4:{n:"Author",t:ir},5:{n:"Keywords",t:ir},6:{n:"Comments",t:ir},7:{n:"Template",t:ir},8:{n:"LastAuthor",t:ir},9:{n:"RevNumber",t:ir},10:{n:"EditTime",t:Du},11:{n:"LastPrinted",t:Du},12:{n:"CreatedDate",t:Du},13:{n:"ModifiedDate",t:Du},14:{n:"PageCount",t:Zr},15:{n:"WordCount",t:Zr},16:{n:"CharCount",t:Zr},17:{n:"Thumbnail",t:GI},18:{n:"Application",t:ir},19:{n:"DocSecurity",t:Zr},255:{},2147483648:{n:"Locale",t:Rf},2147483651:{n:"Behavior",t:Rf},1919054434:{}};function XI(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var $I=XI([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),YI=$r($I),Xl={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},KI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ru={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function xy(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function _y(t,e){var r=aI(KI),n=[],i;n[n.length]=Rt,n[n.length]=re("Types",null,{xmlns:Yt.CT,"xmlns:xsd":Yt.xsd,"xmlns:xsi":Yt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return re("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=re("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ru[l][e.bookType]||Ru[l].xlsx}))},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=re("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ru[l][e.bookType]||Ru[l].xlsx})})},s=function(l){(t[l]||[]).forEach(function(u){n[n.length]=re("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return a("workbooks"),o("sheets"),o("charts"),s("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),o("metadata"),s("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Le={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function my(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Do(t){var e=[Rt,re("Relationships",null,{xmlns:Yt.RELS})];return hr(t["!id"]).forEach(function(r){e[e.length]=re("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ke(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,a?i.TargetMode=a:[Le.HLINK,Le.XPATH,Le.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function ZI(t){var e=[Rt];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Qg(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function QI(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function qI(t){var e=[Rt];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Qg(t[r][0],t[r][1])),e.push(QI("",t[r][0]));return e.push(Qg("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function yy(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Cf.version+"</meta:generator></office:meta></office:document-meta>"}var Na=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ac(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ze(e),n[n.length]=r?re(t,e,r):sr(t,e))}function wy(t,e){var r=e||{},n=[Rt,re("cp:coreProperties",null,{"xmlns:cp":Yt.CORE_PROPS,"xmlns:dc":Yt.dc,"xmlns:dcterms":Yt.dcterms,"xmlns:dcmitype":Yt.dcmitype,"xmlns:xsi":Yt.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Ac("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Qh(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&Ac("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Qh(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Na.length;++a){var o=Na[a],s=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;s===!0?s="1":s===!1?s="0":typeof s=="number"&&(s=String(s)),s!=null&&Ac(o[0],s,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ro=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ey=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Cy(t){var e=[],r=re;return t||(t={}),t.Application="SheetJS",e[e.length]=Rt,e[e.length]=re("Properties",null,{xmlns:Yt.EXT_PROPS,"xmlns:vt":Yt.vt}),Ro.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ze(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Ze(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function Sy(t){var e=[Rt,re("Properties",null,{xmlns:Yt.CUST_PROPS,"xmlns:vt":Yt.vt})];if(!t)return e.join("");var r=1;return hr(t).forEach(function(i){++r,e[e.length]=re("property",gI(t[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ze(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var qg={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function JI(t,e){var r=[];return hr(qg).map(function(n){for(var i=0;i<Na.length;++i)if(Na[i][1]==n)return Na[i];for(i=0;i<Ro.length;++i)if(Ro[i][1]==n)return Ro[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(sr(qg[n[1]]||n[1],i))}}),re("DocumentProperties",r.join(""),{xmlns:Jr.o})}function e6(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&hr(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var o=0;o<Na.length;++o)if(a==Na[o][1])return;for(o=0;o<Ro.length;++o)if(a==Ro[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var s=t[a],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s=String(s),i.push(re(Ug(a),s,{"dt:dt":l}))}}),e&&hr(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var o=e[a],s="string";typeof o=="number"?(s="float",o=String(o)):o===!0||o===!1?(s="boolean",o=o?"1":"0"):o instanceof Date?(s="dateTime.tz",o=o.toISOString()):o=String(o),i.push(re(Ug(a),o,{"dt:dt":s}))}}),"<"+n+' xmlns="'+Jr.o+'">'+i.join("")+"</"+n+">"}function t6(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var o=j(8);return o.write_shift(4,n),o.write_shift(4,i),o}function Jg(t,e){var r=j(4),n=j(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=j(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=t6(e);break;case 31:case 80:for(n=j(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return or([r,n])}var Ay=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function r6(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function e2(t,e,r){var n=j(8),i=[],a=[],o=8,s=0,l=j(8),u=j(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),a.push(l),i.push(u),o+=8+l.length,!e){u=j(8),u.write_shift(4,0),i.unshift(u);var f=[j(4)];for(f[0].write_shift(4,t.length),s=0;s<t.length;++s){var c=t[s][0];for(l=j(4+4+2*(c.length+1)+(c.length%2?0:2)),l.write_shift(4,s+2),l.write_shift(4,c.length+1),l.write_shift(0,c,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=or(f),a.unshift(l),o+=8+l.length}for(s=0;s<t.length;++s)if(!(e&&!e[t[s][0]])&&!(Ay.indexOf(t[s][0])>-1||Ey.indexOf(t[s][0])>-1)&&t[s][1]!=null){var h=t[s][1],d=0;if(e){d=+e[t[s][0]];var p=r[d];if(p.p=="version"&&typeof h=="string"){var v=h.split(".");h=(+v[0]<<16)+(+v[1]||0)}l=Jg(p.t,h)}else{var _=r6(h);_==-1&&(_=31,h=String(h)),l=Jg(_,h)}a.push(l),u=j(8),u.write_shift(4,e?d:2+s),i.push(u),o+=8+l.length}var x=8*(a.length+1);for(s=0;s<a.length;++s)i[s].write_shift(4,x),x+=a[s].length;return n.write_shift(4,o),n.write_shift(4,a.length),or([n].concat(i).concat(a))}function t2(t,e,r,n,i,a){var o=j(i?68:48),s=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,et.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var l=e2(t,r,n);if(s.push(l),i){var u=e2(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+l.length),s.push(u)}return or(s)}function n6(t,e){e||(e=j(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function i6(t,e){return t.read_shift(e)===1}function Nr(t,e){return e||(e=j(2)),e.write_shift(2,+!!t),e}function Ty(t){return t.read_shift(2,"u")}function cn(t,e){return e||(e=j(2)),e.write_shift(2,t),e}function Iy(t,e,r){return r||(r=j(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Oy(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?t.read_shift(n,i):"";return o}function a6(t){var e=t.t||"",r=j(3+0);r.write_shift(2,e.length),r.write_shift(1,1);var n=j(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return or(i)}function o6(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function s6(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):o6(t,n,r)}function l6(t,e,r){if(r.biff>5)return s6(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Ny(t,e,r){return r||(r=j(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function r2(t,e){e||(e=j(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function u6(t){var e=j(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(a==28)n=n.slice(1),r2(n,e);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var s=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(s.length+1)),r=0;r<s.length;++r)e.write_shift(2,s.charCodeAt(r));e.write_shift(2,0),a&8&&r2(i>-1?n.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Ba(t,e,r,n){return n||(n=j(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function f6(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[i,a,o]}function c6(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function Dy(t,e){return e||(e=j(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function bd(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=j(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function h6(t,e){var r=!e||e.biff==8,n=j(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function d6(t,e){var r=!e||e.biff>=8?2:1,n=j(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function p6(t,e){var r=j(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=a6(t[i]);var a=or([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function v6(){var t=j(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function g6(t){var e=j(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function x6(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=j(i);return a.write_shift(2,(t.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function _6(t,e,r,n){var i=j(10);return Ba(t,e,n,i),i.write_shift(4,r),i}function m6(t,e,r,n,i){var a=!i||i.biff==8,o=j(6+2+ +a+(1+a)*r.length);return Ba(t,e,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function y6(t,e,r,n){var i=r&&r.biff==5;n||(n=j(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function w6(t,e){var r=e.biff==8||!e.biff?4:2,n=j(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function n2(t,e,r,n){var i=r&&r.biff==5;n||(n=j(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function E6(t){var e=j(8);return e.write_shift(4,0),e.write_shift(2,t[0]?t[0]+1:0),e.write_shift(2,t[1]?t[1]+1:0),e}function C6(t,e,r,n,i,a){var o=j(8);return Ba(t,e,n,o),Iy(r,a,o),o}function S6(t,e,r,n){var i=j(14);return Ba(t,e,n,i),La(r,i),i}function A6(t,e,r){if(r.biff<8)return T6(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(f6(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function T6(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Oy(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function I6(t){var e=j(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)Dy(t[r],e);return e}function O6(t){var e=j(24),r=Qt(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return or([e,u6(t[1])])}function N6(t){var e=t[1].Tooltip,r=j(10+2*(e.length+1));r.write_shift(2,2048);var n=Qt(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function D6(t){return t||(t=j(4)),t.write_shift(2,1),t.write_shift(2,1),t}function R6(t,e,r){if(!r.cellStyles)return Qn(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:a,w:o,ixfe:s,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function P6(t,e){var r=j(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function F6(t){for(var e=j(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function k6(t,e,r){var n=j(15);return Yl(n,t,e),n.write_shift(8,r,"f"),n}function M6(t,e,r){var n=j(9);return Yl(n,t,e),n.write_shift(2,r),n}var b6=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Ad({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(s,l){var u=[],f=ba(1);switch(l.type){case"base64":f=Rn(gi(s));break;case"binary":f=Rn(s);break;case"buffer":case"array":f=s;break}qr(f,0);var c=f.read_shift(1),h=!!(c&136),d=!1,p=!1;switch(c){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+c.toString(16))}var v=0,_=521;c==2&&(v=f.read_shift(2)),f.l+=3,c!=2&&(v=f.read_shift(4)),v>1048576&&(v=1e6),c!=2&&(_=f.read_shift(2));var x=f.read_shift(2),g=l.codepage||1252;c!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(g=t[f[f.l]]),f.l+=1,f.l+=2),p&&(f.l+=36);for(var m=[],y={},C=Math.min(f.length,c==2?521:_-10-(d?264:0)),D=p?32:11;f.l<C&&f[f.l]!=13;)switch(y={},y.name=_a.utils.decode(g,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,y.type=String.fromCharCode(f.read_shift(1)),c!=2&&!p&&(y.offset=f.read_shift(4)),y.len=f.read_shift(1),c==2&&(y.offset=f.read_shift(2)),y.dec=f.read_shift(1),y.name.length&&m.push(y),c!=2&&(f.l+=p?13:14),y.type){case"B":(!d||y.len!=8)&&l.WTF&&console.log("Skipping "+y.name+":"+y.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+y.name+":"+y.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+y.type)}if(f[f.l]!==13&&(f.l=_-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=_;var E=0,R=0;for(u[0]=[],R=0;R!=m.length;++R)u[0][R]=m[R].name;for(;v-- >0;){if(f[f.l]===42){f.l+=x;continue}for(++f.l,u[++E]=[],R=0,R=0;R!=m.length;++R){var F=f.slice(f.l,f.l+m[R].len);f.l+=m[R].len,qr(F,0);var k=_a.utils.decode(g,F);switch(m[R].type){case"C":k.trim().length&&(u[E][R]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[E][R]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[E][R]=k;break;case"F":u[E][R]=parseFloat(k.trim());break;case"+":case"I":u[E][R]=p?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[E][R]=!0;break;case"N":case"F":u[E][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+c.toString(16));u[E][R]="##MEMO##"+(p?parseInt(k.trim(),10):F.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[E][R]=+k||0);break;case"@":u[E][R]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":u[E][R]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":u[E][R]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[E][R]=-F.read_shift(-8,"f");break;case"B":if(d&&m[R].len==8){u[E][R]=F.read_shift(8,"f");break}case"G":case"P":F.l+=m[R].len;break;case"0":if(m[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+m[R].type)}}}if(c!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=m,u}function n(s,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=ns(r(s,u),u);return f["!cols"]=u.DBF.map(function(c){return{wch:c.len,DBF:c}}),delete u.DBF,f}function i(s,l){try{return ja(n(s,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(s,l){var u=l||{};if(+u.codepage>=0&&wl(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=zr(),c=bf(s,{header:1,raw:!0,cellDates:!0}),h=c[0],d=c.slice(1),p=s["!cols"]||[],v=0,_=0,x=0,g=1;for(v=0;v<h.length;++v){if(((p[v]||{}).DBF||{}).name){h[v]=p[v].DBF.name,++x;continue}if(h[v]!=null){if(++x,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(_=0;_<1024;++_)if(h.indexOf(h[v]+"_"+_)==-1){h[v]+="_"+_;break}}}}var m=dt(s["!ref"]),y=[],C=[],D=[];for(v=0;v<=m.e.c-m.s.c;++v){var E="",R="",F=0,k=[];for(_=0;_<d.length;++_)d[_][v]!=null&&k.push(d[_][v]);if(k.length==0||h[v]==null){y[v]="?";continue}for(_=0;_<k.length;++_){switch(typeof k[_]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=k[_]instanceof Date?"D":"C";break;default:R="C"}F=Math.max(F,String(k[_]).length),E=E&&E!=R?"C":R}F>250&&(F=250),R=((p[v]||{}).DBF||{}).type,R=="C"&&p[v].DBF.len>F&&(F=p[v].DBF.len),E=="B"&&R=="N"&&(E="N",D[v]=p[v].DBF.dec,F=p[v].DBF.len),C[v]=E=="C"||R=="N"?F:a[E]||0,g+=C[v],y[v]=E}var G=f.next(32);for(G.write_shift(4,318902576),G.write_shift(4,d.length),G.write_shift(2,296+32*x),G.write_shift(2,g),v=0;v<4;++v)G.write_shift(4,0);for(G.write_shift(4,0|(+e[Pm]||3)<<8),v=0,_=0;v<h.length;++v)if(h[v]!=null){var z=f.next(32),Q=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,Q,"sbcs"),z.write_shift(1,y[v]=="?"?"C":y[v],"sbcs"),z.write_shift(4,_),z.write_shift(1,C[v]||a[y[v]]||0),z.write_shift(1,D[v]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),_+=C[v]||a[y[v]]||0}var Ee=f.next(264);for(Ee.write_shift(4,13),v=0;v<65;++v)Ee.write_shift(4,0);for(v=0;v<d.length;++v){var xe=f.next(g);for(xe.write_shift(1,0),_=0;_<h.length;++_)if(h[_]!=null)switch(y[_]){case"L":xe.write_shift(1,d[v][_]==null?63:d[v][_]?84:70);break;case"B":xe.write_shift(8,d[v][_]||0,"f");break;case"N":var st="0";for(typeof d[v][_]=="number"&&(st=d[v][_].toFixed(D[_]||0)),x=0;x<C[_]-st.length;++x)xe.write_shift(1,32);xe.write_shift(1,st,"sbcs");break;case"D":d[v][_]?(xe.write_shift(4,("0000"+d[v][_].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(d[v][_].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+d[v][_].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var je=String(d[v][_]!=null?d[v][_]:"").slice(0,C[_]);for(xe.write_shift(1,je,"sbcs"),x=0;x<C[_]-je.length;++x)xe.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),L6=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+hr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var p=t[d];return typeof p=="number"?Ig(p):p},n=function(h,d,p){var v=d.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?h:Ig(v)};t["|"]=254;function i(h,d){switch(d.type){case"base64":return a(gi(h),d);case"binary":return a(h,d);case"buffer":return a(We&&Buffer.isBuffer(h)?h.toString("binary"):Gl(h),d);case"array":return a(E0(h),d)}throw new Error("Unrecognized type "+d.type)}function a(h,d){var p=h.split(/[\n\r]+/),v=-1,_=-1,x=0,g=0,m=[],y=[],C=null,D={},E=[],R=[],F=[],k=0,G;for(+d.codepage>=0&&wl(+d.codepage);x!==p.length;++x){k=0;var z=p[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),Q=z.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),Ee=Q[0],xe;if(z.length>0)switch(Ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&y.push(z.slice(3).replace(/;;/g,";"));break;case"C":var st=!1,je=!1,ae=!1,ve=!1,ye=-1,Pe=-1;for(g=1;g<Q.length;++g)switch(Q[g].charAt(0)){case"A":break;case"X":_=parseInt(Q[g].slice(1))-1,je=!0;break;case"Y":for(v=parseInt(Q[g].slice(1))-1,je||(_=0),G=m.length;G<=v;++G)m[G]=[];break;case"K":xe=Q[g].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(ui(xe))?isNaN(Cl(xe).getDate())||(xe=Rr(xe)):(xe=ui(xe),C!==null&&zm(C)&&(xe=Ym(xe))),st=!0;break;case"E":ve=!0;var P=MO(Q[g].slice(1),{r:v,c:_});m[v][_]=[m[v][_],P];break;case"S":ae=!0,m[v][_]=[m[v][_],"S5S"];break;case"G":break;case"R":ye=parseInt(Q[g].slice(1))-1;break;case"C":Pe=parseInt(Q[g].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}if(st&&(m[v][_]&&m[v][_].length==2?m[v][_][0]=xe:m[v][_]=xe,C=null),ae){if(ve)throw new Error("SYLK shared formula cannot have own formula");var W=ye>-1&&m[ye][Pe];if(!W||!W[1])throw new Error("SYLK shared formula cannot find base");m[v][_][1]=bO(W[1],{r:v-ye,c:_-Pe})}break;case"F":var b=0;for(g=1;g<Q.length;++g)switch(Q[g].charAt(0)){case"X":_=parseInt(Q[g].slice(1))-1,++b;break;case"Y":for(v=parseInt(Q[g].slice(1))-1,G=m.length;G<=v;++G)m[G]=[];break;case"M":k=parseInt(Q[g].slice(1))/20;break;case"F":break;case"G":break;case"P":C=y[parseInt(Q[g].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=Q[g].slice(1).split(" "),G=parseInt(F[0],10);G<=parseInt(F[1],10);++G)k=parseInt(F[2],10),R[G-1]=k===0?{hidden:!0}:{wch:k},Ld(R[G-1]);break;case"C":_=parseInt(Q[g].slice(1))-1,R[_]||(R[_]={});break;case"R":v=parseInt(Q[g].slice(1))-1,E[v]||(E[v]={}),k>0?(E[v].hpt=k,E[v].hpx=My(k)):k===0&&(E[v].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}b<1&&(C=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}}return E.length>0&&(D["!rows"]=E),R.length>0&&(D["!cols"]=R),d&&d.sheetRows&&(m=m.slice(0,d.sheetRows)),[m,D]}function o(h,d){var p=i(h,d),v=p[0],_=p[1],x=ns(v,d);return hr(_).forEach(function(g){x[g]=_[g]}),x}function s(h,d){return ja(o(h,d),d)}function l(h,d,p,v){var _="C;Y"+(p+1)+";X"+(v+1)+";K";switch(h.t){case"n":_+=h.v||0,h.f&&!h.F&&(_+=";E"+Ud(h.f,{r:p,c:v}));break;case"b":_+=h.v?"TRUE":"FALSE";break;case"e":_+=h.w||h.v;break;case"d":_+='"'+(h.w||h.v)+'"';break;case"s":_+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function u(h,d){d.forEach(function(p,v){var _="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?_+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=Pf(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=Ff(p.wpx)),typeof p.wch=="number"&&(_+=Math.round(p.wch))),_.charAt(_.length-1)!=" "&&h.push(_)})}function f(h,d){d.forEach(function(p,v){var _="F;";p.hidden?_+="M0;":p.hpt?_+="M"+20*p.hpt+";":p.hpx&&(_+="M"+20*kf(p.hpx)+";"),_.length>2&&h.push(_+"R"+(v+1))})}function c(h,d){var p=["ID;PWXL;N;E"],v=[],_=dt(h["!ref"]),x,g=Array.isArray(h),m=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&u(p,h["!cols"]),h["!rows"]&&f(p,h["!rows"]),p.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var y=_.s.r;y<=_.e.r;++y)for(var C=_.s.c;C<=_.e.c;++C){var D=qe({r:y,c:C});x=g?(h[y]||[])[C]:h[D],!(!x||x.v==null&&(!x.f||x.F))&&v.push(l(x,h,y,C))}return p.join(m)+m+v.join(m)+m+"E"+m}return{to_workbook:s,to_sheet:o,from_sheet:c}}(),B6=function(){function t(a,o){switch(o.type){case"base64":return e(gi(a),o);case"binary":return e(a,o);case"buffer":return e(We&&Buffer.isBuffer(a)?a.toString("binary"):Gl(a),o);case"array":return e(E0(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){for(var s=a.split(`
`),l=-1,u=-1,f=0,c=[];f!==s.length;++f){if(s[f].trim()==="BOT"){c[++l]=[],u=0;continue}if(!(l<0)){var h=s[f].trim().split(","),d=h[0],p=h[1];++f;for(var v=s[f]||"";(v.match(/["]/g)||[]).length&1&&f<s.length-1;)v+=`
`+s[++f];switch(v=v.trim(),+d){case-1:if(v==="BOT"){c[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?c[l][u]=!0:v==="FALSE"?c[l][u]=!1:isNaN(ui(p))?isNaN(Cl(p).getDate())?c[l][u]=p:c[l][u]=Rr(p):c[l][u]=ui(p),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),c[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return o&&o.sheetRows&&(c=c.slice(0,o.sheetRows)),c}function r(a,o){return ns(t(a,o),o)}function n(a,o){return ja(r(a,o),o)}var i=function(){var a=function(l,u,f,c,h){l.push(u),l.push(f+","+c),l.push('"'+h.replace(/"/g,'""')+'"')},o=function(l,u,f,c){l.push(u+","+f),l.push(u==1?'"'+c.replace(/"/g,'""')+'"':c)};return function(l){var u=[],f=dt(l["!ref"]),c,h=Array.isArray(l);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,f.e.r-f.s.r+1,""),a(u,"TUPLES",0,f.e.c-f.s.c+1,""),a(u,"DATA",0,0,"");for(var d=f.s.r;d<=f.e.r;++d){o(u,-1,0,"BOT");for(var p=f.s.c;p<=f.e.c;++p){var v=qe({r:d,c:p});if(c=h?(l[d]||[])[p]:l[v],!c){o(u,1,0,"");continue}switch(c.t){case"n":var _=c.w;!_&&c.v!=null&&(_=c.v),_==null?c.f&&!c.F?o(u,1,0,"="+c.f):o(u,1,0,""):o(u,0,_,"V");break;case"b":o(u,0,c.v?1:0,c.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(c.v)?c.v:'="'+c.v+'"');break;case"d":c.w||(c.w=Ji(c.z||Tt[14],Xr(Rr(c.v)))),o(u,0,c.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var x=`\r
`,g=u.join(x);return g}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),Ry=function(){function t(c){return c.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(c){return c.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(c,h){for(var d=c.split(`
`),p=-1,v=-1,_=0,x=[];_!==d.length;++_){var g=d[_].trim().split(":");if(g[0]==="cell"){var m=Qt(g[1]);if(x.length<=m.r)for(p=x.length;p<=m.r;++p)x[p]||(x[p]=[]);switch(p=m.r,v=m.c,g[2]){case"t":x[p][v]=t(g[3]);break;case"v":x[p][v]=+g[3];break;case"vtf":var y=g[g.length-1];case"vtc":switch(g[3]){case"nl":x[p][v]=!!+g[4];break;default:x[p][v]=+g[4];break}g[2]=="vtf"&&(x[p][v]=[x[p][v],y])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(c,h){return ns(r(c,h),h)}function i(c,h){return ja(n(c,h),h)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,s=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(c){if(!c||!c["!ref"])return"";for(var h=[],d=[],p,v="",_=an(c["!ref"]),x=Array.isArray(c),g=_.s.r;g<=_.e.r;++g)for(var m=_.s.c;m<=_.e.c;++m)if(v=qe({r:g,c:m}),p=x?(c[g]||[])[m]:c[v],!(!p||p.v==null||p.t==="z")){switch(d=["cell",v,"t"],p.t){case"s":case"str":d.push(e(p.v));break;case"n":p.f?(d[2]="vtf",d[3]="n",d[4]=p.v,d[5]=e(p.f)):(d[2]="v",d[3]=p.v);break;case"b":d[2]="vt"+(p.f?"f":"c"),d[3]="nl",d[4]=p.v?"1":"0",d[5]=e(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var y=Xr(Rr(p.v));d[2]="vtc",d[3]="nd",d[4]=""+y,d[5]=p.w||Ji(p.z||Tt[14],y);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function f(c){return[a,o,s,o,u(c),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}}(),U6=function(){function t(f,c,h,d,p){p.raw?c[h][d]=f:f===""||(f==="TRUE"?c[h][d]=!0:f==="FALSE"?c[h][d]=!1:isNaN(ui(f))?isNaN(Cl(f).getDate())?c[h][d]=f:c[h][d]=Rr(f):c[h][d]=ui(f))}function e(f,c){var h=c||{},d=[];if(!f||f.length===0)return d;for(var p=f.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var _=10,x=0,g=0;g<=v;++g)x=p[g].indexOf(" "),x==-1?x=p[g].length:x++,_=Math.max(_,x);for(g=0;g<=v;++g){d[g]=[];var m=0;for(t(p[g].slice(0,_).trim(),d,g,m,h),m=1;m<=(p[g].length-_)/10+1;++m)t(p[g].slice(_+(m-1)*10,_+m*10).trim(),d,g,m,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var c={},h=!1,d=0,p=0;d<f.length;++d)(p=f.charCodeAt(d))==34?h=!h:!h&&p in r&&(c[p]=(c[p]||0)+1);p=[];for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&p.push([c[d],d]);if(!p.length){c=n;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&p.push([c[d],d])}return p.sort(function(v,_){return v[0]-_[0]||n[v[1]]-n[_[1]]}),r[p.pop()[1]]||44}function a(f,c){var h=c||{},d="",p=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(d=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(d=f.charAt(4),f=f.slice(6)):d=i(f.slice(0,1024)):h&&h.FS?d=h.FS:d=i(f.slice(0,1024));var _=0,x=0,g=0,m=0,y=0,C=d.charCodeAt(0),D=!1,E=0,R=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var F=h.dateNF!=null?tI(h.dateNF):null;function k(){var G=f.slice(m,y),z={};if(G.charAt(0)=='"'&&G.charAt(G.length-1)=='"'&&(G=G.slice(1,-1).replace(/""/g,'"')),G.length===0)z.t="z";else if(h.raw)z.t="s",z.v=G;else if(G.trim().length===0)z.t="s",z.v=G;else if(G.charCodeAt(0)==61)G.charCodeAt(1)==34&&G.charCodeAt(G.length-1)==34?(z.t="s",z.v=G.slice(2,-1).replace(/""/g,'"')):LO(G)?(z.t="n",z.f=G.slice(1)):(z.t="s",z.v=G);else if(G=="TRUE")z.t="b",z.v=!0;else if(G=="FALSE")z.t="b",z.v=!1;else if(!isNaN(g=ui(G)))z.t="n",h.cellText!==!1&&(z.w=G),z.v=g;else if(!isNaN(Cl(G).getDate())||F&&G.match(F)){z.z=h.dateNF||Tt[14];var Q=0;F&&G.match(F)&&(G=rI(G,h.dateNF,G.match(F)||[]),Q=1),h.cellDates?(z.t="d",z.v=Rr(G,Q)):(z.t="n",z.v=Xr(Rr(G,Q))),h.cellText!==!1&&(z.w=Ji(z.z,z.v instanceof Date?Xr(z.v):z.v)),h.cellNF||delete z.z}else z.t="s",z.v=G;if(z.t=="z"||(h.dense?(p[_]||(p[_]=[]),p[_][x]=z):p[qe({c:x,r:_})]=z),m=y+1,R=f.charCodeAt(m),v.e.c<x&&(v.e.c=x),v.e.r<_&&(v.e.r=_),E==C)++x;else if(x=0,++_,h.sheetRows&&h.sheetRows<=_)return!0}e:for(;y<f.length;++y)switch(E=f.charCodeAt(y)){case 34:R===34&&(D=!D);break;case C:case 10:case 13:if(!D&&k())break e;break}return y-m>0&&k(),p["!ref"]=Dt(v),p}function o(f,c){return!(c&&c.PRN)||c.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,c):ns(e(f,c),c)}function s(f,c){var h="",d=c.type=="string"?[0,0,0,0]:QR(f,c);switch(c.type){case"base64":h=gi(f);break;case"binary":h=f;break;case"buffer":c.codepage==65001?h=f.toString("utf8"):c.codepage&&typeof _a<"u"?h=_a.utils.decode(c.codepage,f):h=We&&Buffer.isBuffer(f)?f.toString("binary"):Gl(f);break;case"array":h=E0(f);break;case"string":h=f;break;default:throw new Error("Unrecognized type "+c.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Ks(h.slice(3)):c.type!="string"&&c.type!="buffer"&&c.codepage==65001?h=Ks(h):c.type=="binary"&&typeof _a<"u"&&c.codepage&&(h=_a.utils.decode(c.codepage,_a.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?Ry.to_sheet(c.type=="string"?h:Ks(h),c):o(h,c)}function l(f,c){return ja(s(f,c),c)}function u(f){for(var c=[],h=dt(f["!ref"]),d,p=Array.isArray(f),v=h.s.r;v<=h.e.r;++v){for(var _=[],x=h.s.c;x<=h.e.c;++x){var g=qe({r:v,c:x});if(d=p?(f[v]||[])[x]:f[g],!d||d.v==null){_.push("          ");continue}for(var m=(d.w||(xi(d),d.w)||"").slice(0,10);m.length<10;)m+=" ";_.push(m+(x===0?" ":""))}c.push(_.join(""))}return c.join(`
`)}return{to_workbook:l,to_sheet:s,from_sheet:u}}(),i2=function(){function t(P,W,b){if(P){qr(P,P.l||0);for(var M=b.Enum||ye;P.l<P.length;){var K=P.read_shift(2),ce=M[K]||M[65535],ge=P.read_shift(2),pe=P.l+ge,se=ce.f&&ce.f(P,ge,b);if(P.l=pe,W(se,ce,K))return}}}function e(P,W){switch(W.type){case"base64":return r(Rn(gi(P)),W);case"binary":return r(Rn(P),W);case"buffer":case"array":return r(P,W)}throw"Unsupported type "+W.type}function r(P,W){if(!P)return P;var b=W||{},M=b.dense?[]:{},K="Sheet1",ce="",ge=0,pe={},se=[],tt=[],ke={s:{r:0,c:0},e:{r:0,c:0}},Cr=b.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)b.Enum=ye,t(P,function(he,ln,Jn){switch(Jn){case 0:b.vers=he,he>=4096&&(b.qpro=!0);break;case 6:ke=he;break;case 204:he&&(ce=he);break;case 222:ce=he;break;case 15:case 51:b.qpro||(he[1].v=he[1].v.slice(1));case 13:case 14:case 16:Jn==14&&(he[2]&112)==112&&(he[2]&15)>1&&(he[2]&15)<15&&(he[1].z=b.dateNF||Tt[14],b.cellDates&&(he[1].t="d",he[1].v=Ym(he[1].v))),b.qpro&&he[3]>ge&&(M["!ref"]=Dt(ke),pe[K]=M,se.push(K),M=b.dense?[]:{},ke={s:{r:0,c:0},e:{r:0,c:0}},ge=he[3],K=ce||"Sheet"+(ge+1),ce="");var la=b.dense?(M[he[0].r]||[])[he[0].c]:M[qe(he[0])];if(la){la.t=he[1].t,la.v=he[1].v,he[1].z!=null&&(la.z=he[1].z),he[1].f!=null&&(la.f=he[1].f);break}b.dense?(M[he[0].r]||(M[he[0].r]=[]),M[he[0].r][he[0].c]=he[1]):M[qe(he[0])]=he[1];break}},b);else if(P[2]==26||P[2]==14)b.Enum=Pe,P[2]==14&&(b.qpro=!0,P.l=0),t(P,function(he,ln,Jn){switch(Jn){case 204:K=he;break;case 22:he[1].v=he[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(he[3]>ge&&(M["!ref"]=Dt(ke),pe[K]=M,se.push(K),M=b.dense?[]:{},ke={s:{r:0,c:0},e:{r:0,c:0}},ge=he[3],K="Sheet"+(ge+1)),Cr>0&&he[0].r>=Cr)break;b.dense?(M[he[0].r]||(M[he[0].r]=[]),M[he[0].r][he[0].c]=he[1]):M[qe(he[0])]=he[1],ke.e.c<he[0].c&&(ke.e.c=he[0].c),ke.e.r<he[0].r&&(ke.e.r=he[0].r);break;case 27:he[14e3]&&(tt[he[14e3][0]]=he[14e3][1]);break;case 1537:tt[he[0]]=he[1],he[0]==ge&&(K=he[1]);break}},b);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(M["!ref"]=Dt(ke),pe[ce||K]=M,se.push(ce||K),!tt.length)return{SheetNames:se,Sheets:pe};for(var Ge={},qn=[],Et=0;Et<tt.length;++Et)pe[se[Et]]?(qn.push(tt[Et]||se[Et]),Ge[tt[Et]]=pe[tt[Et]]||pe[se[Et]]):(qn.push(tt[Et]),Ge[tt[Et]]={"!ref":"A1"});return{SheetNames:qn,Sheets:Ge}}function n(P,W){var b=W||{};if(+b.codepage>=0&&wl(+b.codepage),b.type=="string")throw new Error("Cannot write WK1 to JS string");var M=zr(),K=dt(P["!ref"]),ce=Array.isArray(P),ge=[];ne(M,0,a(1030)),ne(M,6,l(K));for(var pe=Math.min(K.e.r,8191),se=K.s.r;se<=pe;++se)for(var tt=fr(se),ke=K.s.c;ke<=K.e.c;++ke){se===K.s.r&&(ge[ke]=mr(ke));var Cr=ge[ke]+tt,Ge=ce?(P[se]||[])[ke]:P[Cr];if(!(!Ge||Ge.t=="z"))if(Ge.t=="n")(Ge.v|0)==Ge.v&&Ge.v>=-32768&&Ge.v<=32767?ne(M,13,d(se,ke,Ge.v)):ne(M,14,v(se,ke,Ge.v));else{var qn=xi(Ge);ne(M,15,c(se,ke,qn.slice(0,239)))}}return ne(M,1),M.end()}function i(P,W){var b=W||{};if(+b.codepage>=0&&wl(+b.codepage),b.type=="string")throw new Error("Cannot write WK3 to JS string");var M=zr();ne(M,0,o(P));for(var K=0,ce=0;K<P.SheetNames.length;++K)(P.Sheets[P.SheetNames[K]]||{})["!ref"]&&ne(M,27,ve(P.SheetNames[K],ce++));var ge=0;for(K=0;K<P.SheetNames.length;++K){var pe=P.Sheets[P.SheetNames[K]];if(!(!pe||!pe["!ref"])){for(var se=dt(pe["!ref"]),tt=Array.isArray(pe),ke=[],Cr=Math.min(se.e.r,8191),Ge=se.s.r;Ge<=Cr;++Ge)for(var qn=fr(Ge),Et=se.s.c;Et<=se.e.c;++Et){Ge===se.s.r&&(ke[Et]=mr(Et));var he=ke[Et]+qn,ln=tt?(pe[Ge]||[])[Et]:pe[he];if(!(!ln||ln.t=="z"))if(ln.t=="n")ne(M,23,k(Ge,Et,ge,ln.v));else{var Jn=xi(ln);ne(M,22,E(Ge,Et,ge,Jn.slice(0,239)))}}++ge}}return ne(M,1),M.end()}function a(P){var W=j(2);return W.write_shift(2,P),W}function o(P){var W=j(26);W.write_shift(2,4096),W.write_shift(2,4),W.write_shift(4,0);for(var b=0,M=0,K=0,ce=0;ce<P.SheetNames.length;++ce){var ge=P.SheetNames[ce],pe=P.Sheets[ge];if(!(!pe||!pe["!ref"])){++K;var se=an(pe["!ref"]);b<se.e.r&&(b=se.e.r),M<se.e.c&&(M=se.e.c)}}return b>8191&&(b=8191),W.write_shift(2,b),W.write_shift(1,K),W.write_shift(1,M),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(1,1),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(4,0),W}function s(P,W,b){var M={s:{c:0,r:0},e:{c:0,r:0}};return W==8&&b.qpro?(M.s.c=P.read_shift(1),P.l++,M.s.r=P.read_shift(2),M.e.c=P.read_shift(1),P.l++,M.e.r=P.read_shift(2),M):(M.s.c=P.read_shift(2),M.s.r=P.read_shift(2),W==12&&b.qpro&&(P.l+=2),M.e.c=P.read_shift(2),M.e.r=P.read_shift(2),W==12&&b.qpro&&(P.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function l(P){var W=j(8);return W.write_shift(2,P.s.c),W.write_shift(2,P.s.r),W.write_shift(2,P.e.c),W.write_shift(2,P.e.r),W}function u(P,W,b){var M=[{c:0,r:0},{t:"n",v:0},0,0];return b.qpro&&b.vers!=20768?(M[0].c=P.read_shift(1),M[3]=P.read_shift(1),M[0].r=P.read_shift(2),P.l+=2):(M[2]=P.read_shift(1),M[0].c=P.read_shift(2),M[0].r=P.read_shift(2)),M}function f(P,W,b){var M=P.l+W,K=u(P,W,b);if(K[1].t="s",b.vers==20768){P.l++;var ce=P.read_shift(1);return K[1].v=P.read_shift(ce,"utf8"),K}return b.qpro&&P.l++,K[1].v=P.read_shift(M-P.l,"cstr"),K}function c(P,W,b){var M=j(7+b.length);M.write_shift(1,255),M.write_shift(2,W),M.write_shift(2,P),M.write_shift(1,39);for(var K=0;K<M.length;++K){var ce=b.charCodeAt(K);M.write_shift(1,ce>=128?95:ce)}return M.write_shift(1,0),M}function h(P,W,b){var M=u(P,W,b);return M[1].v=P.read_shift(2,"i"),M}function d(P,W,b){var M=j(7);return M.write_shift(1,255),M.write_shift(2,W),M.write_shift(2,P),M.write_shift(2,b,"i"),M}function p(P,W,b){var M=u(P,W,b);return M[1].v=P.read_shift(8,"f"),M}function v(P,W,b){var M=j(13);return M.write_shift(1,255),M.write_shift(2,W),M.write_shift(2,P),M.write_shift(8,b,"f"),M}function _(P,W,b){var M=P.l+W,K=u(P,W,b);if(K[1].v=P.read_shift(8,"f"),b.qpro)P.l=M;else{var ce=P.read_shift(2);y(P.slice(P.l,P.l+ce),K),P.l+=ce}return K}function x(P,W,b){var M=W&32768;return W&=-32769,W=(M?P:0)+(W>=8192?W-16384:W),(M?"":"$")+(b?mr(W):fr(W))}var g={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},m=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function y(P,W){qr(P,0);for(var b=[],M=0,K="",ce="",ge="",pe="";P.l<P.length;){var se=P[P.l++];switch(se){case 0:b.push(P.read_shift(8,"f"));break;case 1:ce=x(W[0].c,P.read_shift(2),!0),K=x(W[0].r,P.read_shift(2),!1),b.push(ce+K);break;case 2:{var tt=x(W[0].c,P.read_shift(2),!0),ke=x(W[0].r,P.read_shift(2),!1);ce=x(W[0].c,P.read_shift(2),!0),K=x(W[0].r,P.read_shift(2),!1),b.push(tt+ke+":"+ce+K)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:b.push("("+b.pop()+")");break;case 5:b.push(P.read_shift(2));break;case 6:{for(var Cr="";se=P[P.l++];)Cr+=String.fromCharCode(se);b.push('"'+Cr.replace(/"/g,'""')+'"')}break;case 8:b.push("-"+b.pop());break;case 23:b.push("+"+b.pop());break;case 22:b.push("NOT("+b.pop()+")");break;case 20:case 21:pe=b.pop(),ge=b.pop(),b.push(["AND","OR"][se-20]+"("+ge+","+pe+")");break;default:if(se<32&&m[se])pe=b.pop(),ge=b.pop(),b.push(ge+m[se]+pe);else if(g[se]){if(M=g[se][1],M==69&&(M=P[P.l++]),M>b.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+b.join("|")+"|");return}var Ge=b.slice(-M);b.length-=M,b.push(g[se][0]+"("+Ge.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}b.length==1?W[1].f=""+b[0]:console.error("WK1 bad formula parse |"+b.join("|")+"|")}function C(P){var W=[{c:0,r:0},{t:"n",v:0},0];return W[0].r=P.read_shift(2),W[3]=P[P.l++],W[0].c=P[P.l++],W}function D(P,W){var b=C(P);return b[1].t="s",b[1].v=P.read_shift(W-4,"cstr"),b}function E(P,W,b,M){var K=j(6+M.length);K.write_shift(2,P),K.write_shift(1,b),K.write_shift(1,W),K.write_shift(1,39);for(var ce=0;ce<M.length;++ce){var ge=M.charCodeAt(ce);K.write_shift(1,ge>=128?95:ge)}return K.write_shift(1,0),K}function R(P,W){var b=C(P);b[1].v=P.read_shift(2);var M=b[1].v>>1;if(b[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return b[1].v=M,b}function F(P,W){var b=C(P),M=P.read_shift(4),K=P.read_shift(4),ce=P.read_shift(2);if(ce==65535)return M===0&&K===3221225472?(b[1].t="e",b[1].v=15):M===0&&K===3489660928?(b[1].t="e",b[1].v=42):b[1].v=0,b;var ge=ce&32768;return ce=(ce&32767)-16446,b[1].v=(1-ge*2)*(K*Math.pow(2,ce+32)+M*Math.pow(2,ce)),b}function k(P,W,b,M){var K=j(14);if(K.write_shift(2,P),K.write_shift(1,b),K.write_shift(1,W),M==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var ce=0,ge=0,pe=0,se=0;return M<0&&(ce=1,M=-M),ge=Math.log2(M)|0,M/=Math.pow(2,ge-31),se=M>>>0,se&2147483648||(M/=2,++ge,se=M>>>0),M-=se,se|=2147483648,se>>>=0,M*=Math.pow(2,32),pe=M>>>0,K.write_shift(4,pe),K.write_shift(4,se),ge+=16383+(ce?32768:0),K.write_shift(2,ge),K}function G(P,W){var b=F(P);return P.l+=W-14,b}function z(P,W){var b=C(P),M=P.read_shift(4);return b[1].v=M>>6,b}function Q(P,W){var b=C(P),M=P.read_shift(8,"f");return b[1].v=M,b}function Ee(P,W){var b=Q(P);return P.l+=W-10,b}function xe(P,W){return P[P.l+W-1]==0?P.read_shift(W,"cstr"):""}function st(P,W){var b=P[P.l++];b>W-1&&(b=W-1);for(var M="";M.length<b;)M+=String.fromCharCode(P[P.l++]);return M}function je(P,W,b){if(!(!b.qpro||W<21)){var M=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var K=P.read_shift(W-21,"cstr");return[M,K]}}function ae(P,W){for(var b={},M=P.l+W;P.l<M;){var K=P.read_shift(2);if(K==14e3){for(b[K]=[0,""],b[K][0]=P.read_shift(2);P[P.l];)b[K][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return b}function ve(P,W){var b=j(5+P.length);b.write_shift(2,14e3),b.write_shift(2,W);for(var M=0;M<P.length;++M){var K=P.charCodeAt(M);b[b.l++]=K>127?95:K}return b[b.l++]=0,b}var ye={0:{n:"BOF",f:Ty},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:s},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:st},65535:{n:""}},Pe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:G},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:Ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:je},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),H6=/^\s|\s$|[\t\n\r]/;function Py(t,e){if(!e.bookSST)return"";var r=[Rt];r[r.length]=re("sst",null,{xmlns:rs[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(H6)&&(a+=' xml:space="preserve"'),a+=">"+Ze(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function W6(t){return[t.read_shift(4),t.read_shift(4)]}function V6(t,e){return e||(e=j(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var G6=FI;function z6(t){var e=zr();Z(e,159,V6(t));for(var r=0;r<t.length;++r)Z(e,19,G6(t[r]));return Z(e,160),e.end()}function j6(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Fy(t){var e=0,r,n=j6(t),i=n.length+1,a,o,s,l,u;for(r=ba(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],s=e&16384?1:0,l=e<<1&32767,u=s|l,e=u^o;return e^52811}var X6=function(){function t(i,a){switch(a.type){case"base64":return e(gi(i),a);case"binary":return e(i,a);case"buffer":return e(We&&Buffer.isBuffer(i)?i.toString("binary"):Gl(i),a);case"array":return e(E0(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var o=a||{},s=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,c){Array.isArray(s)&&(s[c]=[]);for(var h=/\\\w+\b/g,d=0,p,v=-1;p=h.exec(f);){switch(p[0]){case"\\cell":var _=f.slice(d,h.lastIndex-p[0].length);if(_[0]==" "&&(_=_.slice(1)),++v,_.length){var x={v:_,t:"s"};Array.isArray(s)?s[c][v]=x:s[qe({r:c,c:v})]=x}break}d=h.lastIndex}v>u.e.c&&(u.e.c=v)}),s["!ref"]=Dt(u),s}function r(i,a){return ja(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=dt(i["!ref"]),s,l=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var c=qe({r:u,c:f});s=l?(i[u]||[])[f]:i[c],!(!s||s.v==null&&(!s.f||s.F))&&(a.push(" "+(s.w||(xi(s),s.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function a2(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var $6=6,fi=$6;function Pf(t){return Math.floor((t+Math.round(128/fi)/256)*fi)}function Ff(t){return Math.floor((t-5)/fi*100+.5)/100}function Jh(t){return Math.round((t*fi+5)/fi*256)/256}function Ld(t){t.width?(t.wpx=Pf(t.width),t.wch=Ff(t.wpx),t.MDW=fi):t.wpx?(t.wch=Ff(t.wpx),t.width=Jh(t.wch),t.MDW=fi):typeof t.wch=="number"&&(t.width=Jh(t.wch),t.wpx=Pf(t.width),t.MDW=fi),t.customWidth&&delete t.customWidth}var Y6=96,ky=Y6;function kf(t){return t*96/ky}function My(t){return t*ky/96}function K6(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=re("numFmt",null,{numFmtId:n,formatCode:Ze(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=re("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Z6(t){var e=[];return e[e.length]=re("cellXfs",null),t.forEach(function(r){e[e.length]=re("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=re("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function by(t,e){var r=[Rt,re("styleSheet",null,{xmlns:rs[0],"xmlns:vt":Yt.vt})],n;return t.SSF&&(n=K6(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Z6(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Q6(t,e){var r=t.read_shift(2),n=yr(t);return[r,n]}function q6(t,e,r){r||(r=j(6+4*e.length)),r.write_shift(2,t),qt(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function J6(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=HI(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var s=t.read_shift(1);s>0&&(n.family=s);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=UI(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=yr(t),n}function eO(t,e){e||(e=j(25+4*32)),e.write_shift(2,t.sz*20),WI(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Df(t.color,e);var n=0;return t.scheme=="major"&&(n=1),t.scheme=="minor"&&(n=2),e.write_shift(1,n),qt(t.name,e),e.length>e.l?e.slice(0,e.l):e}var tO=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Tc,rO=Qn;function o2(t,e){e||(e=j(4*3+8*7+16*1)),Tc||(Tc=Ad(tO));var r=Tc[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Df({auto:1},e),Df({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function nO(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function Ly(t,e,r){r||(r=j(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function As(t,e){return e||(e=j(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var iO=Qn;function aO(t,e){return e||(e=j(51)),e.write_shift(1,0),As(null,e),As(null,e),As(null,e),As(null,e),As(null,e),e.length>e.l?e.slice(0,e.l):e}function oO(t,e){return e||(e=j(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),Nf(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function sO(t,e,r){var n=j(2052);return n.write_shift(4,t),Nf(e,n),Nf(r,n),n.length>n.l?n.slice(0,n.l):n}function lO(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Z(t,615,Bn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Z(t,44,q6(i,e[i]))}),Z(t,616))}}function uO(t){var e=1;Z(t,611,Bn(e)),Z(t,43,eO({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Z(t,612)}function fO(t){var e=2;Z(t,603,Bn(e)),Z(t,45,o2({patternType:"none"})),Z(t,45,o2({patternType:"gray125"})),Z(t,604)}function cO(t){var e=1;Z(t,613,Bn(e)),Z(t,46,aO()),Z(t,614)}function hO(t){var e=1;Z(t,626,Bn(e)),Z(t,47,Ly({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Z(t,627)}function dO(t,e){Z(t,617,Bn(e.length)),e.forEach(function(r){Z(t,47,Ly(r,0))}),Z(t,618)}function pO(t){var e=1;Z(t,619,Bn(e)),Z(t,48,oO({xfId:0,builtinId:0,name:"Normal"})),Z(t,620)}function vO(t){var e=0;Z(t,505,Bn(e)),Z(t,506)}function gO(t){var e=0;Z(t,508,sO(e,"TableStyleMedium9","PivotStyleMedium4")),Z(t,509)}function xO(t,e){var r=zr();return Z(r,278),lO(r,t.SSF),uO(r),fO(r),cO(r),hO(r),dO(r,e.cellXfs),pO(r),vO(r),gO(r),Z(r,279),r.end()}function By(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Rt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _O(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:yr(t)}}function mO(t){var e=j(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),qt(t.name,e),e.slice(0,e.l)}function yO(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function wO(t){var e=j(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function EO(t,e){var r=j(8+2*e.length);return r.write_shift(4,t),qt(e,r),r.slice(0,r.l)}function CO(t){return t.l+=4,t.read_shift(4)!=0}function SO(t,e){var r=j(8);return r.write_shift(4,t),r.write_shift(4,e?1:0),r}function AO(){var t=zr();return Z(t,332),Z(t,334,Bn(1)),Z(t,335,mO({name:"XLDAPR",version:12e4,flags:3496657072})),Z(t,336),Z(t,339,EO(1,"XLDAPR")),Z(t,52),Z(t,35,Bn(514)),Z(t,4096,Bn(0)),Z(t,4097,cn(1)),Z(t,36),Z(t,53),Z(t,340),Z(t,337,SO(1,!0)),Z(t,51,wO([[1,0]])),Z(t,338),Z(t,333),t.end()}function Uy(){var t=[Rt];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function TO(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=qe(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var wo=1024;function Hy(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[re("xml",null,{"xmlns:v":Jr.v,"xmlns:o":Jr.o,"xmlns:x":Jr.x,"xmlns:mv":Jr.mv}).replace(/\/>/,">"),re("o:shapelayout",re("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),re("v:shapetype",[re("v:stroke",null,{joinstyle:"miter"}),re("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];wo<t*1e3;)wo+=1e3;return e.forEach(function(a){var o=Qt(a[0]),s={color2:"#BEFF82",type:"gradient"};s.type=="gradient"&&(s.angle="-180");var l=s.type=="gradient"?re("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=re("v:fill",l,s),f={on:"t",obscured:"t"};++wo,i=i.concat(["<v:shape"+Sl({id:"_x0000_s"+wo,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,re("v:shadow",null,f),re("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",sr("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),sr("x:AutoFill","False"),sr("x:Row",String(o.r)),sr("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Wy(t){var e=[Rt,re("comments",null,{xmlns:rs[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Ze(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Ze(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(sr("t",Ze(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,s=1;s<a.length;++s)o+=`Reply:
    `+a[s]+`
`;e.push(sr("t",Ze(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function IO(t,e,r){var n=[Rt,re("ThreadedComments",null,{xmlns:Yt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,s){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};s==0?a=l.id:l.parentId=a,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(re("threadedComment",sr("text",o.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function OO(t){var e=[Rt,re("personList",null,{xmlns:Yt.TCMNT,"xmlns:x":rs[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(re("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function NO(t){var e={};e.iauthor=t.read_shift(4);var r=Ka(t);return e.rfx=r.s,e.ref=qe(r.s),t.l+=16,e}function DO(t,e){return e==null&&(e=j(36)),e.write_shift(4,t[1].iauthor),is(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var RO=yr;function PO(t){return qt(t.slice(0,54))}function FO(t){var e=zr(),r=[];return Z(e,628),Z(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Z(e,632,PO(i.a)))})}),Z(e,631),Z(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Qt(n[0]),e:Qt(n[0])};Z(e,635,DO([a,i])),i.t&&i.t.length>0&&Z(e,637,MI(i)),Z(e,636),delete i.iauthor})}),Z(e,634),Z(e,629),e.end()}function kO(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&et.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var Vy=["xlsb","xlsm","xlam","biff8","xla"],MO=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,o){var s=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),o.length==0?s=!0:o.charAt(0)=="["&&(s=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return s?f+=e.c:--f,l?u+=e.r:--u,i+(s?"":"$")+mr(f)+(l?"":"$")+fr(u)}return function(i,a){return e=a,i.replace(t,r)}}(),Bd=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ud=function(){return function(e,r){return e.replace(Bd,function(n,i,a,o,s,l){var u=Pd(o)-(a?0:r.c),f=Rd(l)-(s?0:r.r),c=f==0?"":s?f+1:"["+f+"]",h=u==0?"":a?u+1:"["+u+"]";return i+"R"+c+"C"+h})}}();function bO(t,e){return t.replace(Bd,function(r,n,i,a,o,s){return n+(i=="$"?i+a:mr(Pd(a)+e.c))+(o=="$"?o+s:fr(Rd(s)+e.r))})}function LO(t){return t.length!=1}function Ot(t){t.l+=1}function ea(t,e){var r=t.read_shift(e==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function Gy(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return zy(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),o=ea(t,2),s=ea(t,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function zy(t){var e=ea(t,2),r=ea(t,2),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function BO(t,e,r){if(r.biff<8)return zy(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=ea(t,2),o=ea(t,2);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function jy(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return UO(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ea(t,2);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function UO(t){var e=ea(t,2),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function HO(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function WO(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return VO(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),o=(a&16384)>>14,s=(a&32768)>>15;if(a&=16383,s==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:s}}function VO(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function GO(t,e,r){var n=(t[t.l++]&96)>>5,i=Gy(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function zO(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var o=Gy(t,a,r);return[n,i,o]}function jO(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function XO(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function $O(t,e,r){var n=(t[t.l++]&96)>>5,i=BO(t,e-1,r);return[n,i]}function YO(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function s2(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function KO(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function ZO(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function QO(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function qO(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function JO(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Xy(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function e5(t){return t.read_shift(2),Xy(t)}function t5(t){return t.read_shift(2),Xy(t)}function r5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=jy(t,0,r);return[n,i]}function n5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=WO(t,0,r);return[n,i]}function i5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=jy(t,0,r);return[n,i,a]}function a5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[aN[i],Ky[i],n]}function o5(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:s5(t);return[i,(a[0]===0?Ky:iN)[a[1]]]}function s5(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function l5(t,e,r){t.l+=r&&r.biff==2?3:4}function u5(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function f5(t){return t.l++,Xl[t.read_shift(1)]}function c5(t){return t.l++,t.read_shift(2)}function h5(t){return t.l++,t.read_shift(1)!==0}function d5(t){return t.l++,as(t)}function p5(t,e,r){return t.l++,Oy(t,e-1,r)}function v5(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=i6(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Xl[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=as(t);break;case 2:r[1]=l6(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function g5(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Ka:c6)(t));return i}function x5(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var s=0;s!=i;++s)o[a][s]=v5(t,r.biff);return o}function _5(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function m5(t,e,r){if(r.biff==5)return y5(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function y5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function w5(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function E5(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function C5(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function S5(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var A5=Qn,T5=Qn,I5=Qn;function $l(t,e,r){return t.l+=2,[HO(t)]}function Hd(t){return t.l+=6,[]}var O5=$l,N5=Hd,D5=Hd,R5=$l;function $y(t){return t.l+=2,[Ty(t),t.read_shift(2)&1]}var P5=$l,F5=$y,k5=Hd,M5=$l,b5=$l,L5=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function B5(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),o=L5[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:i,C:a}}function U5(t){return t.l+=2,[t.read_shift(4)]}function H5(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function W5(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function V5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function G5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function z5(t){return t.l+=4,[0,0]}var l2={1:{n:"PtgExp",f:u5},2:{n:"PtgTbl",f:I5},3:{n:"PtgAdd",f:Ot},4:{n:"PtgSub",f:Ot},5:{n:"PtgMul",f:Ot},6:{n:"PtgDiv",f:Ot},7:{n:"PtgPower",f:Ot},8:{n:"PtgConcat",f:Ot},9:{n:"PtgLt",f:Ot},10:{n:"PtgLe",f:Ot},11:{n:"PtgEq",f:Ot},12:{n:"PtgGe",f:Ot},13:{n:"PtgGt",f:Ot},14:{n:"PtgNe",f:Ot},15:{n:"PtgIsect",f:Ot},16:{n:"PtgUnion",f:Ot},17:{n:"PtgRange",f:Ot},18:{n:"PtgUplus",f:Ot},19:{n:"PtgUminus",f:Ot},20:{n:"PtgPercent",f:Ot},21:{n:"PtgParen",f:Ot},22:{n:"PtgMissArg",f:Ot},23:{n:"PtgStr",f:p5},26:{n:"PtgSheet",f:H5},27:{n:"PtgEndSheet",f:W5},28:{n:"PtgErr",f:f5},29:{n:"PtgBool",f:h5},30:{n:"PtgInt",f:c5},31:{n:"PtgNum",f:d5},32:{n:"PtgArray",f:YO},33:{n:"PtgFunc",f:a5},34:{n:"PtgFuncVar",f:o5},35:{n:"PtgName",f:_5},36:{n:"PtgRef",f:r5},37:{n:"PtgArea",f:GO},38:{n:"PtgMemArea",f:w5},39:{n:"PtgMemErr",f:A5},40:{n:"PtgMemNoMem",f:T5},41:{n:"PtgMemFunc",f:E5},42:{n:"PtgRefErr",f:C5},43:{n:"PtgAreaErr",f:jO},44:{n:"PtgRefN",f:n5},45:{n:"PtgAreaN",f:$O},46:{n:"PtgMemAreaN",f:V5},47:{n:"PtgMemNoMemN",f:G5},57:{n:"PtgNameX",f:m5},58:{n:"PtgRef3d",f:i5},59:{n:"PtgArea3d",f:zO},60:{n:"PtgRefErr3d",f:S5},61:{n:"PtgAreaErr3d",f:XO},255:{}},j5={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},X5={1:{n:"PtgElfLel",f:$y},2:{n:"PtgElfRw",f:M5},3:{n:"PtgElfCol",f:O5},6:{n:"PtgElfRwV",f:b5},7:{n:"PtgElfColV",f:R5},10:{n:"PtgElfRadical",f:P5},11:{n:"PtgElfRadicalS",f:k5},13:{n:"PtgElfColS",f:N5},15:{n:"PtgElfColSV",f:D5},16:{n:"PtgElfRadicalLel",f:F5},25:{n:"PtgList",f:B5},29:{n:"PtgSxName",f:U5},255:{}},$5={0:{n:"PtgAttrNoop",f:z5},1:{n:"PtgAttrSemi",f:JO},2:{n:"PtgAttrIf",f:QO},4:{n:"PtgAttrChoose",f:KO},8:{n:"PtgAttrGoto",f:ZO},16:{n:"PtgAttrSum",f:l5},32:{n:"PtgAttrBaxcel",f:s2},33:{n:"PtgAttrBaxcel",f:s2},64:{n:"PtgAttrSpace",f:e5},65:{n:"PtgAttrSpaceSemi",f:t5},128:{n:"PtgAttrIfError",f:qO},255:{}};function Y5(t,e,r,n){if(n.biff<8)return Qn(t,e);for(var i=t.l+e,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=x5(t,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=g5(t,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=i-t.l,e!==0&&a.push(Qn(t,e)),a}function K5(t,e,r){for(var n=t.l+e,i,a,o=[];n!=t.l;)e=n-t.l,a=t[t.l],i=l2[a]||l2[j5[a]],(a===24||a===25)&&(i=(a===24?X5:$5)[t[t.l+1]]),!i||!i.f?Qn(t,e):o.push([i.n,i.f(t,e,r)]);return o}function Z5(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Q5={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function q5(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Yy(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function u2(t,e,r){var n=Yy(t,e,r);return n=="#REF"?n:q5(n,r)}function Xo(t,e,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},s=[],l,u,f,c=0,h=0,d,p="";if(!t[0]||!t[0][0])return"";for(var v=-1,_="",x=0,g=t[0].length;x<g;++x){var m=t[0][x];switch(m[0]){case"PtgUminus":s.push("-"+s.pop());break;case"PtgUplus":s.push("+"+s.pop());break;case"PtgPercent":s.push(s.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=s.pop(),u=s.pop(),v>=0){switch(t[0][v][1][0]){case 0:_=St(" ",t[0][v][1][1]);break;case 1:_=St("\r",t[0][v][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}u=u+_,v=-1}s.push(u+Q5[m[0]]+l);break;case"PtgIsect":l=s.pop(),u=s.pop(),s.push(u+" "+l);break;case"PtgUnion":l=s.pop(),u=s.pop(),s.push(u+","+l);break;case"PtgRange":l=s.pop(),u=s.pop(),s.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Qs(m[1][1],o,i),s.push(qs(f,a));break;case"PtgRefN":f=r?Qs(m[1][1],r,i):m[1][1],s.push(qs(f,a));break;case"PtgRef3d":c=m[1][1],f=Qs(m[1][2],o,i),p=u2(n,c,i),s.push(p+"!"+qs(f,a));break;case"PtgFunc":case"PtgFuncVar":var y=m[1][0],C=m[1][1];y||(y=0),y&=127;var D=y==0?[]:s.slice(-y);s.length-=y,C==="User"&&(C=D.shift()),s.push(C+"("+D.join(",")+")");break;case"PtgBool":s.push(m[1]?"TRUE":"FALSE");break;case"PtgInt":s.push(m[1]);break;case"PtgNum":s.push(String(m[1]));break;case"PtgStr":s.push('"'+m[1].replace(/"/g,'""')+'"');break;case"PtgErr":s.push(m[1]);break;case"PtgAreaN":d=$g(m[1][1],r?{s:r}:o,i),s.push(Sc(d,i));break;case"PtgArea":d=$g(m[1][1],o,i),s.push(Sc(d,i));break;case"PtgArea3d":c=m[1][1],d=m[1][2],p=u2(n,c,i),s.push(p+"!"+Sc(d,i));break;case"PtgAttrSum":s.push("SUM("+s.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=m[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],R=E?E.Name:"SH33TJSNAME"+String(h);R&&R.slice(0,6)=="_xlfn."&&!i.xlfn&&(R=R.slice(6)),s.push(R);break;case"PtgNameX":var F=m[1][1];h=m[1][2];var k;if(i.biff<=5)F<0&&(F=-F),n[F]&&(k=n[F][h]);else{var G="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][h]&&n[F][h].itab>0&&(G=n.SheetNames[n[F][h].itab-1]+"!"):G=n.SheetNames[h-1]+"!"),n[F]&&n[F][h])G+=n[F][h].Name;else if(n[0]&&n[0][h])G+=n[0][h].Name;else{var z=(Yy(n,F,i)||"").split(";;");z[h-1]?G=z[h-1]:G+="SH33TJSERRX"}s.push(G);break}k||(k={Name:"SH33TJSERRY"}),s.push(k.Name);break;case"PtgParen":var Q="(",Ee=")";if(v>=0){switch(_="",t[0][v][1][0]){case 2:Q=St(" ",t[0][v][1][1])+Q;break;case 3:Q=St("\r",t[0][v][1][1])+Q;break;case 4:Ee=St(" ",t[0][v][1][1])+Ee;break;case 5:Ee=St("\r",t[0][v][1][1])+Ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}s.push(Q+s.pop()+Ee);break;case"PtgRefErr":s.push("#REF!");break;case"PtgRefErr3d":s.push("#REF!");break;case"PtgExp":f={c:m[1][1],r:m[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[qe(f)]){var st=n.sharedf[qe(f)];s.push(Xo(st,o,xe,n,i))}else{var je=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){s.push(Xo(u[1],o,xe,n,i)),je=!0;break}je||s.push(m[1])}break;case"PtgArray":s.push("{"+Z5(m[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":s.push("");break;case"PtgAreaErr":s.push("#REF!");break;case"PtgAreaErr3d":s.push("#REF!");break;case"PtgList":s.push("Table"+m[1].idx+"[#"+m[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(m));default:throw new Error("Unrecognized Formula Token: "+String(m))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&ae.indexOf(t[0][x][0])==-1){m=t[0][v];var ve=!0;switch(m[1][0]){case 4:ve=!1;case 0:_=St(" ",m[1][1]);break;case 5:ve=!1;case 1:_=St("\r",m[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+m[1][0])}s.push((ve?_:"")+s.pop()+(ve?"":_)),v=-1}}if(s.length>1&&i.WTF)throw new Error("bad formula stack");return s[0]}function J5(t){if(t==null){var e=j(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return La(t);return La(0)}function eN(t,e,r,n,i){var a=Ba(e,r,i),o=J5(t.v),s=j(6),l=33;s.write_shift(2,l),s.write_shift(4,0);for(var u=j(t.bf.length),f=0;f<t.bf.length;++f)u[f]=t.bf[f];var c=or([a,o,s,u]);return c}function C0(t,e,r){var n=t.read_shift(4),i=K5(t,n,r),a=t.read_shift(4),o=a>0?Y5(t,a,i,r):null;return[i,o]}var tN=C0,S0=C0,rN=C0,nN=C0,iN={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ky={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},aN={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function oN(t){var e="of:="+t.replace(Bd,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function sN(t){return t.replace(/\./,"!")}var Js=typeof Map<"u";function Wd(t,e,r){var n=0,i=t.length;if(r){if(Js?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=Js?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Js?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function A0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(fi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Ff(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Jh(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Zy(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function sa(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){jm(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function lN(t,e,r){if(t&&t["!ref"]){var n=dt(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function uN(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Dt(t[r])+'"/>';return e+"</mergeCells>"}function fN(t,e,r,n,i){var a=!1,o={},s=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,o.codeName=ai(Ze(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),s=(s||"")+re("outlinePr",null,u)}!a&&!s||(i[i.length]=re("sheetPr",s,o))}var cN=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hN=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function dN(t){var e={sheet:1};return cN.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),hN.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Fy(t.password).toString(16).toUpperCase()),re("sheetProtection",null,e)}function pN(t){return Zy(t),re("pageMargins",null,t)}function vN(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=re("col",null,A0(i,n)));return r[r.length]="</cols>",r.join("")}function gN(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Dt(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=an(i);o.s.r==o.e.r&&(o.e.r=an(e["!ref"]).e.r,i=Dt(o));for(var s=0;s<a.length;++s){var l=a[s];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return s==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),re("autoFilter",null,{ref:i})}function xN(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),re("sheetViews",re("sheetView",null,i),{})}function _N(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Xl[t.v];break;case"d":n&&n.cellDates?i=Rr(t.v,-1).toISOString():(t=$r(t),t.t="n",i=""+(t.v=Xr(Rr(t.v)))),typeof t.z>"u"&&(t.z=Tt[14]);break;default:i=t.v;break}var s=sr("v",Ze(i)),l={r:e},u=sa(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){s=sr("v",""+Wd(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=o),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;s=re("f",Ze(t.f),f)+(t.v!=null?s:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),re("c",s,l)}function mN(t,e,r,n){var i=[],a=[],o=dt(t["!ref"]),s="",l,u="",f=[],c=0,h=0,d=t["!rows"],p=Array.isArray(t),v={r:u},_,x=-1;for(h=o.s.c;h<=o.e.c;++h)f[h]=mr(h);for(c=o.s.r;c<=o.e.r;++c){for(a=[],u=fr(c),h=o.s.c;h<=o.e.c;++h){l=f[h]+u;var g=p?(t[c]||[])[h]:t[l];g!==void 0&&(s=_N(g,l,t,e))!=null&&a.push(s)}(a.length>0||d&&d[c])&&(v={r:u},d&&d[c]&&(_=d[c],_.hidden&&(v.hidden=1),x=-1,_.hpx?x=kf(_.hpx):_.hpt&&(x=_.hpt),x>-1&&(v.ht=x,v.customHeight=1),_.level&&(v.outlineLevel=_.level)),i[i.length]=re("row",a.join(""),v))}if(d)for(;c<d.length;++c)d&&d[c]&&(v={r:c+1},_=d[c],_.hidden&&(v.hidden=1),x=-1,_.hpx?x=kf(_.hpx):_.hpt&&(x=_.hpt),x>-1&&(v.ht=x,v.customHeight=1),_.level&&(v.outlineLevel=_.level),i[i.length]=re("row","",v));return i.join("")}function Qy(t,e,r,n){var i=[Rt,re("worksheet",null,{xmlns:rs[0],"xmlns:r":Yt.r})],a=r.SheetNames[t],o=0,s="",l=r.Sheets[a];l==null&&(l={});var u=l["!ref"]||"A1",f=dt(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Dt(f)}n||(n={}),l["!comments"]=[];var c=[];fN(l,r,t,e,i),i[i.length]=re("dimension",null,{ref:u}),i[i.length]=xN(l,e,t,r),e.sheetFormat&&(i[i.length]=re("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=vN(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(s=mN(l,e),s.length>0&&(i[i.length]=s)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=dN(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=gN(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=uN(l["!merges"]));var h=-1,d,p=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(d={ref:v[0]},v[1].Target.charAt(0)!="#"&&(p=Ke(n,-1,Ze(v[1].Target).replace(/#.*$/,""),Le.HLINK),d["r:id"]="rId"+p),(h=v[1].Target.indexOf("#"))>-1&&(d.location=Ze(v[1].Target.slice(h+1))),v[1].Tooltip&&(d.tooltip=Ze(v[1].Tooltip)),i[i.length]=re("hyperlink",null,d))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=pN(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=sr("ignoredErrors",re("ignoredError",null,{numberStoredAsText:1,sqref:u}))),c.length>0&&(p=Ke(n,-1,"../drawings/drawing"+(t+1)+".xml",Le.DRAW),i[i.length]=re("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=c),l["!comments"].length>0&&(p=Ke(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Le.VML),i[i.length]=re("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function yN(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function wN(t,e,r){var n=j(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=kf(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var s=0,l=n.l;n.l+=4;for(var u={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var c=-1,h=-1,d=f<<10;d<f+1<<10;++d){u.c=d;var p=Array.isArray(r)?(r[u.r]||[])[u.c]:r[qe(u)];p&&(c<0&&(c=d),h=d)}c<0||(++s,n.write_shift(4,c),n.write_shift(4,h))}var v=n.l;return n.l=l,n.write_shift(4,s),n.l=v,n.length>n.l?n.slice(0,n.l):n}function EN(t,e,r,n){var i=wN(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Z(t,0,i)}var CN=Ka,SN=is;function AN(){}function TN(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=bI(t),r}function IN(t,e,r){r==null&&(r=j(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Df({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hy(t,r),r.slice(0,r.l)}function ON(t){var e=yn(t);return[e]}function NN(t,e,r){return r==null&&(r=j(8)),Xa(e,r)}function DN(t){var e=$a(t);return[e]}function RN(t,e,r){return r==null&&(r=j(4)),Ya(e,r)}function PN(t){var e=yn(t),r=t.read_shift(1);return[e,r,"b"]}function FN(t,e,r){return r==null&&(r=j(9)),Xa(e,r),r.write_shift(1,t.v?1:0),r}function kN(t){var e=$a(t),r=t.read_shift(1);return[e,r,"b"]}function MN(t,e,r){return r==null&&(r=j(5)),Ya(e,r),r.write_shift(1,t.v?1:0),r}function bN(t){var e=yn(t),r=t.read_shift(1);return[e,r,"e"]}function LN(t,e,r){return r==null&&(r=j(9)),Xa(e,r),r.write_shift(1,t.v),r}function BN(t){var e=$a(t),r=t.read_shift(1);return[e,r,"e"]}function UN(t,e,r){return r==null&&(r=j(8)),Ya(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function HN(t){var e=yn(t),r=t.read_shift(4);return[e,r,"s"]}function WN(t,e,r){return r==null&&(r=j(12)),Xa(e,r),r.write_shift(4,e.v),r}function VN(t){var e=$a(t),r=t.read_shift(4);return[e,r,"s"]}function GN(t,e,r){return r==null&&(r=j(8)),Ya(e,r),r.write_shift(4,e.v),r}function zN(t){var e=yn(t),r=as(t);return[e,r,"n"]}function jN(t,e,r){return r==null&&(r=j(16)),Xa(e,r),La(t.v,r),r}function XN(t){var e=$a(t),r=as(t);return[e,r,"n"]}function $N(t,e,r){return r==null&&(r=j(12)),Ya(e,r),La(t.v,r),r}function YN(t){var e=yn(t),r=dy(t);return[e,r,"n"]}function KN(t,e,r){return r==null&&(r=j(12)),Xa(e,r),py(t.v,r),r}function ZN(t){var e=$a(t),r=dy(t);return[e,r,"n"]}function QN(t,e,r){return r==null&&(r=j(8)),Ya(e,r),py(t.v,r),r}function qN(t){var e=yn(t),r=Fd(t);return[e,r,"is"]}function JN(t){var e=yn(t),r=yr(t);return[e,r,"str"]}function eD(t,e,r){return r==null&&(r=j(12+4*t.v.length)),Xa(e,r),qt(t.v,r),r.length>r.l?r.slice(0,r.l):r}function tD(t){var e=$a(t),r=yr(t);return[e,r,"str"]}function rD(t,e,r){return r==null&&(r=j(8+4*t.v.length)),Ya(e,r),qt(t.v,r),r.length>r.l?r.slice(0,r.l):r}function nD(t,e,r){var n=t.l+e,i=yn(t);i.r=r["!row"];var a=t.read_shift(1),o=[i,a,"b"];if(r.cellFormula){t.l+=2;var s=S0(t,n-t.l,r);o[3]=Xo(s,null,i,r.supbooks,r)}else t.l=n;return o}function iD(t,e,r){var n=t.l+e,i=yn(t);i.r=r["!row"];var a=t.read_shift(1),o=[i,a,"e"];if(r.cellFormula){t.l+=2;var s=S0(t,n-t.l,r);o[3]=Xo(s,null,i,r.supbooks,r)}else t.l=n;return o}function aD(t,e,r){var n=t.l+e,i=yn(t);i.r=r["!row"];var a=as(t),o=[i,a,"n"];if(r.cellFormula){t.l+=2;var s=S0(t,n-t.l,r);o[3]=Xo(s,null,i,r.supbooks,r)}else t.l=n;return o}function oD(t,e,r){var n=t.l+e,i=yn(t);i.r=r["!row"];var a=yr(t),o=[i,a,"str"];if(r.cellFormula){t.l+=2;var s=S0(t,n-t.l,r);o[3]=Xo(s,null,i,r.supbooks,r)}else t.l=n;return o}var sD=Ka,lD=is;function uD(t,e){return e==null&&(e=j(4)),e.write_shift(4,t),e}function fD(t,e){var r=t.l+e,n=Ka(t),i=kd(t),a=yr(t),o=yr(t),s=yr(t);t.l=r;var l={rfx:n,relId:i,loc:a,display:s};return o&&(l.Tooltip=o),l}function cD(t,e){var r=j(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));is({s:Qt(t[0]),e:Qt(t[0])},r),Md("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return qt(i||"",r),qt(t[1].Tooltip||"",r),qt("",r),r.slice(0,r.l)}function hD(){}function dD(t,e,r){var n=t.l+e,i=vy(t),a=t.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var s=tN(t,n-t.l,r);o[1]=s}else t.l=n;return o}function pD(t,e,r){var n=t.l+e,i=Ka(t),a=[i];if(r.cellFormula){var o=nN(t,n-t.l,r);a[1]=o,t.l=n}else t.l=n;return a}function vD(t,e,r){r==null&&(r=j(18));var n=A0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var qy=["left","right","top","bottom","header","footer"];function gD(t){var e={};return qy.forEach(function(r){e[r]=as(t)}),e}function xD(t,e){return e==null&&(e=j(6*8)),Zy(t),qy.forEach(function(r){La(t[r],e)}),e}function _D(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function mD(t,e,r){r==null&&(r=j(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function yD(t){var e=j(24);return e.write_shift(4,4),e.write_shift(4,1),is(t,e),e}function wD(t,e){return e==null&&(e=j(16*4+2)),e.write_shift(2,t.password?Fy(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function ED(){}function CD(){}function SD(t,e,r,n,i,a,o){if(e.v===void 0)return!1;var s="";switch(e.t){case"b":s=e.v?"1":"0";break;case"d":e=$r(e),e.z=e.z||Tt[14],e.v=Xr(Rr(e.v)),e.t="n";break;case"n":case"e":s=""+e.v;break;default:s=e.v;break}var l={r,c:n};switch(l.s=sa(i.cellXfs,e,i),e.l&&a["!links"].push([qe(l),e.l]),e.c&&a["!comments"].push([qe(l),e.c]),e.t){case"s":case"str":return i.bookSST?(s=Wd(i.Strings,e.v,i.revStrings),l.t="s",l.v=s,o?Z(t,18,GN(e,l)):Z(t,7,WN(e,l))):(l.t="str",o?Z(t,17,rD(e,l)):Z(t,6,eD(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?Z(t,13,QN(e,l)):Z(t,2,KN(e,l)):o?Z(t,16,$N(e,l)):Z(t,5,jN(e,l)),!0;case"b":return l.t="b",o?Z(t,15,MN(e,l)):Z(t,4,FN(e,l)),!0;case"e":return l.t="e",o?Z(t,14,UN(e,l)):Z(t,3,LN(e,l)),!0}return o?Z(t,12,RN(e,l)):Z(t,1,NN(e,l)),!0}function AD(t,e,r,n){var i=dt(e["!ref"]||"A1"),a,o="",s=[];Z(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=fr(f),EN(t,e,i,f);var c=!1;if(f<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(s[h]=mr(h)),a=s[h]+o;var d=l?(e[f]||[])[h]:e[a];if(!d){c=!1;continue}c=SD(t,d,f,h,n,e,c)}}Z(t,146)}function TD(t,e){!e||!e["!merges"]||(Z(t,177,uD(e["!merges"].length)),e["!merges"].forEach(function(r){Z(t,176,lD(r))}),Z(t,178))}function ID(t,e){!e||!e["!cols"]||(Z(t,390),e["!cols"].forEach(function(r,n){r&&Z(t,60,vD(n,r))}),Z(t,391))}function OD(t,e){!e||!e["!ref"]||(Z(t,648),Z(t,649,yD(dt(e["!ref"]))),Z(t,650))}function ND(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Ke(r,-1,n[1].Target.replace(/#.*$/,""),Le.HLINK);Z(t,494,cD(n,i))}}),delete e["!links"]}function DD(t,e,r,n){if(e["!comments"].length>0){var i=Ke(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Le.VML);Z(t,551,Md("rId"+i)),e["!legacy"]=i}}function RD(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Dt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,s=an(a);s.s.r==s.e.r&&(s.e.r=an(e["!ref"]).e.r,a=Dt(s));for(var l=0;l<o.length;++l){var u=o[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Z(t,161,is(dt(a))),Z(t,162)}}function PD(t,e,r){Z(t,133),Z(t,137,mD(e,r)),Z(t,138),Z(t,134)}function FD(t,e){e["!protect"]&&Z(t,535,wD(e["!protect"]))}function kD(t,e,r,n){var i=zr(),a=r.SheetNames[t],o=r.Sheets[a]||{},s=a;try{r&&r.Workbook&&(s=r.Workbook.Sheets[t].CodeName||s)}catch{}var l=dt(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Z(i,129),(r.vbaraw||o["!outline"])&&Z(i,147,IN(s,o["!outline"])),Z(i,148,SN(l)),PD(i,o,r.Workbook),ID(i,o),AD(i,o,t,e),FD(i,o),RD(i,o,r,t),TD(i,o),ND(i,o,n),o["!margins"]&&Z(i,476,xD(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&OD(i,o),DD(i,o,t,n),Z(i,130),i.end()}function MD(t,e){t.l+=10;var r=yr(t);return{name:r}}var bD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function LD(t){return!t.Workbook||!t.Workbook.WBProps?"false":pI(t.Workbook.WBProps.date1904)?"true":"false"}var BD="][*?/\\".split("");function Jy(t,e){if(t.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return BD.forEach(function(n){if(t.indexOf(n)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function UD(t,e,r){t.forEach(function(n,i){Jy(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[i]&&e[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function HD(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];UD(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)lN(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function ew(t){var e=[Rt];e[e.length]=re("workbook",null,{xmlns:rs[0],"xmlns:r":Yt.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(bD.forEach(function(s){t.Workbook.WBProps[s[0]]!=null&&t.Workbook.WBProps[s[0]]!=s[1]&&(n[s[0]]=t.Workbook.WBProps[s[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=re("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var o={name:Ze(t.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=re("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(s){var l={name:s.Name};s.Comment&&(l.comment=s.Comment),s.Sheet!=null&&(l.localSheetId=""+s.Sheet),s.Hidden&&(l.hidden="1"),s.Ref&&(e[e.length]=re("definedName",Ze(s.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function WD(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=qh(t),r.name=yr(t),r}function VD(t,e){return e||(e=j(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Md(t.strRelID,e),qt(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function GD(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?yr(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function zD(t,e){e||(e=j(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),hy(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function jD(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=LI(t),o=rN(t,0,r),s=kd(t);t.l=n;var l={Name:a,Ptg:o};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}function XD(t,e){Z(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Z(t,156,VD(i))}Z(t,144)}function $D(t,e){e||(e=j(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return qt("SheetJS",e),qt(Cf.version,e),qt(Cf.version,e),qt("7262",e),e.length>e.l?e.slice(0,e.l):e}function YD(t,e){e||(e=j(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function KD(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Z(t,135),Z(t,158,YD(i)),Z(t,136))}}function ZD(t,e){var r=zr();return Z(r,131),Z(r,128,$D()),Z(r,153,zD(t.Workbook&&t.Workbook.WBProps||null)),KD(r,t),XD(r,t),Z(r,132),r.end()}function QD(t,e,r){return(e.slice(-4)===".bin"?ZD:ew)(t)}function qD(t,e,r,n,i){return(e.slice(-4)===".bin"?kD:Qy)(t,r,n,i)}function JD(t,e,r){return(e.slice(-4)===".bin"?xO:by)(t,r)}function eR(t,e,r){return(e.slice(-4)===".bin"?z6:Py)(t,r)}function tR(t,e,r){return(e.slice(-4)===".bin"?FO:Wy)(t)}function rR(t){return(t.slice(-4)===".bin"?AO:Uy)()}function nR(t,e){var r=[];return t.Props&&r.push(JI(t.Props,e)),t.Custprops&&r.push(e6(t.Props,t.Custprops)),r.join("")}function iR(){return""}function aR(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(re("NumberFormat",null,{"ss:Format":Ze(Tt[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(re("Style",a.join(""),o))}),re("Styles",r.join(""))}function tw(t){return re("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Ud(t.Ref,{r:0,c:0})})}function oR(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(tw(i)))}return re("Names",r.join(""))}function sR(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],o=0;o<i.length;++o){var s=i[o];s.Sheet==r&&(s.Name.match(/^_xlfn\./)||a.push(tw(s)))}return a.join("")}function lR(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(re("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(re("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(re("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(re("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(sr("ProtectContents","True")),t["!protect"].objects&&i.push(sr("ProtectObjects","True")),t["!protect"].scenarios&&i.push(sr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(sr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(sr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":re("WorksheetOptions",i.join(""),{xmlns:Jr.x})}function uR(t){return t.map(function(e){var r=dI(e.t||""),n=re("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return re("Comment",n,{"ss:Author":e.a})}).join("")}function fR(t,e,r,n,i,a,o){if(!t||t.v==null&&t.f==null)return"";var s={};if(t.f&&(s["ss:Formula"]="="+Ze(Ud(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var l=Qt(t.F.slice(e.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(t.l&&t.l.Target&&(s["ss:HRef"]=Ze(t.l.Target),t.l.Tooltip&&(s["x:HRefScreenTip"]=Ze(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(s["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(s["ss:MergeDown"]=u[f].e.r-u[f].s.r));var c="",h="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":c="Number",h=String(t.v);break;case"b":c="Boolean",h=t.v?"1":"0";break;case"e":c="Error",h=Xl[t.v];break;case"d":c="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Tt[14]);break;case"s":c="String",h=hI(t.v||"");break}var d=sa(n.cellXfs,t,n);s["ss:StyleID"]="s"+(21+d),s["ss:Index"]=o.c+1;var p=t.v!=null?h:"",v=t.t=="z"?"":'<Data ss:Type="'+c+'">'+p+"</Data>";return(t.c||[]).length>0&&(v+=uR(t.c)),re("Cell",v,s)}function cR(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=My(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hR(t,e,r,n){if(!t["!ref"])return"";var i=dt(t["!ref"]),a=t["!merges"]||[],o=0,s=[];t["!cols"]&&t["!cols"].forEach(function(_,x){Ld(_);var g=!!_.width,m=A0(x,_),y={"ss:Index":x+1};g&&(y["ss:Width"]=Pf(m.width)),_.hidden&&(y["ss:Hidden"]="1"),s.push(re("Column",null,y))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var f=[cR(u,(t["!rows"]||[])[u])],c=i.s.c;c<=i.e.c;++c){var h=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>c)&&!(a[o].s.r>u)&&!(a[o].e.c<c)&&!(a[o].e.r<u)){(a[o].s.c!=c||a[o].s.r!=u)&&(h=!0);break}if(!h){var d={r:u,c},p=qe(d),v=l?(t[u]||[])[c]:t[p];f.push(fR(v,p,t,e,r,n,d))}}f.push("</Row>"),f.length>2&&s.push(f.join(""))}return s.join("")}function dR(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],o=a?sR(a,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?hR(a,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(lR(a,e,t,r)),n.join("")}function pR(t,e){e||(e={}),t.SSF||(t.SSF=$r(Tt)),t.SSF&&(y0(),m0(t.SSF),e.revssf=w0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],sa(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(nR(t,e)),r.push(iR()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(re("Worksheet",dR(n,e,t),{"ss:Name":Ze(t.SheetNames[n])}));return r[2]=aR(t,e),r[3]=oR(t),Rt+re("Workbook",r.join(""),{xmlns:Jr.ss,"xmlns:o":Jr.o,"xmlns:x":Jr.x,"xmlns:ss":Jr.ss,"xmlns:dt":Jr.dt,"xmlns:html":Jr.html})}var Ic={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function vR(t,e){var r=[],n=[],i=[],a=0,o,s=bg(Kg,"n"),l=bg(Zg,"n");if(t.Props)for(o=hr(t.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(l,o[a])?n:i).push([o[a],t.Props[o[a]]]);if(t.Custprops)for(o=hr(t.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(s,o[a])?r:Object.prototype.hasOwnProperty.call(l,o[a])?n:i).push([o[a],t.Custprops[o[a]]]);var u=[];for(a=0;a<i.length;++a)Ay.indexOf(i[a][0])>-1||Ey.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&et.utils.cfb_add(e,"/SummaryInformation",t2(n,Ic.SI,l,Zg)),(r.length||u.length)&&et.utils.cfb_add(e,"/DocumentSummaryInformation",t2(r,Ic.DSI,s,Kg,u.length?u:null,Ic.UDI))}function gR(t,e){var r=e||{},n=et.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return et.utils.cfb_add(n,i,rw(t,r)),r.biff==8&&(t.Props||t.Custprops)&&vR(t,n),r.biff==8&&t.vbaraw&&kO(n,et.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var xR={0:{f:yN},1:{f:ON},2:{f:YN},3:{f:bN},4:{f:PN},5:{f:zN},6:{f:JN},7:{f:HN},8:{f:oD},9:{f:aD},10:{f:nD},11:{f:iD},12:{f:DN},13:{f:ZN},14:{f:BN},15:{f:kN},16:{f:XN},17:{f:tD},18:{f:VN},19:{f:Fd},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jD},40:{},42:{},43:{f:J6},44:{f:Q6},45:{f:rO},46:{f:iO},47:{f:nO},48:{},49:{f:DI},50:{},51:{f:yO},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:R6},62:{f:qN},63:{f:TO},64:{f:ED},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_D},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:TN},148:{f:CN,p:16},151:{f:hD},152:{},153:{f:GD},154:{},155:{},156:{f:WD},157:{},158:{},159:{T:1,f:W6},160:{T:-1},161:{T:1,f:Ka},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sD},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_O},336:{T:-1},337:{f:CO,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:qh},357:{},358:{},359:{},360:{T:1},361:{},362:{f:A6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dD},427:{f:pD},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gD},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:AN},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:fD},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:qh},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:RO},633:{T:1},634:{T:-1},635:{T:1,f:NO},636:{T:-1},637:{f:kI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:MD},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:CD},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ne(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&Dd(r)&&t.push(r)}}function _R(t,e,r,n){var i=n||(r||[]).length||0;if(i<=8224)return ne(t,e,r,i);var a=e;if(!isNaN(a)){for(var o=r.parts||[],s=0,l=0,u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;var f=t.next(4);for(f.write_shift(2,a),f.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(f=t.next(4),f.write_shift(2,60),u=0;u+(o[s]||8224)<=8224;)u+=o[s]||8224,s++;f.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function Yl(t,e,r){return t||(t=j(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function mR(t,e,r,n){var i=j(9);return Yl(i,t,e),Iy(r,n||"b",i),i}function yR(t,e,r){var n=j(8+2*r.length);return Yl(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function wR(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Xr(Rr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ne(t,2,M6(r,n,i)):ne(t,3,k6(r,n,i));return;case"b":case"e":ne(t,5,mR(r,n,e.v,e.t));return;case"s":case"str":ne(t,4,yR(r,n,(e.v||"").slice(0,255)));return}ne(t,1,Yl(null,r,n))}function ER(t,e,r,n){var i=Array.isArray(e),a=dt(e["!ref"]||"A1"),o,s="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Dt(a)}for(var u=a.s.r;u<=a.e.r;++u){s=fr(u);for(var f=a.s.c;f<=a.e.c;++f){u===a.s.r&&(l[f]=mr(f)),o=l[f]+s;var c=i?(e[u]||[])[f]:e[o];c&&wR(t,c,u,f)}}}function CR(t,e){for(var r=e||{},n=zr(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ne(n,r.biff==4?1033:r.biff==3?521:9,bd(t,16,r)),ER(n,t.Sheets[t.SheetNames[i]],i,r),ne(n,10),n.end()}function SR(t,e,r){ne(t,49,x6({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function AR(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ne(t,1054,y6(i,e[i],r))})}function TR(t,e){var r=j(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ne(t,2151,r),r=j(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Dy(dt(e["!ref"]||"A1"),r),r.write_shift(4,4),ne(t,2152,r)}function IR(t,e){for(var r=0;r<16;++r)ne(t,224,n2({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ne(t,224,n2(n,0,e))})}function OR(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ne(t,440,O6(n)),n[1].Tooltip&&ne(t,2048,N6(n))}delete e["!links"]}function NR(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&ne(t,125,P6(A0(i,n),i))})}}function DR(t,e,r,n,i){var a=16+sa(i.cellXfs,e,i);if(e.v==null&&!e.bf){ne(t,513,Ba(r,n,a));return}if(e.bf)ne(t,6,eN(e,r,n,i,a));else switch(e.t){case"d":case"n":var o=e.t=="d"?Xr(Rr(e.v)):e.v;ne(t,515,S6(r,n,o,a));break;case"b":case"e":ne(t,517,C6(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var s=Wd(i.Strings,e.v,i.revStrings);ne(t,253,_6(r,n,s,a))}else ne(t,516,m6(r,n,(e.v||"").slice(0,255),a,i));break;default:ne(t,513,Ba(r,n,a))}}function RR(t,e,r){var n=zr(),i=r.SheetNames[t],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},s=(o.Sheets||[])[t]||{},l=Array.isArray(a),u=e.biff==8,f,c="",h=[],d=dt(a["!ref"]||"A1"),p=u?65536:16384;if(d.e.c>255||d.e.r>=p){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,p-1)}ne(n,2057,bd(r,16,e)),ne(n,13,cn(1)),ne(n,12,cn(100)),ne(n,15,Nr(!0)),ne(n,17,Nr(!1)),ne(n,16,La(.001)),ne(n,95,Nr(!0)),ne(n,42,Nr(!1)),ne(n,43,Nr(!1)),ne(n,130,cn(1)),ne(n,128,E6([0,0])),ne(n,131,Nr(!1)),ne(n,132,Nr(!1)),u&&NR(n,a["!cols"]),ne(n,512,w6(d,e)),u&&(a["!links"]=[]);for(var v=d.s.r;v<=d.e.r;++v){c=fr(v);for(var _=d.s.c;_<=d.e.c;++_){v===d.s.r&&(h[_]=mr(_)),f=h[_]+c;var x=l?(a[v]||[])[_]:a[f];x&&(DR(n,x,v,_,e),u&&x.l&&a["!links"].push([f,x.l]))}}var g=s.CodeName||s.name||i;return u&&ne(n,574,g6((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&ne(n,229,I6(a["!merges"])),u&&OR(n,a),ne(n,442,Ny(g)),u&&TR(n,a),ne(n,10),n.end()}function PR(t,e,r){var n=zr(),i=(t||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},s=r.biff==8,l=r.biff==5;if(ne(n,2057,bd(t,5,r)),r.bookType=="xla"&&ne(n,135),ne(n,225,s?cn(1200):null),ne(n,193,n6(2)),l&&ne(n,191),l&&ne(n,192),ne(n,226),ne(n,92,h6("SheetJS",r)),ne(n,66,cn(s?1200:1252)),s&&ne(n,353,cn(0)),s&&ne(n,448),ne(n,317,F6(t.SheetNames.length)),s&&t.vbaraw&&ne(n,211),s&&t.vbaraw){var u=o.CodeName||"ThisWorkbook";ne(n,442,Ny(u))}ne(n,156,cn(17)),ne(n,25,Nr(!1)),ne(n,18,Nr(!1)),ne(n,19,cn(0)),s&&ne(n,431,Nr(!1)),s&&ne(n,444,cn(0)),ne(n,61,v6()),ne(n,64,Nr(!1)),ne(n,141,cn(0)),ne(n,34,Nr(LD(t)=="true")),ne(n,14,Nr(!0)),s&&ne(n,439,Nr(!1)),ne(n,218,cn(0)),SR(n,t,r),AR(n,t.SSF,r),IR(n,r),s&&ne(n,352,Nr(!1));var f=n.end(),c=zr();s&&ne(c,140,D6()),s&&r.Strings&&_R(c,252,p6(r.Strings)),ne(c,10);var h=c.end(),d=zr(),p=0,v=0;for(v=0;v<t.SheetNames.length;++v)p+=(s?12:11)+(s?2:1)*t.SheetNames[v].length;var _=f.length+p+h.length;for(v=0;v<t.SheetNames.length;++v){var x=a[v]||{};ne(d,133,d6({pos:_,hs:x.Hidden||0,dt:0,name:t.SheetNames[v]},r)),_+=e[v].length}var g=d.end();if(p!=g.length)throw new Error("BS8 "+p+" != "+g.length);var m=[];return f.length&&m.push(f),g.length&&m.push(g),h.length&&m.push(h),or(m)}function FR(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=$r(Tt)),t&&t.SSF&&(y0(),m0(t.SSF),r.revssf=w0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Vd(r),r.cellXfs=[],sa(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=RR(i,r,t);return n.unshift(PR(t,n,r)),or(n)}function rw(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=an(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return FR(t,e);case 4:case 3:case 2:return CR(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function kR(t,e,r,n){for(var i=t["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var s=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){s=-1;break}s=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(s<0)){var f=qe({r,c:o}),c=n.dense?(t[r]||[])[o]:t[f],h=c&&c.v!=null&&(c.h||cI(c.w||(xi(c),c.w)||""))||"",d={};s>1&&(d.rowspan=s),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":c&&(d["data-t"]=c&&c.t||"z",c.v!=null&&(d["data-v"]=c.v),c.z!=null&&(d["data-z"]=c.z),c.l&&(c.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+c.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+f,a.push(re("td",h,d))}}var p="<tr>";return p+a.join("")+"</tr>"}var MR='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bR="</body></html>";function LR(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function nw(t,e){var r=e||{},n=r.header!=null?r.header:MR,i=r.footer!=null?r.footer:bR,a=[n],o=an(t["!ref"]);r.dense=Array.isArray(t),a.push(LR(t,o,r));for(var s=o.s.r;s<=o.e.r;++s)a.push(kR(t,o,s,r));return a.push("</table>"+i),a.join("")}function iw(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?Qt(n.origin):n.origin;i=o.r,a=o.c}var s=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,s.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var f=an(t["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var c=[],h=0,d=t["!rows"]||(t["!rows"]=[]),p=0,v=0,_=0,x=0,g=0,m=0;for(t["!cols"]||(t["!cols"]=[]);p<s.length&&v<l;++p){var y=s[p];if(f2(y)){if(n.display)continue;d[v]={hidden:!0}}var C=y.children;for(_=x=0;_<C.length;++_){var D=C[_];if(!(n.display&&f2(D))){var E=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):vI(D.innerHTML),R=D.getAttribute("data-z")||D.getAttribute("z");for(h=0;h<c.length;++h){var F=c[h];F.s.c==x+a&&F.s.r<v+i&&v+i<=F.e.r&&(x=F.e.c+1-a,h=-1)}m=+D.getAttribute("colspan")||1,((g=+D.getAttribute("rowspan")||1)>1||m>1)&&c.push({s:{r:v+i,c:x+a},e:{r:v+i+(g||1)-1,c:x+a+(m||1)-1}});var k={t:"s",v:E},G=D.getAttribute("data-t")||D.getAttribute("t")||"";E!=null&&(E.length==0?k.t=G||"z":n.raw||E.trim().length==0||G=="s"||(E==="TRUE"?k={t:"b",v:!0}:E==="FALSE"?k={t:"b",v:!1}:isNaN(ui(E))?isNaN(Cl(E).getDate())||(k={t:"d",v:Rr(E)},n.cellDates||(k={t:"n",v:Xr(k.v)}),k.z=n.dateNF||Tt[14]):k={t:"n",v:ui(E)})),k.z===void 0&&R!=null&&(k.z=R);var z="",Q=D.getElementsByTagName("A");if(Q&&Q.length)for(var Ee=0;Ee<Q.length&&!(Q[Ee].hasAttribute("href")&&(z=Q[Ee].getAttribute("href"),z.charAt(0)!="#"));++Ee);z&&z.charAt(0)!="#"&&(k.l={Target:z}),n.dense?(t[v+i]||(t[v+i]=[]),t[v+i][x+a]=k):t[qe({c:x+a,r:v+i})]=k,u.e.c<x+a&&(u.e.c=x+a),x+=m}}++v}return c.length&&(t["!merges"]=(t["!merges"]||[]).concat(c)),u.e.r=Math.max(u.e.r,v-1+i),t["!ref"]=Dt(u),v>=l&&(t["!fullref"]=Dt((u.e.r=s.length-p+v-1+i,u))),t}function aw(t,e){var r=e||{},n=r.dense?[]:{};return iw(n,t,e)}function BR(t,e){return ja(aw(t,e),e)}function f2(t){var e="",r=UR(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function UR(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var HR=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Sl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Rt+e}}(),c2=function(){var t=function(a){return Ze(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,s){var l=[];l.push('      <table:table table:name="'+Ze(o.SheetNames[s])+`" table:style-name="ta1">
`);var u=0,f=0,c=an(a["!ref"]||"A1"),h=a["!merges"]||[],d=0,p=Array.isArray(a);if(a["!cols"])for(f=0;f<=c.e.c;++f)l.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var v="",_=a["!rows"]||[];for(u=0;u<c.s.r;++u)v=_[u]?' table:style-name="ro'+_[u].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=c.e.r;++u){for(v=_[u]?' table:style-name="ro'+_[u].ods+'"':"",l.push("        <table:table-row"+v+`>
`),f=0;f<c.s.c;++f)l.push(e);for(;f<=c.e.c;++f){var x=!1,g={},m="";for(d=0;d!=h.length;++d)if(!(h[d].s.c>f)&&!(h[d].s.r>u)&&!(h[d].e.c<f)&&!(h[d].e.r<u)){(h[d].s.c!=f||h[d].s.r!=u)&&(x=!0),g["table:number-columns-spanned"]=h[d].e.c-h[d].s.c+1,g["table:number-rows-spanned"]=h[d].e.r-h[d].s.r+1;break}if(x){l.push(r);continue}var y=qe({r:u,c:f}),C=p?(a[u]||[])[f]:a[y];if(C&&C.f&&(g["table:formula"]=Ze(oN(C.f)),C.F&&C.F.slice(0,y.length)==y)){var D=an(C.F);g["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,g["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!C){l.push(e);continue}switch(C.t){case"b":m=C.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=C.v?"true":"false";break;case"n":m=C.w||String(C.v||0),g["office:value-type"]="float",g["office:value"]=C.v||0;break;case"s":case"str":m=C.v==null?"":C.v,g["office:value-type"]="string";break;case"d":m=C.w||Rr(C.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=Rr(C.v).toISOString(),g["table:style-name"]="ce1";break;default:l.push(e);continue}var E=t(m);if(C.l&&C.l.Target){var R=C.l.Target;R=R.charAt(0)=="#"?"#"+sN(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),E=re("text:a",E,{"xlink:href":R.replace(/&/g,"&amp;")})}l.push("          "+re("table:table-cell",re("text:p",E,{}),g)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var s=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var c=u["!cols"][f];if(c.width==null&&c.wpx==null&&c.wch==null)continue;Ld(c),c.ods=s;var h=u["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+s+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),a.push(`  </style:style>
`),++s}}});var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var c=u["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+c+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,s){var l=[Rt],u=Sl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Sl({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});s.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(yy().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var c=0;c!=o.SheetNames.length;++c)l.push(n(o.Sheets[o.SheetNames[c]],o,c));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),s.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function ow(t,e){if(e.bookType=="fods")return c2(t,e);var r=Td(),n="",i=[],a=[];return n="mimetype",Se(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Se(r,n,c2(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Se(r,n,HR(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Se(r,n,Rt+yy()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Se(r,n,qI(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Se(r,n,ZI(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Mf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function WR(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Rn(ai(t))}function VR(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ta(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function GR(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function Al(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ye(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Po(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function kt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Al(t,r),a=i&7;i=Math.floor(i/8);var o=0,s;if(i==0)break;switch(a){case 0:{for(var l=r[0];t[r[0]++]>=128;);s=t.slice(l,r[0])}break;case 5:o=4,s=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,s=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Al(t,r),s=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:s,type:a};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function tr(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Ye(n*8+i.type)),i.type==2&&e.push(Ye(i.data.length)),e.push(i.data))})}),ta(e)}function Cn(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Al(t,n),a=kt(t.slice(n[0],n[0]+i));n[0]+=i;var o={id:Po(a[1][0].data),messages:[]};a[2].forEach(function(s){var l=kt(s.data),u=Po(l[3][0].data);o.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=a[3])!=null&&e[0]&&(o.merge=Po(a[3][0].data)>>>0>0),r.push(o)}return r}function to(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ye(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ye(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Ye(o.data.length)}],n[2].push({data:tr(o.meta),type:2})});var a=tr(n);e.push(Ye(a.length)),e.push(a),i.forEach(function(o){return e.push(o)})}),ta(e)}function zR(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Al(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var s=o-59;o=e[r[0]],s>1&&(o|=e[r[0]+1]<<8),s>2&&(o|=e[r[0]+2]<<16),s>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=s}i.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var l=0,u=0;if(a==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,a==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ta(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var f=ta(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Sn(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(zR(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ta(e)}function ro(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Ye(n),o=a.length;e.push(a),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return ta(e)}function Oc(t,e){var r=new Uint8Array(32),n=Mf(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,GR(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function Nc(t,e){var r=new Uint8Array(32),n=Mf(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Oi(t){var e=kt(t);return Al(e[1][0].data)}function jR(t,e,r){var n,i,a,o;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var s=((o=(a=t[8])==null?void 0:a[0])==null?void 0:o.data)&&Po(t[8][0].data)>0||!1;if(s)throw"Math only works with normal offsets";for(var l=0,u=Mf(t[7][0].data),f=0,c=[],h=Mf(t[4][0].data),d=0,p=[],v=0;v<e.length;++v){if(e[v]==null){u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535);continue}u.setUint16(v*2,f,!0),h.setUint16(v*2,d,!0);var _,x;switch(typeof e[v]){case"string":_=Oc({t:"s",v:e[v]},r),x=Nc({t:"s",v:e[v]},r);break;case"number":_=Oc({t:"n",v:e[v]},r),x=Nc({t:"n",v:e[v]},r);break;case"boolean":_=Oc({t:"b",v:e[v]},r),x=Nc({t:"b",v:e[v]},r);break;default:throw new Error("Unsupported value "+e[v])}c.push(_),f+=_.length,p.push(x),d+=x.length,++l}for(t[2][0].data=Ye(l);v<t[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),h.setUint16(v*2,65535,!0);return t[6][0].data=ta(c),t[3][0].data=ta(p),l}function XR(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=an(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Dt(n)));var a=bf(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(W){return W.forEach(function(b){typeof b=="string"&&o.push(b)})});var s={},l=[],u=et.read(e.numbers,{type:"base64"});u.FileIndex.map(function(W,b){return[W,u.FullPaths[b]]}).forEach(function(W){var b=W[0],M=W[1];if(b.type==2&&b.name.match(/\.iwa/)){var K=b.content,ce=Sn(K),ge=Cn(ce);ge.forEach(function(pe){l.push(pe.id),s[pe.id]={deps:[],location:M,type:Po(pe.messages[0].meta[1][0].data)}})}}),l.sort(function(W,b){return W-b});var f=l.filter(function(W){return W>1}).map(function(W){return[W,Ye(W)]});u.FileIndex.map(function(W,b){return[W,u.FullPaths[b]]}).forEach(function(W){var b=W[0];if(W[1],!!b.name.match(/\.iwa/)){var M=Cn(Sn(b.content));M.forEach(function(K){K.messages.forEach(function(ce){f.forEach(function(ge){K.messages.some(function(pe){return Po(pe.meta[1][0].data)!=11006&&VR(pe.data,ge[1])})&&s[ge[0]].deps.push(K.id)})})})}});for(var c=et.find(u,s[1].location),h=Cn(Sn(c.content)),d,p=0;p<h.length;++p){var v=h[p];v.id==1&&(d=v)}var _=Oi(kt(d.messages[0].data)[1][0].data);for(c=et.find(u,s[_].location),h=Cn(Sn(c.content)),p=0;p<h.length;++p)v=h[p],v.id==_&&(d=v);for(_=Oi(kt(d.messages[0].data)[2][0].data),c=et.find(u,s[_].location),h=Cn(Sn(c.content)),p=0;p<h.length;++p)v=h[p],v.id==_&&(d=v);for(_=Oi(kt(d.messages[0].data)[2][0].data),c=et.find(u,s[_].location),h=Cn(Sn(c.content)),p=0;p<h.length;++p)v=h[p],v.id==_&&(d=v);var x=kt(d.messages[0].data);{x[6][0].data=Ye(n.e.r+1),x[7][0].data=Ye(n.e.c+1);var g=Oi(x[46][0].data),m=et.find(u,s[g].location),y=Cn(Sn(m.content));{for(var C=0;C<y.length&&y[C].id!=g;++C);if(y[C].id!=g)throw"Bad ColumnRowUIDMapArchive";var D=kt(y[C].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var E=0;E<=n.e.c;++E){var R=[];R[1]=R[2]=[{type:0,data:Ye(E+420690)}],D[1].push({type:2,data:tr(R)}),D[2].push({type:0,data:Ye(E)}),D[3].push({type:0,data:Ye(E)})}D[4]=[],D[5]=[],D[6]=[];for(var F=0;F<=n.e.r;++F)R=[],R[1]=R[2]=[{type:0,data:Ye(F+726270)}],D[4].push({type:2,data:tr(R)}),D[5].push({type:0,data:Ye(F)}),D[6].push({type:0,data:Ye(F)});y[C].messages[0].data=tr(D)}m.content=ro(to(y)),m.size=m.content.length,delete x[46];var k=kt(x[4][0].data);{k[7][0].data=Ye(n.e.r+1);var G=kt(k[1][0].data),z=Oi(G[2][0].data);m=et.find(u,s[z].location),y=Cn(Sn(m.content));{if(y[0].id!=z)throw"Bad HeaderStorageBucket";var Q=kt(y[0].messages[0].data);for(F=0;F<a.length;++F){var Ee=kt(Q[2][0].data);Ee[1][0].data=Ye(F),Ee[4][0].data=Ye(a[F].length),Q[2][F]={type:Q[2][0].type,data:tr(Ee)}}y[0].messages[0].data=tr(Q)}m.content=ro(to(y)),m.size=m.content.length;var xe=Oi(k[2][0].data);m=et.find(u,s[xe].location),y=Cn(Sn(m.content));{if(y[0].id!=xe)throw"Bad HeaderStorageBucket";for(Q=kt(y[0].messages[0].data),E=0;E<=n.e.c;++E)Ee=kt(Q[2][0].data),Ee[1][0].data=Ye(E),Ee[4][0].data=Ye(n.e.r+1),Q[2][E]={type:Q[2][0].type,data:tr(Ee)};y[0].messages[0].data=tr(Q)}m.content=ro(to(y)),m.size=m.content.length;var st=Oi(k[4][0].data);(function(){for(var W=et.find(u,s[st].location),b=Cn(Sn(W.content)),M,K=0;K<b.length;++K){var ce=b[K];ce.id==st&&(M=ce)}var ge=kt(M.messages[0].data);{ge[3]=[];var pe=[];o.forEach(function(ke,Cr){pe[1]=[{type:0,data:Ye(Cr)}],pe[2]=[{type:0,data:Ye(1)}],pe[3]=[{type:2,data:WR(ke)}],ge[3].push({type:2,data:tr(pe)})})}M.messages[0].data=tr(ge);var se=to(b),tt=ro(se);W.content=tt,W.size=W.content.length})();var je=kt(k[3][0].data);{var ae=je[1][0];delete je[2];var ve=kt(ae.data);{var ye=Oi(ve[2][0].data);(function(){for(var W=et.find(u,s[ye].location),b=Cn(Sn(W.content)),M,K=0;K<b.length;++K){var ce=b[K];ce.id==ye&&(M=ce)}var ge=kt(M.messages[0].data);{delete ge[6],delete je[7];var pe=new Uint8Array(ge[5][0].data);ge[5]=[];for(var se=0,tt=0;tt<=n.e.r;++tt){var ke=kt(pe);se+=jR(ke,a[tt],o),ke[1][0].data=Ye(tt),ge[5].push({data:tr(ke),type:2})}ge[1]=[{type:0,data:Ye(n.e.c+1)}],ge[2]=[{type:0,data:Ye(n.e.r+1)}],ge[3]=[{type:0,data:Ye(se)}],ge[4]=[{type:0,data:Ye(n.e.r+1)}]}M.messages[0].data=tr(ge);var Cr=to(b),Ge=ro(Cr);W.content=Ge,W.size=W.content.length})()}ae.data=tr(ve)}k[3][0].data=tr(je)}x[4][0].data=tr(k)}d.messages[0].data=tr(x);var Pe=to(h),P=ro(Pe);return c.content=P,c.size=c.content.length,u}function $R(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Vd(t){$R([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function YR(t,e){return e.bookType=="ods"?ow(t,e):e.bookType=="numbers"?XR(t,e):e.bookType=="xlsb"?KR(t,e):ZR(t,e)}function KR(t,e){wo=1024,t&&!t.SSF&&(t.SSF=$r(Tt)),t&&t.SSF&&(y0(),m0(t.SSF),e.revssf=w0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Js?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=Vy.indexOf(e.bookType)>-1,i=xy();Vd(e=e||{});var a=Td(),o="",s=0;if(e.cellXfs=[],sa(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Se(a,o,wy(t.Props,e)),i.coreprops.push(o),Ke(e.rels,2,o,Le.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Se(a,o,Cy(t.Props)),i.extprops.push(o),Ke(e.rels,3,o,Le.EXT_PROPS),t.Custprops!==t.Props&&hr(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Se(a,o,Sy(t.Custprops)),i.custprops.push(o),Ke(e.rels,4,o,Le.CUST_PROPS)),s=1;s<=t.SheetNames.length;++s){var f={"!id":{}},c=t.Sheets[t.SheetNames[s-1]],h=(c||{})["!type"]||"sheet";switch(h){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,Se(a,o,qD(s-1,o,e,t,f)),i.sheets.push(o),Ke(e.wbrels,-1,"worksheets/sheet"+s+"."+r,Le.WS[0])}if(c){var d=c["!comments"],p=!1,v="";d&&d.length>0&&(v="xl/comments"+s+"."+r,Se(a,v,tR(d,v)),i.comments.push(v),Ke(f,-1,"../comments"+s+"."+r,Le.CMNT),p=!0),c["!legacy"]&&p&&Se(a,"xl/drawings/vmlDrawing"+s+".vml",Hy(s,c["!comments"])),delete c["!comments"],delete c["!legacy"]}f["!id"].rId1&&Se(a,my(o),Do(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Se(a,o,eR(e.Strings,o,e)),i.strs.push(o),Ke(e.wbrels,-1,"sharedStrings."+r,Le.SST)),o="xl/workbook."+r,Se(a,o,QD(t,o)),i.workbooks.push(o),Ke(e.rels,1,o,Le.WB),o="xl/theme/theme1.xml",Se(a,o,By(t.Themes,e)),i.themes.push(o),Ke(e.wbrels,-1,"theme/theme1.xml",Le.THEME),o="xl/styles."+r,Se(a,o,JD(t,o,e)),i.styles.push(o),Ke(e.wbrels,-1,"styles."+r,Le.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Se(a,o,t.vbaraw),i.vba.push(o),Ke(e.wbrels,-1,"vbaProject.bin",Le.VBA)),o="xl/metadata."+r,Se(a,o,rR(o)),i.metadata.push(o),Ke(e.wbrels,-1,"metadata."+r,Le.XLMETA),Se(a,"[Content_Types].xml",_y(i,e)),Se(a,"_rels/.rels",Do(e.rels)),Se(a,"xl/_rels/workbook."+r+".rels",Do(e.wbrels)),delete e.revssf,delete e.ssf,a}function ZR(t,e){wo=1024,t&&!t.SSF&&(t.SSF=$r(Tt)),t&&t.SSF&&(y0(),m0(t.SSF),e.revssf=w0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Js?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=Vy.indexOf(e.bookType)>-1,i=xy();Vd(e=e||{});var a=Td(),o="",s=0;if(e.cellXfs=[],sa(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Se(a,o,wy(t.Props,e)),i.coreprops.push(o),Ke(e.rels,2,o,Le.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Se(a,o,Cy(t.Props)),i.extprops.push(o),Ke(e.rels,3,o,Le.EXT_PROPS),t.Custprops!==t.Props&&hr(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Se(a,o,Sy(t.Custprops)),i.custprops.push(o),Ke(e.rels,4,o,Le.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,s=1;s<=t.SheetNames.length;++s){var c={"!id":{}},h=t.Sheets[t.SheetNames[s-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:o="xl/worksheets/sheet"+s+"."+r,Se(a,o,Qy(s-1,e,t,c)),i.sheets.push(o),Ke(e.wbrels,-1,"worksheets/sheet"+s+"."+r,Le.WS[0])}if(h){var p=h["!comments"],v=!1,_="";if(p&&p.length>0){var x=!1;p.forEach(function(g){g[1].forEach(function(m){m.T==!0&&(x=!0)})}),x&&(_="xl/threadedComments/threadedComment"+s+"."+r,Se(a,_,IO(p,f,e)),i.threadedcomments.push(_),Ke(c,-1,"../threadedComments/threadedComment"+s+"."+r,Le.TCMNT)),_="xl/comments"+s+"."+r,Se(a,_,Wy(p)),i.comments.push(_),Ke(c,-1,"../comments"+s+"."+r,Le.CMNT),v=!0}h["!legacy"]&&v&&Se(a,"xl/drawings/vmlDrawing"+s+".vml",Hy(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}c["!id"].rId1&&Se(a,my(o),Do(c))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Se(a,o,Py(e.Strings,e)),i.strs.push(o),Ke(e.wbrels,-1,"sharedStrings."+r,Le.SST)),o="xl/workbook."+r,Se(a,o,ew(t)),i.workbooks.push(o),Ke(e.rels,1,o,Le.WB),o="xl/theme/theme1.xml",Se(a,o,By(t.Themes,e)),i.themes.push(o),Ke(e.wbrels,-1,"theme/theme1.xml",Le.THEME),o="xl/styles."+r,Se(a,o,by(t,e)),i.styles.push(o),Ke(e.wbrels,-1,"styles."+r,Le.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Se(a,o,t.vbaraw),i.vba.push(o),Ke(e.wbrels,-1,"vbaProject.bin",Le.VBA)),o="xl/metadata."+r,Se(a,o,Uy()),i.metadata.push(o),Ke(e.wbrels,-1,"metadata."+r,Le.XLMETA),f.length>1&&(o="xl/persons/person.xml",Se(a,o,OO(f)),i.people.push(o),Ke(e.wbrels,-1,"persons/person.xml",Le.PEOPLE)),Se(a,"[Content_Types].xml",_y(i,e)),Se(a,"_rels/.rels",Do(e.rels)),Se(a,"xl/_rels/workbook."+r+".rels",Do(e.wbrels)),delete e.revssf,delete e.ssf,a}function QR(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=gi(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function sw(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return zl(e.file,et.write(t,{type:We?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return et.write(t,e)}function qR(t,e){var r=$r(e||{}),n=YR(t,r);return JR(n,r)}function JR(t,e){var r={},n=We?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?et.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(_0(i))}return e.password&&typeof encrypt_agile<"u"?sw(encrypt_agile(i,e.password),e):e.type==="file"?zl(e.file,i):e.type=="string"?Ks(i):i}function e7(t,e){var r=e||{},n=gR(t,r);return sw(n,r)}function zn(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return El(ai(n));case"binary":return ai(n);case"string":return t;case"file":return zl(e.file,n,"utf8");case"buffer":return We?Ei(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):zn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function t7(t,e){switch(e.type){case"base64":return El(t);case"binary":return t;case"string":return t;case"file":return zl(e.file,t,"binary");case"buffer":return We?Ei(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Pu(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?El(r):e.type=="string"?Ks(r):r;case"file":return zl(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function lw(t,e){O8(),HD(t);var r=$r(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=lw(t,r);return r.type="array",_0(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return zn(pR(t,r),r);case"slk":case"sylk":return zn(L6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return zn(nw(t.Sheets[t.SheetNames[i]],r),r);case"txt":return t7(uw(t.Sheets[t.SheetNames[i]],r),r);case"csv":return zn(Gd(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return zn(B6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Pu(b6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return zn(U6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return zn(X6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return zn(Ry.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return zn(ow(t,r),r);case"wk1":return Pu(i2.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Pu(i2.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Pu(rw(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),e7(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return qR(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function r7(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function n7(t,e,r){var n=r||{};return n.type="file",n.file=e,r7(n),lw(t,n)}function i7(t,e,r,n,i,a,o,s){var l=fr(r),u=s.defval,f=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),c=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!o||t[r])for(var d=e.s.c;d<=e.e.c;++d){var p=o?t[r][d]:t[n[d]+l];if(p===void 0||p.t===void 0){if(u===void 0)continue;a[d]!=null&&(h[a[d]]=u);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(a[d]!=null){if(v==null)if(p.t=="e"&&v===null)h[a[d]]=null;else if(u!==void 0)h[a[d]]=u;else if(f&&v===null)h[a[d]]=null;else continue;else h[a[d]]=f&&(p.t!=="n"||p.t==="n"&&s.rawNumbers!==!1)?v:xi(p,v,s);v!=null&&(c=!1)}}return{row:h,isempty:c}}function bf(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":l=dt(f);break;case"number":l=dt(t["!ref"]),l.s.r=f;break;default:l=f}n>0&&(i=0);var c=fr(l.s.r),h=[],d=[],p=0,v=0,_=Array.isArray(t),x=l.s.r,g=0,m={};_&&!t[x]&&(t[x]=[]);var y=u.skipHidden&&t["!cols"]||[],C=u.skipHidden&&t["!rows"]||[];for(g=l.s.c;g<=l.e.c;++g)if(!(y[g]||{}).hidden)switch(h[g]=mr(g),r=_?t[x][g]:t[h[g]+c],n){case 1:a[g]=g-l.s.c;break;case 2:a[g]=h[g];break;case 3:a[g]=u.header[g-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),s=o=xi(r,null,u),v=m[o]||0,!v)m[o]=1;else{do s=o+"_"+v++;while(m[s]);m[o]=v,m[s]=1}a[g]=s}for(x=l.s.r+i;x<=l.e.r;++x)if(!(C[x]||{}).hidden){var D=i7(t,l,x,h,n,a,_,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(d[p++]=D.row)}return d.length=p,d}var h2=/"/g;function a7(t,e,r,n,i,a,o,s){for(var l=!0,u=[],f="",c=fr(r),h=e.s.c;h<=e.e.c;++h)if(n[h]){var d=s.dense?(t[r]||[])[h]:t[n[h]+c];if(d==null)f="";else if(d.v!=null){l=!1,f=""+(s.rawNumbers&&d.t=="n"?d.v:xi(d,null,s));for(var p=0,v=0;p!==f.length;++p)if((v=f.charCodeAt(p))===i||v===a||v===34||s.forceQuotes){f='"'+f.replace(h2,'""')+'"';break}f=="ID"&&(f='"ID"')}else d.f!=null&&!d.F?(l=!1,f="="+d.f,f.indexOf(",")>=0&&(f='"'+f.replace(h2,'""')+'"')):f="";u.push(f)}return s.blankrows===!1&&l?null:u.join(o)}function Gd(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=dt(t["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),s=n.RS!==void 0?n.RS:`
`,l=s.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),f="",c=[];n.dense=Array.isArray(t);for(var h=n.skipHidden&&t["!cols"]||[],d=n.skipHidden&&t["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(h[p]||{}).hidden||(c[p]=mr(p));for(var v=0,_=i.s.r;_<=i.e.r;++_)(d[_]||{}).hidden||(f=a7(t,i,_,c,o,l,a,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((v++?s:"")+f)));return delete n.dense,r.join("")}function uw(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Gd(t,e);return r}function o7(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=dt(t["!ref"]),a="",o=[],s,l=[],u=Array.isArray(t);for(s=i.s.c;s<=i.e.c;++s)o[s]=mr(s);for(var f=i.s.r;f<=i.e.r;++f)for(a=fr(f),s=i.s.c;s<=i.e.c;++s)if(e=o[s]+a,r=u?(t[f]||[])[s]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function fw(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},o=0,s=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var l=typeof n.origin=="string"?Qt(n.origin):n.origin;o=l.r,s=l.c}var u,f={s:{c:0,r:0},e:{c:s,r:o+e.length-1+i}};if(a["!ref"]){var c=dt(a["!ref"]);f.e.c=Math.max(f.e.c,c.e.c),f.e.r=Math.max(f.e.r,c.e.r),o==-1&&(o=c.e.r+1,f.e.r=o+e.length-1+i)}else o==-1&&(o=0,f.e.r=e.length-1+i);var h=n.header||[],d=0;e.forEach(function(v,_){hr(v).forEach(function(x){(d=h.indexOf(x))==-1&&(h[d=h.length]=x);var g=v[x],m="z",y="",C=qe({c:s+d,r:o+_+i});u=Tl(a,C),g&&typeof g=="object"&&!(g instanceof Date)?a[C]=g:(typeof g=="number"?m="n":typeof g=="boolean"?m="b":typeof g=="string"?m="s":g instanceof Date?(m="d",n.cellDates||(m="n",g=Xr(g)),y=n.dateNF||Tt[14]):g===null&&n.nullError&&(m="e",g=0),u?(u.t=m,u.v=g,delete u.w,delete u.R,y&&(u.z=y)):a[C]=u={t:m,v:g},y&&(u.z=y))})}),f.e.c=Math.max(f.e.c,s+h.length-1);var p=fr(o);if(i)for(d=0;d<h.length;++d)a[mr(d+s)+p]={t:"s",v:h[d]};return a["!ref"]=Dt(f),a}function s7(t,e){return fw(null,t,e)}function Tl(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Qt(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Tl(t,qe(e)):Tl(t,qe({r:e,c:r||0}))}function l7(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function u7(){return{SheetNames:[],Sheets:{}}}function f7(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=o+i)!=-1;++i);}if(Jy(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function c7(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=l7(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function h7(t,e){return t.z=e,t}function cw(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function d7(t,e,r){return cw(t,"#"+e,r)}function p7(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function v7(t,e,r,n){for(var i=typeof e!="string"?e:dt(e),a=typeof e=="string"?e:Dt(e),o=i.s.r;o<=i.e.r;++o)for(var s=i.s.c;s<=i.e.c;++s){var l=Tl(t,o,s);l.t="n",l.F=a,delete l.v,o==i.s.r&&s==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var Dc={encode_col:mr,encode_row:fr,encode_cell:qe,encode_range:Dt,decode_col:Pd,decode_row:Rd,split_cell:NI,decode_cell:Qt,decode_range:an,format_cell:xi,sheet_add_aoa:cy,sheet_add_json:fw,sheet_add_dom:iw,aoa_to_sheet:ns,json_to_sheet:s7,table_to_sheet:aw,table_to_book:BR,sheet_to_csv:Gd,sheet_to_txt:uw,sheet_to_json:bf,sheet_to_html:nw,sheet_to_formulae:o7,sheet_to_row_object_array:bf,sheet_get_cell:Tl,book_new:u7,book_append_sheet:f7,book_set_sheet_visibility:c7,cell_set_number_format:h7,cell_set_hyperlink:cw,cell_set_internal_link:d7,cell_add_comment:p7,sheet_set_array_formula:v7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=function(t,e){if(!t)throw os(e)},os=function(t){return new Error("Firebase Database ("+hw.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},g7=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},zd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=a>>2,c=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,d=u&63;l||(d=64,o||(h=64)),n.push(r[f],r[c],r[h],r[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const c=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||c==null)throw new x7;const h=a<<2|s>>4;if(n.push(h),u!==64){const d=s<<4&240|u>>2;if(n.push(d),c!==64){const p=u<<6&192|c;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pw=function(t){const e=dw(t);return zd.encodeByteArray(e,!0)},Lf=function(t){return pw(t).replace(/\./g,"")},e1=function(t){try{return zd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){return vw(void 0,t)}function vw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!m7(r)||(t[r]=vw(t[r],e[r]));return t}function m7(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=()=>y7().__FIREBASE_DEFAULTS__,E7=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&e1(t[1]);return e&&JSON.parse(e)},gw=()=>{try{return w7()||E7()||C7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},S7=t=>{var e,r;return(r=(e=gw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},A7=t=>{const e=S7(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},xw=()=>{var t;return(t=gw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),s="";return[Lf(JSON.stringify(r)),Lf(JSON.stringify(o)),s].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(I7())}function O7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mw(){return hw.NODE_ADMIN===!0}function N7(){try{return typeof indexedDB=="object"}catch{return!1}}function D7(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7="FirebaseError";class Kl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=R7,Object.setPrototypeOf(this,Kl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yw.prototype.create)}}class yw{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?P7(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Kl(i,s,n)}}function P7(t,e){return t.replace(F7,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const F7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){return JSON.parse(t)}function Kt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=function(t){let e={},r={},n={},i="";try{const a=t.split(".");e=Il(e1(a[0])||""),r=Il(e1(a[1])||""),i=a[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:i}},k7=function(t){const e=ww(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},M7=function(t){const e=ww(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $o(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function d2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bf(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n}function t1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(p2(a)&&p2(o)){if(!t1(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function p2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)n[c]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let c=0;c<16;c++)n[c]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let c=16;c<80;c++){const h=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],a=this.chain_[1],o=this.chain_[2],s=this.chain_[3],l=this.chain_[4],u,f;for(let c=0;c<80;c++){c<40?c<20?(u=s^a&(o^s),f=1518500249):(u=a^o^s,f=1859775393):c<60?(u=a&o|s&(a|o),f=2400959708):(u=a^o^s,f=3395469782);const h=(i<<5|i>>>27)+u+l+f+n[c]&4294967295;l=s,s=o,o=(a<<30|a>>>2)&4294967295,a=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+s&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let i=0;const a=this.buf_;let o=this.inbuf_;for(;i<r;){if(o===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<r;)if(a[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(a),o=0;break}}else for(;i<r;)if(a[o]=e[i],++o,++i,o===this.blockSize){this.compress_(a),o=0;break}}this.inbuf_=o,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let a=24;a>=0;a-=8)e[n]=this.chain_[i]>>a&255,++n;return e}}function jd(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const a=i-55296;n++,te(n<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(n)-56320;i=65536+(a<<10)+o}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},I0=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){return t&&t._delegate?t._delegate:t}class Ol{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new T0;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W7(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:H7(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H7(t){return t===ga?void 0:t}function W7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new U7(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const G7={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},z7=nt.INFO,j7={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},X7=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=j7[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ew{constructor(e){this.name=e,this._logLevel=z7,this._logHandler=X7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const $7=(t,e)=>e.some(r=>t instanceof r);let v2,g2;function Y7(){return v2||(v2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K7(){return g2||(g2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cw=new WeakMap,r1=new WeakMap,Sw=new WeakMap,Rc=new WeakMap,Xd=new WeakMap;function Z7(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Yi(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Cw.set(r,t)}).catch(()=>{}),Xd.set(e,t),e}function Q7(t){if(r1.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});r1.set(t,e)}let n1={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return r1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Yi(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function q7(t){n1=t(n1)}function J7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Pc(this),e,...r);return Sw.set(n,e.sort?e.sort():[e]),Yi(n)}:K7().includes(t)?function(...e){return t.apply(Pc(this),e),Yi(Cw.get(this))}:function(...e){return Yi(t.apply(Pc(this),e))}}function eP(t){return typeof t=="function"?J7(t):(t instanceof IDBTransaction&&Q7(t),$7(t,Y7())?new Proxy(t,n1):t)}function Yi(t){if(t instanceof IDBRequest)return Z7(t);if(Rc.has(t))return Rc.get(t);const e=eP(t);return e!==t&&(Rc.set(t,e),Xd.set(e,t)),e}const Pc=t=>Xd.get(t);function tP(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Yi(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Yi(o.result),l.oldVersion,l.newVersion,Yi(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const rP=["get","getKey","getAll","getAllKeys","count"],nP=["put","add","delete","clear"],Fc=new Map;function x2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fc.get(e))return Fc.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=nP.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||rP.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Fc.set(e,a),a}q7(t=>({...t,get:(e,r,n)=>x2(e,r)||t.get(e,r,n),has:(e,r)=>!!x2(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(aP(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function aP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const i1="@firebase/app",_2="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Ew("@firebase/app"),oP="@firebase/app-compat",sP="@firebase/analytics-compat",lP="@firebase/analytics",uP="@firebase/app-check-compat",fP="@firebase/app-check",cP="@firebase/auth",hP="@firebase/auth-compat",dP="@firebase/database",pP="@firebase/data-connect",vP="@firebase/database-compat",gP="@firebase/functions",xP="@firebase/functions-compat",_P="@firebase/installations",mP="@firebase/installations-compat",yP="@firebase/messaging",wP="@firebase/messaging-compat",EP="@firebase/performance",CP="@firebase/performance-compat",SP="@firebase/remote-config",AP="@firebase/remote-config-compat",TP="@firebase/storage",IP="@firebase/storage-compat",OP="@firebase/firestore",NP="@firebase/vertexai",DP="@firebase/firestore-compat",RP="firebase",PP="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="[DEFAULT]",FP={[i1]:"fire-core",[oP]:"fire-core-compat",[lP]:"fire-analytics",[sP]:"fire-analytics-compat",[fP]:"fire-app-check",[uP]:"fire-app-check-compat",[cP]:"fire-auth",[hP]:"fire-auth-compat",[dP]:"fire-rtdb",[pP]:"fire-data-connect",[vP]:"fire-rtdb-compat",[gP]:"fire-fn",[xP]:"fire-fn-compat",[_P]:"fire-iid",[mP]:"fire-iid-compat",[yP]:"fire-fcm",[wP]:"fire-fcm-compat",[EP]:"fire-perf",[CP]:"fire-perf-compat",[SP]:"fire-rc",[AP]:"fire-rc-compat",[TP]:"fire-gcs",[IP]:"fire-gcs-compat",[OP]:"fire-fst",[DP]:"fire-fst-compat",[NP]:"fire-vertex","fire-js":"fire-js",[RP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map,kP=new Map,o1=new Map;function m2(t,e){try{t.container.addComponent(e)}catch(r){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Hf(t){const e=t.name;if(o1.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,t);for(const r of Uf.values())m2(r,t);for(const r of kP.values())m2(r,t);return!0}function MP(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new yw("app","Firebase",bP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ol("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=PP;function Aw(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:a1,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(r||(r=xw()),!r)throw Ki.create("no-options");const a=Uf.get(i);if(a){if(t1(r,a.options)&&t1(n,a.config))return a;throw Ki.create("duplicate-app",{appName:i})}const o=new V7(i);for(const l of o1.values())o.addComponent(l);const s=new LP(r,n,o);return Uf.set(i,s),s}function UP(t=a1){const e=Uf.get(t);if(!e&&t===a1&&xw())return Aw();if(!e)throw Ki.create("no-app",{appName:t});return e}function Fo(t,e,r){var n;let i=(n=FP[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${e}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(s.join(" "));return}Hf(new Ol(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="firebase-heartbeat-database",WP=1,Nl="firebase-heartbeat-store";let kc=null;function Tw(){return kc||(kc=tP(HP,WP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),kc}async function VP(t){try{const r=(await Tw()).transaction(Nl),n=await r.objectStore(Nl).get(Iw(t));return await r.done,n}catch(e){if(e instanceof Kl)_i.warn(e.message);else{const r=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(r.message)}}}async function y2(t,e){try{const n=(await Tw()).transaction(Nl,"readwrite");await n.objectStore(Nl).put(e,Iw(t)),await n.done}catch(r){if(r instanceof Kl)_i.warn(r.message);else{const n=Ki.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});_i.warn(n.message)}}}function Iw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1024,zP=30*24*60*60*1e3;class jP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new $P(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=w2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=zP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){_i.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=w2(),{heartbeatsToSend:n,unsentEntries:i}=XP(this._heartbeatsCache.heartbeats),a=Lf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return _i.warn(r),""}}}function w2(){return new Date().toISOString().substring(0,10)}function XP(t,e=GP){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),E2(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),E2(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class $P{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N7()?D7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await VP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return y2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return y2(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E2(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){Hf(new Ol("platform-logger",e=>new iP(e),"PRIVATE")),Hf(new Ol("heartbeat",e=>new jP(e),"PRIVATE")),Fo(i1,_2,t),Fo(i1,_2,"esm2017"),Fo("fire-js","")}YP("");var KP="firebase",ZP="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fo(KP,ZP,"app");const C2="@firebase/database",S2="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ow="";function QP(t){Ow=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Kt(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:Il(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Ci(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qP(e)}}catch{}return new JP},Sa=Nw("localStorage"),s1=Nw("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Ew("@firebase/database"),eF=function(){let t=1;return function(){return t++}}(),Dw=function(t){const e=B7(t),r=new L7;r.update(e);const n=r.digest();return zd.encodeByteArray(n)},Zl=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=Zl.apply(null,n):typeof n=="object"?e+=Kt(n):e+=n,e+=" "}return e};let Da=null,A2=!0;const tF=function(t,e){te(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ko.logLevel=nt.VERBOSE,Da=ko.log.bind(ko),e&&s1.set("logging_enabled",!0)):typeof t=="function"?Da=t:(Da=null,s1.remove("logging_enabled"))},_r=function(...t){if(A2===!0&&(A2=!1,Da===null&&s1.get("logging_enabled")===!0&&tF(!0)),Da){const e=Zl.apply(null,t);Da(e)}},Ql=function(t){return function(...e){_r(t,...e)}},l1=function(...t){const e="FIREBASE INTERNAL ERROR: "+Zl(...t);ko.error(e)},mi=function(...t){const e=`FIREBASE FATAL ERROR: ${Zl(...t)}`;throw ko.error(e),new Error(e)},jr=function(...t){const e="FIREBASE WARNING: "+Zl(...t);ko.warn(e)},rF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nF=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Yo="[MIN_NAME]",Ua="[MAX_NAME]",ls=function(t,e){if(t===e)return 0;if(t===Yo||e===Ua)return-1;if(e===Yo||t===Ua)return 1;{const r=T2(t),n=T2(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},iF=function(t,e){return t===e?0:t<e?-1:1},Ts=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Kt(e))},$d=function(t){if(typeof t!="object"||t===null)return Kt(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=Kt(e[n]),r+=":",r+=$d(t[e[n]]);return r+="}",r},Pw=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n};function Yr(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const Fw=function(t){te(!Rw(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let i,a,o,s,l;t===0?(a=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(s=Math.min(Math.floor(Math.log(t)/Math.LN2),n),a=s+n,o=Math.round(t*Math.pow(2,r-s)-Math.pow(2,r))):(a=0,o=Math.round(t/Math.pow(2,1-n-r))));const u=[];for(l=r;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);u.push(i?1:0),u.reverse();const f=u.join("");let c="";for(l=0;l<64;l+=8){let h=parseInt(f.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},aF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function sF(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const lF=new RegExp("^-?(0*)\\d{1,10}$"),uF=-2147483648,fF=2147483647,T2=function(t){if(lF.test(t)){const e=Number(t);if(e>=uF&&e<=fF)return e}return null},us=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw jr("Exception was thrown by user callback.",r),e},Math.floor(0))}},cF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},el=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,r){this.appName_=e,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){jr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(_r("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jr(e)}}class Mo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="5",kw="v",Mw="s",bw="r",Lw="f",Bw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Uw="ls",Hw="p",u1="ac",Ww="websocket",Vw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,r,n,i,a=!1,o="",s=!1,l=!1){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Sa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function pF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function zw(t,e,r){te(typeof e=="string","typeof type must == string"),te(typeof r=="object","typeof params must == object");let n;if(e===Ww)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Vw)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);pF(t)&&(r.ns=t.namespace);const i=[];return Yr(r,(a,o)=>{i.push(a+"="+o)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.counters_={}}incrementCounter(e,r=1){Ci(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return _7(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={},bc={};function Kd(t){const e=t.toString();return Mc[e]||(Mc[e]=new vF),Mc[e]}function gF(t,e){const r=t.toString();return bc[r]||(bc[r]=e()),bc[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&us(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="start",_F="close",mF="pLPCommand",yF="pRTLPCB",jw="id",Xw="pw",$w="ser",wF="cb",EF="seg",CF="ts",SF="d",AF="dframe",Yw=1870,Kw=30,TF=Yw-Kw,IF=25e3,OF=3e4;class Eo{constructor(e,r,n,i,a,o,s){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ql(e),this.stats_=Kd(r),this.urlFn=l=>(this.appCheckToken&&(l[u1]=this.appCheckToken),zw(r,Vw,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new xF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OF)),nF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zd((...a)=>{const[o,s,l,u,f]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===I2)this.id=s,this.password=l;else if(o===_F)s?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(s,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...a)=>{const[o,s]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(o,s)},()=>{this.onClosed_()},this.urlFn);const n={};n[I2]="t",n[$w]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[wF]=this.scriptTagHolder.uniqueCallbackIdentifier),n[kw]=Yd,this.transportSessionId&&(n[Mw]=this.transportSessionId),this.lastSessionId&&(n[Uw]=this.lastSessionId),this.applicationId&&(n[Hw]=this.applicationId),this.appCheckToken&&(n[u1]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bw.test(location.hostname)&&(n[bw]=Lw);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Eo.forceAllow_=!0}static forceDisallow(){Eo.forceDisallow_=!0}static isAvailable(){return Eo.forceAllow_?!0:!Eo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aF()&&!oF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Kt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=pw(r),i=Pw(n,TF);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[AF]="t",n[jw]=e,n[Xw]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Kt(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Zd{constructor(e,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=eF(),window[mF+this.uniqueCallbackIdentifier]=e,window[yF+this.uniqueCallbackIdentifier]=r,this.myIFrame=Zd.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){_r("frame writing exception"),s.stack&&_r(s.stack),_r(s)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_r("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jw]=this.myID,e[Xw]=this.myPW,e[$w]=this.currentSerial;let r=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Kw+n.length<=Yw;){const o=this.pendingSegs.shift();n=n+"&"+EF+i+"="+o.seg+"&"+CF+i+"="+o.ts+"&"+SF+i+"="+o.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(IF)),a=()=>{clearTimeout(i),n()};this.addTag(e,a)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{_r("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=16384,DF=45e3;let Wf=null;typeof MozWebSocket<"u"?Wf=MozWebSocket:typeof WebSocket<"u"&&(Wf=WebSocket);class Pn{constructor(e,r,n,i,a,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ql(this.connId),this.stats_=Kd(r),this.connURL=Pn.connectionURL_(r,o,s,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,i,a){const o={};return o[kw]=Yd,typeof location<"u"&&location.hostname&&Bw.test(location.hostname)&&(o[bw]=Lw),r&&(o[Mw]=r),n&&(o[Uw]=n),i&&(o[u1]=i),a&&(o[Hw]=a),zw(e,Ww,o)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sa.set("previous_websocket_failure",!0);try{let n;mw(),this.mySock=new Wf(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&Wf!==null&&!Pn.forceDisallow_}static previouslyFailed(){return Sa.isInMemoryStorage||Sa.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=Il(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=Kt(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=Pw(r,NF);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(DF))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static get ALL_TRANSPORTS(){return[Eo,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Pn&&Pn.isAvailable();let n=r&&!Pn.previouslyFailed();if(e.webSocketOnly&&(r||jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Pn];else{const i=this.transports_=[];for(const a of Dl.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a);Dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Dl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=6e4,PF=5e3,FF=10*1024,kF=100*1024,Lc="t",O2="d",MF="s",N2="r",bF="e",D2="o",R2="a",P2="n",F2="p",LF="h";class BF{constructor(e,r,n,i,a,o,s,l,u,f){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ql("c:"+this.id+":"),this.transportManager_=new Dl(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=el(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Lc in e){const r=e[Lc];r===R2?this.upgradeIfSecondaryHealthy_():r===N2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===D2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Ts("t",e),n=Ts("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:F2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:R2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:P2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Ts("t",e),n=Ts("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Ts(Lc,e);if(O2 in e){const n=e[O2];if(r===LF){const i=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===P2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===MF?this.onConnectionShutdown_(n):r===N2?this.onReset_(n):r===bF?l1("Server Error: "+n):r===D2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):l1("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Yd!==n&&jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),el(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):el(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:F2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{put(e,r,n,i){}merge(e,r,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const i=this.getInitialEvent(e);i&&r.apply(n,i)}off(e,r,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===r&&(!n||n===i[a].context)){i.splice(a,1);return}}validateEventType_(e){te(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Qw{static getInstance(){return new Vf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_w()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=32,M2=768;class rt{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}}function Ve(){return new rt("")}function Ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ra(t){return t.pieces_.length-t.pieceNum_}function it(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new rt(t.pieces_,e)}function qw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function UF(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function Jw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new rt(e,0)}function Ut(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof rt)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new rt(r,0)}function Ne(t){return t.pieceNum_>=t.pieces_.length}function Ur(t,e){const r=Ie(t),n=Ie(e);if(r===null)return e;if(r===n)return Ur(it(t),it(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Qd(t,e){if(ra(t)!==ra(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function kn(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(ra(t)>ra(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class HF{constructor(e,r){this.errorPrefix_=r,this.parts_=Jw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=I0(this.parts_[n]);tE(this)}}function WF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=I0(e),tE(t)}function VF(t){const e=t.parts_.pop();t.byteLength_-=I0(e),t.parts_.length>0&&(t.byteLength_-=1)}function tE(t){if(t.byteLength_>M2)throw new Error(t.errorPrefix_+"has a key path longer than "+M2+" bytes ("+t.byteLength_+").");if(t.parts_.length>k2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+k2+") or object contains a cycle "+xa(t))}function xa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Qw{static getInstance(){return new qd}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=1e3,GF=60*5*1e3,b2=30*1e3,zF=1.3,jF=3e4,XF="server_kill",L2=3;class ci extends Zw{constructor(e,r,n,i,a,o,s,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=a,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=l,this.id=ci.nextPersistentConnectionId_++,this.log_=Ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Is,this.maxReconnectDelay_=GF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!mw())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Vf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const i=++this.requestNumber_,a={r:i,a:e,b:r};this.log_(Kt(a)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const r=new T0,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const s=o.d;o.s==="ok"?r.resolve(s):r.reject(s)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),r.promise}listen(e,r,n,i){this.initConnection_();const a=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+a),this.listens.has(o)||this.listens.set(o,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(o).has(a),"listen() called twice for same path/queryId.");const s={onComplete:i,hashFn:r,query:e,tag:n};this.listens.get(o).set(a,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const a={p:n},o="q";e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(o,a,s=>{const l=s.d,u=s.s;ci.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",s),u!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Ci(e,"w")){const n=$o(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||M7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=b2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=k7(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const a=i.s,o=i.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,r)}sendUnlisten_(e,r,n,i){this.log_("Unlisten on "+e+" for "+r);const a={p:e},o="n";i&&(a.q=n,a.t=i),this.sendRequest(o,a)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,i){const a={p:r,d:n};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,r,n,i){this.putInternal("p",e,r,n,i)}merge(e,r,n,i){this.putInternal("m",e,r,n,i)}putInternal(e,r,n,i,a){this.initConnection_();const o={p:r,d:n};a!==void 0&&(o.h=a),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(a.s,a.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const a=n.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Kt(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):l1("Unrecognized action received from server: "+Kt(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Is,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Is,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jF&&(this.reconnectDelay_=Is),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zF)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ci.nextConnectionId_++,a=this.lastSessionId;let o=!1,s=null;const l=function(){s?s.close():(o=!0,n())},u=function(c){te(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(c)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?_r("getToken() completed but was canceled"):(_r("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,s=new BF(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,d=>{jr(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(XF)},a))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&jr(c),l())}}}interrupt(e){_r("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_r("Resuming connection for reason: "+e),delete this.interruptReasons_[e],d2(this.interruptReasons_)&&(this.reconnectDelay_=Is,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(a=>$d(a)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,r){const n=new rt(e).toString();let i;if(this.listens.has(n)){const a=this.listens.get(n);i=a.get(r),a.delete(r),a.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,r){_r("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=L2&&(this.reconnectDelay_=b2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){_r("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=L2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+Ow.replace(/\./g,"-")]=1,_w()?e["framework.cordova"]=1:O7()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Vf.getInstance().currentlyOnline();return d2(this.interruptReasons_)&&e}}ci.nextPersistentConnectionId_=0;ci.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new Oe(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new Oe(Yo,e),i=new Oe(Yo,r);return this.compare(n,i)!==0}minPost(){return Oe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu;class rE extends O0{static get __EMPTY_NODE(){return Fu}static set __EMPTY_NODE(e){Fu=e}compare(e,r){return ls(e.name,r.name)}isDefinedOn(e){throw os("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return Oe.MIN}maxPost(){return new Oe(Ua,Fu)}makePost(e,r){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Oe(e,Fu)}toString(){return".key"}}const bo=new rE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,r,n,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=r?n(e.key,r):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xt{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Xt.RED,this.left=i??Hr.EMPTY_NODE,this.right=a??Hr.EMPTY_NODE}copy(e,r,n,i,a){return new Xt(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return a<0?i=i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,i;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return Hr.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class $F{copy(e,r,n,i,a){return this}insert(e,r,n){return new Xt(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Hr{constructor(e,r=Hr.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new Hr(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new Hr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ku(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new ku(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new ku(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new ku(this.root_,null,this.comparator_,!0,e)}}Hr.EMPTY_NODE=new $F;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e){return ls(t.name,e.name)}function Jd(t,e){return ls(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f1;function KF(t){f1=t}const nE=function(t){return typeof t=="number"?"number:"+Fw(t):"string:"+t},iE=function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ci(e,".sv"),"Priority must be a string or number.")}else te(t===f1||t.isEmpty(),"priority of unexpected type.");te(t===f1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B2;class zt{static set __childrenNodeConstructor(e){B2=e}static get __childrenNodeConstructor(){return B2}constructor(e,r=zt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),iE(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new zt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ne(e)?this:Ie(e)===".priority"?this.priorityNode_:zt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:zt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=Ie(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(te(n!==".priority"||ra(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,zt.__childrenNodeConstructor.EMPTY_NODE.updateChild(it(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nE(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=Fw(this.value_):e+=this.value_,this.lazyHash_=Dw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===zt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof zt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,i=zt.VALUE_TYPE_ORDER.indexOf(r),a=zt.VALUE_TYPE_ORDER.indexOf(n);return te(i>=0,"Unknown leaf type: "+r),te(a>=0,"Unknown leaf type: "+n),i===a?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}zt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aE,oE;function ZF(t){aE=t}function QF(t){oE=t}class qF extends O0{compare(e,r){const n=e.node.getPriority(),i=r.node.getPriority(),a=n.compareTo(i);return a===0?ls(e.name,r.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return Oe.MIN}maxPost(){return new Oe(Ua,new zt("[PRIORITY-POST]",oE))}makePost(e,r){const n=aE(e);return new Oe(r,new zt("[PRIORITY-POST]",n))}toString(){return".priority"}}const At=new qF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=Math.log(2);class e9{constructor(e){const r=a=>parseInt(Math.log(a)/JF,10),n=a=>parseInt(Array(a+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gf=function(t,e,r,n){t.sort(e);const i=function(l,u){const f=u-l;let c,h;if(f===0)return null;if(f===1)return c=t[l],h=r?r(c):c,new Xt(h,c.node,Xt.BLACK,null,null);{const d=parseInt(f/2,10)+l,p=i(l,d),v=i(d+1,u);return c=t[d],h=r?r(c):c,new Xt(h,c.node,Xt.BLACK,p,v)}},a=function(l){let u=null,f=null,c=t.length;const h=function(p,v){const _=c-p,x=c;c-=p;const g=i(_+1,x),m=t[_],y=r?r(m):m;d(new Xt(y,m.node,v,null,g))},d=function(p){u?(u.left=p,u=p):(f=p,u=p)};for(let p=0;p<l.count;++p){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));v?h(_,Xt.BLACK):(h(_,Xt.BLACK),h(_,Xt.RED))}return f},o=new e9(t.length),s=a(o);return new Hr(n||e,s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc;const no={};class oi{static get Default(){return te(no&&At,"ChildrenNode.ts has not been loaded"),Bc=Bc||new oi({".priority":no},{".priority":At}),Bc}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=$o(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof Hr?r:null}hasIndex(e){return Ci(this.indexSet_,e.toString())}addIndex(e,r){te(e!==bo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const a=r.getIterator(Oe.Wrap);let o=a.getNext();for(;o;)i=i||e.isDefinedOn(o.node),n.push(o),o=a.getNext();let s;i?s=Gf(n,e.getCompare()):s=no;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const f=Object.assign({},this.indexes_);return f[l]=s,new oi(f,u)}addToIndexes(e,r){const n=Bf(this.indexes_,(i,a)=>{const o=$o(this.indexSet_,a);if(te(o,"Missing index implementation for "+a),i===no)if(o.isDefinedOn(e.node)){const s=[],l=r.getIterator(Oe.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&s.push(u),u=l.getNext();return s.push(e),Gf(s,o.getCompare())}else return no;else{const s=r.get(e.name);let l=i;return s&&(l=l.remove(new Oe(e.name,s))),l.insert(e,e.node)}});return new oi(n,this.indexSet_)}removeFromIndexes(e,r){const n=Bf(this.indexes_,i=>{if(i===no)return i;{const a=r.get(e.name);return a?i.remove(new Oe(e.name,a)):i}});return new oi(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Os;class we{static get EMPTY_NODE(){return Os||(Os=new we(new Hr(Jd),null,oi.Default))}constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&iE(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Os}updatePriority(e){return this.children_.isEmpty()?this:new we(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Os:r}}getChild(e){const r=Ie(e);return r===null?this:this.getImmediateChild(r).getChild(it(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(te(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new Oe(e,r);let i,a;r.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,r),a=this.indexMap_.addToIndexes(n,this.children_));const o=i.isEmpty()?Os:this.priorityNode_;return new we(i,o,a)}}updateChild(e,r){const n=Ie(e);if(n===null)return r;{te(Ie(e)!==".priority"||ra(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(it(e),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,i=0,a=!0;if(this.forEachChild(At,(o,s)=>{r[o]=s.val(e),n++,a&&we.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!e&&a&&i<2*n){const o=[];for(const s in r)o[s]=r[s];return o}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+nE(this.getPriority().val())+":"),this.forEachChild(At,(r,n)=>{const i=n.hash();i!==""&&(e+=":"+r+":"+i)}),this.lazyHash_=e===""?"":Dw(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const i=this.resolveIndex_(n);if(i){const a=i.getPredecessorKey(new Oe(e,r));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Oe(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Oe(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Oe.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,e)<0;)i.getNext(),a=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Oe.Wrap);let a=i.peek();for(;a!=null&&r.compare(a,e)>0;)i.getNext(),a=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ql?-1:0}withIndex(e){if(e===bo||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new we(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===bo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(At),i=r.getIterator(At);let a=n.getNext(),o=i.getNext();for(;a&&o;){if(a.name!==o.name||!a.node.equals(o.node))return!1;a=n.getNext(),o=i.getNext()}return a===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===bo?null:this.indexMap_.get(e.toString())}}we.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class t9 extends we{constructor(){super(new Hr(Jd),we.EMPTY_NODE,oi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return we.EMPTY_NODE}isEmpty(){return!1}}const ql=new t9;Object.defineProperties(Oe,{MIN:{value:new Oe(Yo,we.EMPTY_NODE)},MAX:{value:new Oe(Ua,ql)}});rE.__EMPTY_NODE=we.EMPTY_NODE;zt.__childrenNodeConstructor=we;KF(ql);QF(ql);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=!0;function ar(t,e=null){if(t===null)return we.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new zt(r,ar(e))}if(!(t instanceof Array)&&r9){const r=[];let n=!1;if(Yr(t,(o,s)=>{if(o.substring(0,1)!=="."){const l=ar(s);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new Oe(o,l)))}}),r.length===0)return we.EMPTY_NODE;const a=Gf(r,YF,o=>o.name,Jd);if(n){const o=Gf(r,At.getCompare());return new we(a,ar(e),new oi({".priority":o},{".priority":At}))}else return new we(a,ar(e),oi.Default)}else{let r=we.EMPTY_NODE;return Yr(t,(n,i)=>{if(Ci(t,n)&&n.substring(0,1)!=="."){const a=ar(i);(a.isLeafNode()||!a.isEmpty())&&(r=r.updateImmediateChild(n,a))}}),r.updatePriority(ar(e))}}ZF(ar);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9 extends O0{constructor(e){super(),this.indexPath_=e,te(!Ne(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),i=this.extractChild(r.node),a=n.compareTo(i);return a===0?ls(e.name,r.name):a}makePost(e,r){const n=ar(e),i=we.EMPTY_NODE.updateChild(this.indexPath_,n);return new Oe(r,i)}maxPost(){const e=we.EMPTY_NODE.updateChild(this.indexPath_,ql);return new Oe(Ua,e)}toString(){return Jw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9 extends O0{compare(e,r){const n=e.node.compareTo(r.node);return n===0?ls(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return Oe.MIN}maxPost(){return Oe.MAX}makePost(e,r){const n=ar(e);return new Oe(r,n)}toString(){return".value"}}const a9=new i9;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){return{type:"value",snapshotNode:t}}function Ko(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Rl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pl(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function o9(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this.index_=e}updateChild(e,r,n,i,a,o){te(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(r);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()||(o!=null&&(n.isEmpty()?e.hasChild(r)?o.trackChildChange(Rl(r,s)):te(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Ko(r,n)):o.trackChildChange(Pl(r,n,s))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(At,(i,a)=>{r.hasChild(i)||n.trackChildChange(Rl(i,a))}),r.isLeafNode()||r.forEachChild(At,(i,a)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(a)||n.trackChildChange(Pl(i,a,o))}else n.trackChildChange(Ko(i,a))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?we.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.indexedFilter_=new ep(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fl.getStartPost_(e),this.endPost_=Fl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,i,a,o){return this.matches(new Oe(r,n))||(n=we.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,i,a,o)}updateFullNode(e,r,n){r.isLeafNode()&&(r=we.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(we.EMPTY_NODE);const a=this;return r.forEachChild(At,(o,s)=>{a.matches(new Oe(o,s))||(i=i.updateImmediateChild(o,we.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new Fl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,i,a,o){return this.rangedFilter_.matches(new Oe(r,n))||(n=we.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,i,a,o):this.fullLimitUpdateChild_(e,r,n,a,o)}updateFullNode(e,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=we.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=we.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;a.hasNext()&&o<this.limit_;){const s=a.getNext();if(this.withinDirectionalStart(s))if(this.withinDirectionalEnd(s))i=i.updateImmediateChild(s.name,s.node),o++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(we.EMPTY_NODE);let a;this.reverse_?a=i.getReverseIterator(this.index_):a=i.getIterator(this.index_);let o=0;for(;a.hasNext();){const s=a.getNext();o<this.limit_&&this.withinDirectionalStart(s)&&this.withinDirectionalEnd(s)?o++:i=i.updateImmediateChild(s.name,we.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,i,a){let o;if(this.reverse_){const c=this.index_.getCompare();o=(h,d)=>c(d,h)}else o=this.index_.getCompare();const s=e;te(s.numChildren()===this.limit_,"");const l=new Oe(r,n),u=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(s.hasChild(r)){const c=s.getImmediateChild(r);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===r||s.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const d=h==null?1:o(h,l);if(f&&!n.isEmpty()&&d>=0)return a!=null&&a.trackChildChange(Pl(r,n,c)),s.updateImmediateChild(r,n);{a!=null&&a.trackChildChange(Rl(r,c));const v=s.updateImmediateChild(r,we.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(a!=null&&a.trackChildChange(Ko(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}else return n.isEmpty()?e:f&&o(u,l)>=0?(a!=null&&(a.trackChildChange(Rl(u.name,u.node)),a.trackChildChange(Ko(r,n))),s.updateImmediateChild(r,n).updateImmediateChild(u.name,we.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=At}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yo}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ua}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===At}copy(){const e=new tp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function l9(t){return t.loadsAllData()?new ep(t.getIndex()):t.hasLimit()?new s9(t):new Fl(t)}function U2(t){const e={};if(t.isDefault())return e;let r;if(t.index_===At?r="$priority":t.index_===a9?r="$value":t.index_===bo?r="$key":(te(t.index_ instanceof n9,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=Kt(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Kt(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Kt(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Kt(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Kt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function H2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==At&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Zw{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=Ql("p:rest:"),this.listens_={}}listen(e,r,n,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const o=zf.getListenId_(e,n),s={};this.listens_[o]=s;const l=U2(e._queryParams);this.restRequest_(a+".json",l,(u,f)=>{let c=f;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(a,c,!1,n),$o(this.listens_,o)===s){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,r){const n=zf.getListenId_(e,r);delete this.listens_[n]}get(e){const r=U2(e._queryParams),n=e._path.toString(),i=new T0;return this.restRequest_(n+".json",r,(a,o)=>{let s=o;a===404&&(s=null,a=null),a===null?(this.onDataUpdate_(n,s,!1,null),i.resolve(s)):i.reject(new Error(s))}),i.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(r.auth=i.accessToken),a&&a.token&&(r.ac=a.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+b7(r);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&s.readyState===4){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let l=null;if(s.status>=200&&s.status<300){try{l=Il(s.responseText)}catch{jr("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,l)}else s.status!==401&&s.status!==404&&jr("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this.rootNode_=we.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(){return{value:null,children:new Map}}function lE(t,e,r){if(Ne(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=Ie(e);t.children.has(n)||t.children.set(n,jf());const i=t.children.get(n);e=it(e),lE(i,e,r)}}function c1(t,e,r){t.value!==null?r(e,t.value):f9(t,(n,i)=>{const a=new rt(e.toString()+"/"+n);c1(i,a,r)})}function f9(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r=Object.assign({},e);return this.last_&&Yr(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=10*1e3,h9=30*1e3,d9=5*60*1e3;class p9{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new c9(e);const n=W2+(h9-W2)*Math.random();el(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;Yr(e,(i,a)=>{a>0&&Ci(this.statsToReport_,i)&&(r[i]=a,n=!0)}),n&&this.server_.reportStats(r),el(this.reportStats_.bind(this),Math.floor(Math.random()*2*d9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mn||(Mn={}));function uE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function np(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=Mn.ACK_USER_WRITE,this.source=uE()}operationForChild(e){if(Ne(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new rt(e));return new Xf(Ve(),r,this.revert)}}else return te(Ie(this.path)===e,"operationForChild called for unrelated child."),new Xf(it(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,r){this.source=e,this.path=r,this.type=Mn.LISTEN_COMPLETE}operationForChild(e){return Ne(this.path)?new kl(this.source,Ve()):new kl(this.source,it(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=Mn.OVERWRITE}operationForChild(e){return Ne(this.path)?new Ha(this.source,Ve(),this.snap.getImmediateChild(e)):new Ha(this.source,it(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=Mn.MERGE}operationForChild(e){if(Ne(this.path)){const r=this.children.subtree(new rt(e));return r.isEmpty()?null:r.value?new Ha(this.source,Ve(),r.value):new Ml(this.source,Ve(),r)}else return te(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ml(this.source,it(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ne(e))return this.isFullyInitialized()&&!this.filtered_;const r=Ie(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function g9(t,e,r,n){const i=[],a=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&a.push(o9(o.childName,o.snapshotNode))}),Ns(t,i,"child_removed",e,n,r),Ns(t,i,"child_added",e,n,r),Ns(t,i,"child_moved",a,n,r),Ns(t,i,"child_changed",e,n,r),Ns(t,i,"value",e,n,r),i}function Ns(t,e,r,n,i,a){const o=n.filter(s=>s.type===r);o.sort((s,l)=>_9(t,s,l)),o.forEach(s=>{const l=x9(t,s,a);i.forEach(u=>{u.respondsTo(s.type)&&e.push(u.createEvent(l,t.query_))})})}function x9(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _9(t,e,r){if(e.childName==null||r.childName==null)throw os("Should only compare child_ events.");const n=new Oe(e.childName,e.snapshotNode),i=new Oe(r.childName,r.snapshotNode);return t.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t,e){return{eventCache:t,serverCache:e}}function tl(t,e,r,n){return N0(new Wa(e,r,n),t.serverCache)}function fE(t,e,r,n){return N0(t.eventCache,new Wa(e,r,n))}function h1(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;const m9=()=>(Uc||(Uc=new Hr(iF)),Uc);class ct{static fromObject(e){let r=new ct(null);return Yr(e,(n,i)=>{r=r.set(new rt(n),i)}),r}constructor(e,r=m9()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Ve(),value:this.value};if(Ne(e))return null;{const n=Ie(e),i=this.children.get(n);if(i!==null){const a=i.findRootMostMatchingPathAndValue(it(e),r);return a!=null?{path:Ut(new rt(n),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ne(e))return this;{const r=Ie(e),n=this.children.get(r);return n!==null?n.subtree(it(e)):new ct(null)}}set(e,r){if(Ne(e))return new ct(r,this.children);{const n=Ie(e),a=(this.children.get(n)||new ct(null)).set(it(e),r),o=this.children.insert(n,a);return new ct(this.value,o)}}remove(e){if(Ne(e))return this.children.isEmpty()?new ct(null):new ct(null,this.children);{const r=Ie(e),n=this.children.get(r);if(n){const i=n.remove(it(e));let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),this.value===null&&a.isEmpty()?new ct(null):new ct(this.value,a)}else return this}}get(e){if(Ne(e))return this.value;{const r=Ie(e),n=this.children.get(r);return n?n.get(it(e)):null}}setTree(e,r){if(Ne(e))return r;{const n=Ie(e),a=(this.children.get(n)||new ct(null)).setTree(it(e),r);let o;return a.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,a),new ct(this.value,o)}}fold(e){return this.fold_(Ve(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((i,a)=>{n[i]=a.fold_(Ut(e,i),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,Ve(),r)}findOnPath_(e,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(Ne(e))return null;{const a=Ie(e),o=this.children.get(a);return o?o.findOnPath_(it(e),Ut(r,a),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Ve(),r)}foreachOnPath_(e,r,n){if(Ne(e))return this;{this.value&&n(r,this.value);const i=Ie(e),a=this.children.get(i);return a?a.foreachOnPath_(it(e),Ut(r,i),n):new ct(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,r){this.children.inorderTraversal((n,i)=>{i.foreach_(Ut(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.writeTree_=e}static empty(){return new Un(new ct(null))}}function rl(t,e,r){if(Ne(e))return new Un(new ct(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let a=n.value;const o=Ur(i,e);return a=a.updateChild(o,r),new Un(t.writeTree_.set(i,a))}else{const i=new ct(r),a=t.writeTree_.setTree(e,i);return new Un(a)}}}function V2(t,e,r){let n=t;return Yr(r,(i,a)=>{n=rl(n,Ut(e,i),a)}),n}function G2(t,e){if(Ne(e))return Un.empty();{const r=t.writeTree_.setTree(e,new ct(null));return new Un(r)}}function d1(t,e){return Za(t,e)!=null}function Za(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(Ur(r.path,e)):null}function z2(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(At,(n,i)=>{e.push(new Oe(n,i))}):t.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new Oe(n,i.value))}),e}function Zi(t,e){if(Ne(e))return t;{const r=Za(t,e);return r!=null?new Un(new ct(r)):new Un(t.writeTree_.subtree(e))}}function p1(t){return t.writeTree_.isEmpty()}function Zo(t,e){return cE(Ve(),t.writeTree_,e)}function cE(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((i,a)=>{i===".priority"?(te(a.value!==null,"Priority writes must always be leaf nodes"),n=a.value):r=cE(Ut(t,i),a,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(Ut(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t,e){return vE(e,t)}function y9(t,e,r,n,i){te(n>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:i}),i&&(t.visibleWrites=rl(t.visibleWrites,e,r)),t.lastWriteId=n}function w9(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function E9(t,e){const r=t.allWrites.findIndex(s=>s.writeId===e);te(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let i=n.visible,a=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const s=t.allWrites[o];s.visible&&(o>=r&&C9(s,n.path)?i=!1:kn(n.path,s.path)&&(a=!0)),o--}if(i){if(a)return S9(t),!0;if(n.snap)t.visibleWrites=G2(t.visibleWrites,n.path);else{const s=n.children;Yr(s,l=>{t.visibleWrites=G2(t.visibleWrites,Ut(n.path,l))})}return!0}else return!1}function C9(t,e){if(t.snap)return kn(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&kn(Ut(t.path,r),e))return!0;return!1}function S9(t){t.visibleWrites=hE(t.allWrites,A9,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function A9(t){return t.visible}function hE(t,e,r){let n=Un.empty();for(let i=0;i<t.length;++i){const a=t[i];if(e(a)){const o=a.path;let s;if(a.snap)kn(r,o)?(s=Ur(r,o),n=rl(n,s,a.snap)):kn(o,r)&&(s=Ur(o,r),n=rl(n,Ve(),a.snap.getChild(s)));else if(a.children){if(kn(r,o))s=Ur(r,o),n=V2(n,s,a.children);else if(kn(o,r))if(s=Ur(o,r),Ne(s))n=V2(n,Ve(),a.children);else{const l=$o(a.children,Ie(s));if(l){const u=l.getChild(it(s));n=rl(n,Ve(),u)}}}else throw os("WriteRecord should have .snap or .children")}}return n}function dE(t,e,r,n,i){if(!n&&!i){const a=Za(t.visibleWrites,e);if(a!=null)return a;{const o=Zi(t.visibleWrites,e);if(p1(o))return r;if(r==null&&!d1(o,Ve()))return null;{const s=r||we.EMPTY_NODE;return Zo(o,s)}}}else{const a=Zi(t.visibleWrites,e);if(!i&&p1(a))return r;if(!i&&r==null&&!d1(a,Ve()))return null;{const o=function(u){return(u.visible||i)&&(!n||!~n.indexOf(u.writeId))&&(kn(u.path,e)||kn(e,u.path))},s=hE(t.allWrites,o,e),l=r||we.EMPTY_NODE;return Zo(s,l)}}}function T9(t,e,r){let n=we.EMPTY_NODE;const i=Za(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(At,(a,o)=>{n=n.updateImmediateChild(a,o)}),n;if(r){const a=Zi(t.visibleWrites,e);return r.forEachChild(At,(o,s)=>{const l=Zo(Zi(a,new rt(o)),s);n=n.updateImmediateChild(o,l)}),z2(a).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}else{const a=Zi(t.visibleWrites,e);return z2(a).forEach(o=>{n=n.updateImmediateChild(o.name,o.node)}),n}}function I9(t,e,r,n,i){te(n||i,"Either existingEventSnap or existingServerSnap must exist");const a=Ut(e,r);if(d1(t.visibleWrites,a))return null;{const o=Zi(t.visibleWrites,a);return p1(o)?i.getChild(r):Zo(o,i.getChild(r))}}function O9(t,e,r,n){const i=Ut(e,r),a=Za(t.visibleWrites,i);if(a!=null)return a;if(n.isCompleteForChild(r)){const o=Zi(t.visibleWrites,i);return Zo(o,n.getNode().getImmediateChild(r))}else return null}function N9(t,e){return Za(t.visibleWrites,e)}function D9(t,e,r,n,i,a,o){let s;const l=Zi(t.visibleWrites,e),u=Za(l,Ve());if(u!=null)s=u;else if(r!=null)s=Zo(l,r);else return[];if(s=s.withIndex(o),!s.isEmpty()&&!s.isLeafNode()){const f=[],c=o.getCompare(),h=a?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o);let d=h.getNext();for(;d&&f.length<i;)c(d,n)!==0&&f.push(d),d=h.getNext();return f}else return[]}function R9(){return{visibleWrites:Un.empty(),allWrites:[],lastWriteId:-1}}function $f(t,e,r,n){return dE(t.writeTree,t.treePath,e,r,n)}function ap(t,e){return T9(t.writeTree,t.treePath,e)}function j2(t,e,r,n){return I9(t.writeTree,t.treePath,e,r,n)}function Yf(t,e){return N9(t.writeTree,Ut(t.treePath,e))}function P9(t,e,r,n,i,a){return D9(t.writeTree,t.treePath,e,r,n,i,a)}function op(t,e,r){return O9(t.writeTree,t.treePath,e,r)}function pE(t,e){return vE(Ut(t.treePath,e),t.writeTree)}function vE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;te(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),te(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const a=i.type;if(r==="child_added"&&a==="child_removed")this.changeMap.set(n,Pl(n,e.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&a==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&a==="child_changed")this.changeMap.set(n,Rl(n,i.oldSnap));else if(r==="child_changed"&&a==="child_added")this.changeMap.set(n,Ko(n,e.snapshotNode));else if(r==="child_changed"&&a==="child_changed")this.changeMap.set(n,Pl(n,e.snapshotNode,i.oldSnap));else throw os("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const gE=new k9;class sp{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new Wa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return op(this.writes_,e,n)}}getChildAfterChild(e,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Va(this.viewCache_),a=P9(this.writes_,i,r,1,n,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return{filter:t}}function b9(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function L9(t,e,r,n,i){const a=new F9;let o,s;if(r.type===Mn.OVERWRITE){const u=r;u.source.fromUser?o=v1(t,e,u.path,u.snap,n,i,a):(te(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered()&&!Ne(u.path),o=Kf(t,e,u.path,u.snap,n,i,s,a))}else if(r.type===Mn.MERGE){const u=r;u.source.fromUser?o=U9(t,e,u.path,u.children,n,i,a):(te(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.serverCache.isFiltered(),o=g1(t,e,u.path,u.children,n,i,s,a))}else if(r.type===Mn.ACK_USER_WRITE){const u=r;u.revert?o=V9(t,e,u.path,n,i,a):o=H9(t,e,u.path,u.affectedTree,n,i,a)}else if(r.type===Mn.LISTEN_COMPLETE)o=W9(t,e,r.path,n,a);else throw os("Unknown operation type: "+r.type);const l=a.getChanges();return B9(e,o,l),{viewCache:o,changes:l}}function B9(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),a=h1(t);(r.length>0||!t.eventCache.isFullyInitialized()||i&&!n.getNode().equals(a)||!n.getNode().getPriority().equals(a.getPriority()))&&r.push(sE(h1(e)))}}function xE(t,e,r,n,i,a){const o=e.eventCache;if(Yf(n,r)!=null)return e;{let s,l;if(Ne(r))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Va(e),f=u instanceof we?u:we.EMPTY_NODE,c=ap(n,f);s=t.filter.updateFullNode(e.eventCache.getNode(),c,a)}else{const u=$f(n,Va(e));s=t.filter.updateFullNode(e.eventCache.getNode(),u,a)}else{const u=Ie(r);if(u===".priority"){te(ra(r)===1,"Can't have a priority with additional path components");const f=o.getNode();l=e.serverCache.getNode();const c=j2(n,r,f,l);c!=null?s=t.filter.updatePriority(f,c):s=o.getNode()}else{const f=it(r);let c;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=j2(n,r,o.getNode(),l);h!=null?c=o.getNode().getImmediateChild(u).updateChild(f,h):c=o.getNode().getImmediateChild(u)}else c=op(n,u,e.serverCache);c!=null?s=t.filter.updateChild(o.getNode(),u,c,f,i,a):s=o.getNode()}}return tl(e,s,o.isFullyInitialized()||Ne(r),t.filter.filtersNodes())}}function Kf(t,e,r,n,i,a,o,s){const l=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(Ne(r))u=f.updateFullNode(l.getNode(),n,null);else if(f.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(r,n);u=f.updateFullNode(l.getNode(),d,null)}else{const d=Ie(r);if(!l.isCompleteForPath(r)&&ra(r)>1)return e;const p=it(r),_=l.getNode().getImmediateChild(d).updateChild(p,n);d===".priority"?u=f.updatePriority(l.getNode(),_):u=f.updateChild(l.getNode(),d,_,p,gE,null)}const c=fE(e,u,l.isFullyInitialized()||Ne(r),f.filtersNodes()),h=new sp(i,c,a);return xE(t,c,r,i,h,s)}function v1(t,e,r,n,i,a,o){const s=e.eventCache;let l,u;const f=new sp(i,e,a);if(Ne(r))u=t.filter.updateFullNode(e.eventCache.getNode(),n,o),l=tl(e,u,!0,t.filter.filtersNodes());else{const c=Ie(r);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),n),l=tl(e,u,s.isFullyInitialized(),s.isFiltered());else{const h=it(r),d=s.getNode().getImmediateChild(c);let p;if(Ne(h))p=n;else{const v=f.getCompleteChild(c);v!=null?qw(h)===".priority"&&v.getChild(eE(h)).isEmpty()?p=v:p=v.updateChild(h,n):p=we.EMPTY_NODE}if(d.equals(p))l=e;else{const v=t.filter.updateChild(s.getNode(),c,p,h,f,o);l=tl(e,v,s.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function X2(t,e){return t.eventCache.isCompleteForChild(e)}function U9(t,e,r,n,i,a,o){let s=e;return n.foreach((l,u)=>{const f=Ut(r,l);X2(e,Ie(f))&&(s=v1(t,s,f,u,i,a,o))}),n.foreach((l,u)=>{const f=Ut(r,l);X2(e,Ie(f))||(s=v1(t,s,f,u,i,a,o))}),s}function $2(t,e,r){return r.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function g1(t,e,r,n,i,a,o,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ne(r)?u=n:u=new ct(null).setTree(r,n);const f=e.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(f.hasChild(c)){const d=e.serverCache.getNode().getImmediateChild(c),p=$2(t,d,h);l=Kf(t,l,new rt(c),p,i,a,o,s)}}),u.children.inorderTraversal((c,h)=>{const d=!e.serverCache.isCompleteForChild(c)&&h.value===null;if(!f.hasChild(c)&&!d){const p=e.serverCache.getNode().getImmediateChild(c),v=$2(t,p,h);l=Kf(t,l,new rt(c),v,i,a,o,s)}}),l}function H9(t,e,r,n,i,a,o){if(Yf(i,r)!=null)return e;const s=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(Ne(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return Kf(t,e,r,l.getNode().getChild(r),i,a,s,o);if(Ne(r)){let u=new ct(null);return l.getNode().forEachChild(bo,(f,c)=>{u=u.set(new rt(f),c)}),g1(t,e,r,u,i,a,s,o)}else return e}else{let u=new ct(null);return n.foreach((f,c)=>{const h=Ut(r,f);l.isCompleteForPath(h)&&(u=u.set(f,l.getNode().getChild(h)))}),g1(t,e,r,u,i,a,s,o)}}function W9(t,e,r,n,i){const a=e.serverCache,o=fE(e,a.getNode(),a.isFullyInitialized()||Ne(r),a.isFiltered());return xE(t,o,r,n,gE,i)}function V9(t,e,r,n,i,a){let o;if(Yf(n,r)!=null)return e;{const s=new sp(n,e,i),l=e.eventCache.getNode();let u;if(Ne(r)||Ie(r)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=$f(n,Va(e));else{const c=e.serverCache.getNode();te(c instanceof we,"serverChildren would be complete if leaf node"),f=ap(n,c)}f=f,u=t.filter.updateFullNode(l,f,a)}else{const f=Ie(r);let c=op(n,f,e.serverCache);c==null&&e.serverCache.isCompleteForChild(f)&&(c=l.getImmediateChild(f)),c!=null?u=t.filter.updateChild(l,f,c,it(r),s,a):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,we.EMPTY_NODE,it(r),s,a):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=$f(n,Va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,a)))}return o=e.serverCache.isFullyInitialized()||Yf(n,Ve())!=null,tl(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new ep(n.getIndex()),a=l9(n);this.processor_=M9(a);const o=r.serverCache,s=r.eventCache,l=i.updateFullNode(we.EMPTY_NODE,o.getNode(),null),u=a.updateFullNode(we.EMPTY_NODE,s.getNode(),null),f=new Wa(l,o.isFullyInitialized(),i.filtersNodes()),c=new Wa(u,s.isFullyInitialized(),a.filtersNodes());this.viewCache_=N0(c,f),this.eventGenerator_=new v9(this.query_)}get query(){return this.query_}}function z9(t){return t.viewCache_.serverCache.getNode()}function j9(t,e){const r=Va(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!Ne(e)&&!r.getImmediateChild(Ie(e)).isEmpty())?r.getChild(e):null}function Y2(t){return t.eventRegistrations_.length===0}function X9(t,e){t.eventRegistrations_.push(e)}function K2(t,e,r){const n=[];if(r){te(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(a=>{const o=a.createCancelEvent(r,i);o&&n.push(o)})}if(e){let i=[];for(let a=0;a<t.eventRegistrations_.length;++a){const o=t.eventRegistrations_[a];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return n}function Z2(t,e,r,n){e.type===Mn.MERGE&&e.source.queryId!==null&&(te(Va(t.viewCache_),"We should always have a full cache before handling merges"),te(h1(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,a=L9(t.processor_,i,e,r,n);return b9(t.processor_,a.viewCache),te(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,_E(t,a.changes,a.viewCache.eventCache.getNode(),null)}function $9(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(At,(a,o)=>{n.push(Ko(a,o))}),r.isFullyInitialized()&&n.push(sE(r.getNode())),_E(t,n,r.getNode(),e)}function _E(t,e,r,n){const i=n?[n]:t.eventRegistrations_;return g9(t.eventGenerator_,e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf;class Y9{constructor(){this.views=new Map}}function K9(t){te(!Zf,"__referenceConstructor has already been defined"),Zf=t}function Z9(){return te(Zf,"Reference.ts has not been loaded"),Zf}function Q9(t){return t.views.size===0}function lp(t,e,r,n){const i=e.source.queryId;if(i!==null){const a=t.views.get(i);return te(a!=null,"SyncTree gave us an op for an invalid query."),Z2(a,e,r,n)}else{let a=[];for(const o of t.views.values())a=a.concat(Z2(o,e,r,n));return a}}function q9(t,e,r,n,i){const a=e._queryIdentifier,o=t.views.get(a);if(!o){let s=$f(r,i?n:null),l=!1;s?l=!0:n instanceof we?(s=ap(r,n),l=!1):(s=we.EMPTY_NODE,l=!1);const u=N0(new Wa(s,l,!1),new Wa(n,i,!1));return new G9(e,u)}return o}function J9(t,e,r,n,i,a){const o=q9(t,e,n,i,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),X9(o,r),$9(o,r)}function ek(t,e,r,n){const i=e._queryIdentifier,a=[];let o=[];const s=na(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(K2(u,r,n)),Y2(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||a.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(K2(l,r,n)),Y2(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||a.push(l.query)))}return s&&!na(t)&&a.push(new(Z9())(e._repo,e._path)),{removed:a,events:o}}function mE(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Lo(t,e){let r=null;for(const n of t.views.values())r=r||j9(n,e);return r}function yE(t,e){if(e._queryParams.loadsAllData())return D0(t);{const n=e._queryIdentifier;return t.views.get(n)}}function wE(t,e){return yE(t,e)!=null}function na(t){return D0(t)!=null}function D0(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;function tk(t){te(!Qf,"__referenceConstructor has already been defined"),Qf=t}function rk(){return te(Qf,"Reference.ts has not been loaded"),Qf}let nk=1;class Q2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ct(null),this.pendingWriteTree_=R9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EE(t,e,r,n,i){return y9(t.pendingWriteTree_,e,r,n,i),i?Jl(t,new Ha(uE(),e,r)):[]}function Aa(t,e,r=!1){const n=w9(t.pendingWriteTree_,e);if(E9(t.pendingWriteTree_,e)){let a=new ct(null);return n.snap!=null?a=a.set(Ve(),!0):Yr(n.children,o=>{a=a.set(new rt(o),!0)}),Jl(t,new Xf(n.path,a,r))}else return[]}function R0(t,e,r){return Jl(t,new Ha(rp(),e,r))}function ik(t,e,r){const n=ct.fromObject(r);return Jl(t,new Ml(rp(),e,n))}function ak(t,e){return Jl(t,new kl(rp(),e))}function ok(t,e,r){const n=fp(t,r);if(n){const i=cp(n),a=i.path,o=i.queryId,s=Ur(a,e),l=new kl(np(o),s);return hp(t,a,l)}else return[]}function x1(t,e,r,n,i=!1){const a=e._path,o=t.syncPointTree_.get(a);let s=[];if(o&&(e._queryIdentifier==="default"||wE(o,e))){const l=ek(o,e,r,n);Q9(o)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const u=l.removed;if(s=l.events,!i){const f=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(a,(h,d)=>na(d));if(f&&!c){const h=t.syncPointTree_.subtree(a);if(!h.isEmpty()){const d=uk(h);for(let p=0;p<d.length;++p){const v=d[p],_=v.query,x=AE(t,v);t.listenProvider_.startListening(nl(_),qf(t,_),x.hashFn,x.onComplete)}}}!c&&u.length>0&&!n&&(f?t.listenProvider_.stopListening(nl(e),null):u.forEach(h=>{const d=t.queryToTagMap.get(P0(h));t.listenProvider_.stopListening(nl(h),d)}))}fk(t,u)}return s}function sk(t,e,r,n){const i=fp(t,n);if(i!=null){const a=cp(i),o=a.path,s=a.queryId,l=Ur(o,e),u=new Ha(np(s),l,r);return hp(t,o,u)}else return[]}function lk(t,e,r,n){const i=fp(t,n);if(i){const a=cp(i),o=a.path,s=a.queryId,l=Ur(o,e),u=ct.fromObject(r),f=new Ml(np(s),l,u);return hp(t,o,f)}else return[]}function q2(t,e,r,n=!1){const i=e._path;let a=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,d)=>{const p=Ur(h,i);a=a||Lo(d,p),o=o||na(d)});let s=t.syncPointTree_.get(i);s?(o=o||na(s),a=a||Lo(s,Ve())):(s=new Y9,t.syncPointTree_=t.syncPointTree_.set(i,s));let l;a!=null?l=!0:(l=!1,a=we.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,p)=>{const v=Lo(p,Ve());v&&(a=a.updateImmediateChild(d,v))}));const u=wE(s,e);if(!u&&!e._queryParams.loadsAllData()){const h=P0(e);te(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const d=ck();t.queryToTagMap.set(h,d),t.tagToQueryMap.set(d,h)}const f=ip(t.pendingWriteTree_,i);let c=J9(s,e,r,f,a,l);if(!u&&!o&&!n){const h=yE(s,e);c=c.concat(hk(t,e,h))}return c}function up(t,e,r){const i=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(o,s)=>{const l=Ur(o,e),u=Lo(s,l);if(u)return u});return dE(i,e,a,r,!0)}function Jl(t,e){return CE(e,t.syncPointTree_,null,ip(t.pendingWriteTree_,Ve()))}function CE(t,e,r,n){if(Ne(t.path))return SE(t,e,r,n);{const i=e.get(Ve());r==null&&i!=null&&(r=Lo(i,Ve()));let a=[];const o=Ie(t.path),s=t.operationForChild(o),l=e.children.get(o);if(l&&s){const u=r?r.getImmediateChild(o):null,f=pE(n,o);a=a.concat(CE(s,l,u,f))}return i&&(a=a.concat(lp(i,t,n,r))),a}}function SE(t,e,r,n){const i=e.get(Ve());r==null&&i!=null&&(r=Lo(i,Ve()));let a=[];return e.children.inorderTraversal((o,s)=>{const l=r?r.getImmediateChild(o):null,u=pE(n,o),f=t.operationForChild(o);f&&(a=a.concat(SE(f,s,l,u)))}),i&&(a=a.concat(lp(i,t,n,r))),a}function AE(t,e){const r=e.query,n=qf(t,r);return{hashFn:()=>(z9(e)||we.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?ok(t,r._path,n):ak(t,r._path);{const a=sF(i,r);return x1(t,r,null,a)}}}}function qf(t,e){const r=P0(e);return t.queryToTagMap.get(r)}function P0(t){return t._path.toString()+"$"+t._queryIdentifier}function fp(t,e){return t.tagToQueryMap.get(e)}function cp(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new rt(t.substr(0,e))}}function hp(t,e,r){const n=t.syncPointTree_.get(e);te(n,"Missing sync point for query tag that we're tracking");const i=ip(t.pendingWriteTree_,e);return lp(n,r,i,null)}function uk(t){return t.fold((e,r,n)=>{if(r&&na(r))return[D0(r)];{let i=[];return r&&(i=mE(r)),Yr(n,(a,o)=>{i=i.concat(o)}),i}})}function nl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(rk())(t._repo,t._path):t}function fk(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const i=P0(n),a=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(a)}}}function ck(){return nk++}function hk(t,e,r){const n=e._path,i=qf(t,e),a=AE(t,r),o=t.listenProvider_.startListening(nl(e),i,a.hashFn,a.onComplete),s=t.syncPointTree_.subtree(n);if(i)te(!na(s.value),"If we're adding a query, it shouldn't be shadowed");else{const l=s.fold((u,f,c)=>{if(!Ne(u)&&f&&na(f))return[D0(f).query];{let h=[];return f&&(h=h.concat(mE(f).map(d=>d.query))),Yr(c,(d,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const f=l[u];t.listenProvider_.stopListening(nl(f),qf(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new dp(r)}node(){return this.node_}}class pp{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=Ut(this.path_,e);return new pp(this.syncTree_,r)}node(){return up(this.syncTree_,this.path_)}}const dk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},J2=function(t,e,r){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pk(t[".sv"],e,r);if(typeof t[".sv"]=="object")return vk(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pk=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:te(!1,"Unexpected server value: "+t)}},vk=function(t,e,r){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&te(!1,"Unexpected increment value: "+n);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const o=i.getValue();return typeof o!="number"?n:o+n},gk=function(t,e,r,n){return vp(e,new pp(r,t),n)},TE=function(t,e,r){return vp(t,new dp(e),r)};function vp(t,e,r){const n=t.getPriority().val(),i=J2(n,e.getImmediateChild(".priority"),r);let a;if(t.isLeafNode()){const o=t,s=J2(o.getValue(),e,r);return s!==o.getValue()||i!==o.getPriority().val()?new zt(s,ar(i)):t}else{const o=t;return a=o,i!==o.getPriority().val()&&(a=a.updatePriority(new zt(i))),o.forEachChild(At,(s,l)=>{const u=vp(l,e.getImmediateChild(s),r);u!==l&&(a=a.updateImmediateChild(s,u))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function xp(t,e){let r=e instanceof rt?e:new rt(e),n=t,i=Ie(r);for(;i!==null;){const a=$o(n.node.children,i)||{children:{},childCount:0};n=new gp(i,n,a),r=it(r),i=Ie(r)}return n}function fs(t){return t.node.value}function IE(t,e){t.node.value=e,_1(t)}function OE(t){return t.node.childCount>0}function xk(t){return fs(t)===void 0&&!OE(t)}function F0(t,e){Yr(t.node.children,(r,n)=>{e(new gp(r,t,n))})}function NE(t,e,r,n){r&&!n&&e(t),F0(t,i=>{NE(i,e,!0,n)}),r&&n&&e(t)}function _k(t,e,r){let n=r?t:t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function eu(t){return new rt(t.parent===null?t.name:eu(t.parent)+"/"+t.name)}function _1(t){t.parent!==null&&mk(t.parent,t.name,t)}function mk(t,e,r){const n=xk(r),i=Ci(t.node.children,e);n&&i?(delete t.node.children[e],t.node.childCount--,_1(t)):!n&&!i&&(t.node.children[e]=r.node,t.node.childCount++,_1(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/[\[\].#$\/\u0000-\u001F\u007F]/,wk=/[\[\].#$\u0000-\u001F\u007F]/,Hc=10*1024*1024,DE=function(t){return typeof t=="string"&&t.length!==0&&!yk.test(t)},RE=function(t){return typeof t=="string"&&t.length!==0&&!wk.test(t)},Ek=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),RE(t)},PE=function(t,e,r,n){n&&e===void 0||_p(jd(t,"value"),e,r)},_p=function(t,e,r){const n=r instanceof rt?new HF(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+xa(n));if(typeof e=="function")throw new Error(t+"contains a function "+xa(n)+" with contents = "+e.toString());if(Rw(e))throw new Error(t+"contains "+e.toString()+" "+xa(n));if(typeof e=="string"&&e.length>Hc/3&&I0(e)>Hc)throw new Error(t+"contains a string greater than "+Hc+" utf8 bytes "+xa(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,a=!1;if(Yr(e,(o,s)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(a=!0,!DE(o)))throw new Error(t+" contains an invalid key ("+o+") "+xa(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);WF(n,o),_p(t,s,n),VF(n)}),i&&a)throw new Error(t+' contains ".value" child '+xa(n)+" in addition to actual children.")}},FE=function(t,e,r,n){if(!(n&&r===void 0)&&!RE(r))throw new Error(jd(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ck=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),FE(t,e,r,n)},mp=function(t,e){if(Ie(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Sk=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!DE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Ek(r))throw new Error(jd(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yp(t,e){let r=null;for(let n=0;n<e.length;n++){const i=e[n],a=i.getPath();r!==null&&!Qd(a,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:a}),r.events.push(i)}r&&t.eventLists_.push(r)}function kE(t,e,r){yp(t,r),ME(t,n=>Qd(n,e))}function yi(t,e,r){yp(t,r),ME(t,n=>kn(n,e)||kn(e,n))}function ME(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const i=t.eventLists_[n];if(i){const a=i.path;e(a)?(Tk(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function Tk(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();Da&&_r("event: "+r.toString()),us(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="repo_interrupt",Ok=25;class Nk{constructor(e,r,n,i){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ak,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jf(),this.transactionQueueTree_=new gp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Dk(t,e,r){if(t.stats_=Kd(t.repoInfo_),t.forceRestClient_||cF())t.server_=new zf(t.repoInfo_,(n,i,a,o)=>{ex(t,n,i,a,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tx(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Kt(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new ci(t.repoInfo_,e,(n,i,a,o)=>{ex(t,n,i,a,o)},n=>{tx(t,n)},n=>{Rk(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=gF(t.repoInfo_,()=>new p9(t.stats_,t.server_)),t.infoData_=new u9,t.infoSyncTree_=new Q2({startListening:(n,i,a,o)=>{let s=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(s=R0(t.infoSyncTree_,n._path,l),setTimeout(()=>{o("ok")},0)),s},stopListening:()=>{}}),Ep(t,"connected",!1),t.serverSyncTree_=new Q2({startListening:(n,i,a,o)=>(t.server_.listen(n,a,i,(s,l)=>{const u=o(s,l);yi(t.eventQueue_,n._path,u)}),[]),stopListening:(n,i)=>{t.server_.unlisten(n,i)}})}function bE(t){const r=t.infoData_.getNode(new rt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function wp(t){return dk({timestamp:bE(t)})}function ex(t,e,r,n,i){t.dataUpdateCount++;const a=new rt(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let o=[];if(i)if(n){const l=Bf(r,u=>ar(u));o=lk(t.serverSyncTree_,a,l,i)}else{const l=ar(r);o=sk(t.serverSyncTree_,a,l,i)}else if(n){const l=Bf(r,u=>ar(u));o=ik(t.serverSyncTree_,a,l)}else{const l=ar(r);o=R0(t.serverSyncTree_,a,l)}let s=a;o.length>0&&(s=k0(t,a)),yi(t.eventQueue_,s,o)}function tx(t,e){Ep(t,"connected",e),e===!1&&Fk(t)}function Rk(t,e){Yr(e,(r,n)=>{Ep(t,r,n)})}function Ep(t,e,r){const n=new rt("/.info/"+e),i=ar(r);t.infoData_.updateSnapshot(n,i);const a=R0(t.infoSyncTree_,n,i);yi(t.eventQueue_,n,a)}function LE(t){return t.nextWriteId_++}function Pk(t,e,r,n,i){Cp(t,"set",{path:e.toString(),value:r,priority:n});const a=wp(t),o=ar(r,n),s=up(t.serverSyncTree_,e),l=TE(o,s,a),u=LE(t),f=EE(t.serverSyncTree_,e,l,u,!0);yp(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(h,d)=>{const p=h==="ok";p||jr("set at "+e+" failed: "+h);const v=Aa(t.serverSyncTree_,u,!p);yi(t.eventQueue_,e,v),bk(t,i,h,d)});const c=VE(t,e);k0(t,c),yi(t.eventQueue_,c,[])}function Fk(t){Cp(t,"onDisconnectEvents");const e=wp(t),r=jf();c1(t.onDisconnect_,Ve(),(i,a)=>{const o=gk(i,a,t.serverSyncTree_,e);lE(r,i,o)});let n=[];c1(r,Ve(),(i,a)=>{n=n.concat(R0(t.serverSyncTree_,i,a));const o=VE(t,i);k0(t,o)}),t.onDisconnect_=jf(),yi(t.eventQueue_,Ve(),n)}function kk(t,e,r){let n;Ie(e._path)===".info"?n=q2(t.infoSyncTree_,e,r):n=q2(t.serverSyncTree_,e,r),kE(t.eventQueue_,e._path,n)}function rx(t,e,r){let n;Ie(e._path)===".info"?n=x1(t.infoSyncTree_,e,r):n=x1(t.serverSyncTree_,e,r),kE(t.eventQueue_,e._path,n)}function Mk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ik)}function Cp(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),_r(r,...e)}function bk(t,e,r,n){e&&us(()=>{if(r==="ok")e(null);else{const i=(r||"error").toUpperCase();let a=i;n&&(a+=": "+n);const o=new Error(a);o.code=i,e(o)}})}function BE(t,e,r){return up(t.serverSyncTree_,e,r)||we.EMPTY_NODE}function Sp(t,e=t.transactionQueueTree_){if(e||M0(t,e),fs(e)){const r=HE(t,e);te(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&Lk(t,eu(e),r)}else OE(e)&&F0(e,r=>{Sp(t,r)})}function Lk(t,e,r){const n=r.map(u=>u.currentWriteId),i=BE(t,e,n);let a=i;const o=i.hash();for(let u=0;u<r.length;u++){const f=r[u];te(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const c=Ur(e,f.path);a=a.updateChild(c,f.currentOutputSnapshotRaw)}const s=a.val(!0),l=e;t.server_.put(l.toString(),s,u=>{Cp(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const c=[];for(let h=0;h<r.length;h++)r[h].status=2,f=f.concat(Aa(t.serverSyncTree_,r[h].currentWriteId)),r[h].onComplete&&c.push(()=>r[h].onComplete(null,!0,r[h].currentOutputSnapshotResolved)),r[h].unwatcher();M0(t,xp(t.transactionQueueTree_,e)),Sp(t,t.transactionQueueTree_),yi(t.eventQueue_,e,f);for(let h=0;h<c.length;h++)us(c[h])}else{if(u==="datastale")for(let c=0;c<r.length;c++)r[c].status===3?r[c].status=4:r[c].status=0;else{jr("transaction at "+l.toString()+" failed: "+u);for(let c=0;c<r.length;c++)r[c].status=4,r[c].abortReason=u}k0(t,e)}},o)}function k0(t,e){const r=UE(t,e),n=eu(r),i=HE(t,r);return Bk(t,i,n),n}function Bk(t,e,r){if(e.length===0)return;const n=[];let i=[];const o=e.filter(s=>s.status===0).map(s=>s.currentWriteId);for(let s=0;s<e.length;s++){const l=e[s],u=Ur(r,l.path);let f=!1,c;if(te(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,c=l.abortReason,i=i.concat(Aa(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ok)f=!0,c="maxretry",i=i.concat(Aa(t.serverSyncTree_,l.currentWriteId,!0));else{const h=BE(t,l.path,o);l.currentInputSnapshot=h;const d=e[s].update(h.val());if(d!==void 0){_p("transaction failed: Data returned ",d,l.path);let p=ar(d);typeof d=="object"&&d!=null&&Ci(d,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,x=wp(t),g=TE(p,h,x);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=LE(t),o.splice(o.indexOf(_),1),i=i.concat(EE(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(Aa(t.serverSyncTree_,_,!0))}else f=!0,c="nodata",i=i.concat(Aa(t.serverSyncTree_,l.currentWriteId,!0))}yi(t.eventQueue_,r,i),i=[],f&&(e[s].status=2,function(h){setTimeout(h,Math.floor(0))}(e[s].unwatcher),e[s].onComplete&&(c==="nodata"?n.push(()=>e[s].onComplete(null,!1,e[s].currentInputSnapshot)):n.push(()=>e[s].onComplete(new Error(c),!1,null))))}M0(t,t.transactionQueueTree_);for(let s=0;s<n.length;s++)us(n[s]);Sp(t,t.transactionQueueTree_)}function UE(t,e){let r,n=t.transactionQueueTree_;for(r=Ie(e);r!==null&&fs(n)===void 0;)n=xp(n,r),e=it(e),r=Ie(e);return n}function HE(t,e){const r=[];return WE(t,e,r),r.sort((n,i)=>n.order-i.order),r}function WE(t,e,r){const n=fs(e);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);F0(e,i=>{WE(t,i,r)})}function M0(t,e){const r=fs(e);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,IE(e,r.length>0?r:void 0)}F0(e,n=>{M0(t,n)})}function VE(t,e){const r=eu(UE(t,e)),n=xp(t.transactionQueueTree_,e);return _k(n,i=>{Wc(t,i)}),Wc(t,n),NE(n,i=>{Wc(t,i)}),r}function Wc(t,e){const r=fs(e);if(r){const n=[];let i=[],a=-1;for(let o=0;o<r.length;o++)r[o].status===3||(r[o].status===1?(te(a===o-1,"All SENT items should be at beginning of queue."),a=o,r[o].status=3,r[o].abortReason="set"):(te(r[o].status===0,"Unexpected transaction status in abort"),r[o].unwatcher(),i=i.concat(Aa(t.serverSyncTree_,r[o].currentWriteId,!0)),r[o].onComplete&&n.push(r[o].onComplete.bind(null,new Error("set"),!1,null))));a===-1?IE(e,void 0):r.length=a+1,yi(t.eventQueue_,eu(e),i);for(let o=0;o<n.length;o++)us(n[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Hk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):jr(`Invalid query segment '${r}' in query '${t}'`)}return e}const nx=function(t,e){const r=Wk(t),n=r.namespace;r.domain==="firebase.com"&&mi(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&mi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||rF();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Gw(r.host,r.secure,n,i,e,"",n!==r.subdomain),path:new rt(r.pathString)}},Wk=function(t){let e="",r="",n="",i="",a="",o=!0,s="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(s=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(f,c)),f<c&&(i=Uk(t.substring(f,c)));const h=Hk(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=s==="https"||s==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const d=e.slice(0,u);if(d.toLowerCase()==="localhost")r="localhost";else if(d.split(".").length<=2)r=d;else{const p=e.indexOf(".");n=e.substring(0,p).toLowerCase(),r=e.substring(p+1),a=n}"ns"in h&&(a=h.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:o,scheme:s,pathString:i,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Vk=function(){let t=0;const e=[];return function(r){const n=r===t;t=r;let i;const a=new Array(8);for(i=7;i>=0;i--)a[i]=ix.charAt(r%64),r=Math.floor(r/64);te(r===0,"Cannot push at time == 0");let o=a.join("");if(n){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=ix.charAt(e[i]);return te(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,r,n,i){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Kt(this.snapshot.exportVal())}}class zE{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return te(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,r,n,i){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return Ne(this._path)?null:qw(this._path)}get ref(){return new Si(this._repo,this._path)}get _queryIdentifier(){const e=H2(this._queryParams),r=$d(e);return r==="{}"?"default":r}get _queryObject(){return H2(this._queryParams)}isEqual(e){if(e=ss(e),!(e instanceof Ap))return!1;const r=this._repo===e._repo,n=Qd(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+UF(this._path)}}class Si extends Ap{constructor(e,r){super(e,r,new tp,!1)}get parent(){const e=eE(this._path);return e===null?null:new Si(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bl{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new rt(e),n=Qo(this.ref,e);return new bl(this._node.getChild(r),n,At)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>e(new bl(i,Qo(this.ref,n),At)))}hasChild(e){const r=new rt(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vc(t,e){return t=ss(t),t._checkNotDeleted("ref"),e!==void 0?Qo(t._root,e):t._root}function Qo(t,e){return t=ss(t),Ie(t._path)===null?Ck("child","path",e,!1):FE("child","path",e,!1),new Si(t._repo,Ut(t._path,e))}function zk(t,e){t=ss(t),mp("push",t._path),PE("push",e,t._path,!0);const r=bE(t._repo),n=Vk(r),i=Qo(t,n),a=Qo(t,n);let o;return e!=null?o=jE(a,e).then(()=>a):o=Promise.resolve(a),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function jk(t){return mp("remove",t._path),jE(t,null)}function jE(t,e){t=ss(t),mp("set",t._path),PE("set",e,t._path,!1);const r=new T0;return Pk(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}class Tp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new GE("value",this,new bl(e.snapshotNode,new Si(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new zE(this,e,r):null}matches(e){return e instanceof Tp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ip{constructor(e,r){this.eventType=e,this.callbackContext=r}respondsTo(e){let r=e==="children_added"?"child_added":e;return r=r==="children_removed"?"child_removed":r,this.eventType===r}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new zE(this,e,r):null}createEvent(e,r){te(e.childName!=null,"Child events should have a childName.");const n=Qo(new Si(r._repo,r._path),e.childName),i=r._queryParams.getIndex();return new GE(e.type,this,new bl(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ip?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Xk(t,e,r,n,i){let a;if(typeof n=="object"&&(a=void 0,i=n),typeof n=="function"&&(a=n),i&&i.onlyOnce){const l=r,u=(f,c)=>{rx(t._repo,t,s),l(f,c)};u.userCallback=r.userCallback,u.context=r.context,r=u}const o=new Gk(r,a||void 0),s=e==="value"?new Tp(o):new Ip(e,o);return kk(t._repo,t,s),()=>rx(t._repo,t,s)}function $k(t,e,r,n){return Xk(t,"value",e,r,n)}K9(Si);tk(Si);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="FIREBASE_DATABASE_EMULATOR_HOST",m1={};let Kk=!1;function Zk(t,e,r,n){t.repoInfo_=new Gw(`${e}:${r}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),n&&(t.authTokenProvider_=n)}function Qk(t,e,r,n,i){let a=n||t.options.databaseURL;a===void 0&&(t.options.projectId||mi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_r("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=nx(a,i),s=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Yk]),u?(l=!0,a=`http://${u}?ns=${s.namespace}`,o=nx(a,i),s=o.repoInfo):l=!o.repoInfo.secure;const f=i&&l?new Mo(Mo.OWNER):new dF(t.name,t.options,e);Sk("Invalid Firebase Database URL",o),Ne(o.path)||mi("Database URL must point to the root of a Firebase Database (not including a child path).");const c=Jk(s,t,f,new hF(t.name,r));return new eM(c,t)}function qk(t,e){const r=m1[e];(!r||r[t.key]!==t)&&mi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Mk(t),delete r[t.key]}function Jk(t,e,r,n){let i=m1[e.name];i||(i={},m1[e.name]=i);let a=i[t.toURLString()];return a&&mi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new Nk(t,Kk,r,n),i[t.toURLString()]=a,a}class eM{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Dk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Si(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mi("Cannot call "+e+" on a deleted database.")}}function tM(t=UP(),e){const r=MP(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=A7("database");n&&rM(r,...n)}return r}function rM(t,e,r,n={}){t=ss(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&mi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let a;if(i.repoInfo_.nodeAdmin)n.mockUserToken&&mi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Mo(Mo.OWNER);else if(n.mockUserToken){const o=typeof n.mockUserToken=="string"?n.mockUserToken:T7(n.mockUserToken,t.app.options.projectId);a=new Mo(o)}Zk(i,e,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){QP(BP),Hf(new Ol("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return Qk(n,i,a,r)},"PUBLIC").setMultipleInstances(!0)),Fo(C2,S2,t),Fo(C2,S2,"esm2017")}ci.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ci.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};nM();const iM={apiKey:"AIzaSyCS0tzfWvusJpsusXm2O6UY4UWlD1mYqP8",authDomain:"jm-retouren.firebaseapp.com",projectId:"jm-retouren",storageBucket:"jm-retouren.firebasestorage.app",messagingSenderId:"978702913148",appId:"1:978702913148:web:bc3e45064dba8115dd83f9",measurementId:"G-PFL021MS3K"},aM=Aw(iM),Gc=tM(aM),oM=()=>{const[t,e]=Mr.useState(""),[r,n]=Mr.useState(""),[i,a]=Mr.useState(""),[o,s]=Mr.useState(""),[l,u]=Mr.useState("Nein"),[f,c]=Mr.useState("Nein"),[h,d]=Mr.useState([]),[p,v]=Mr.useState(!1),[_,x]=Mr.useState(null);Mr.useEffect(()=>{const C=Vc(Gc,"items");$k(C,D=>{const E=D.val();if(E){const R=Object.keys(E).map(F=>({id:F,...E[F]}));d(R)}else d([])})},[]);const g=()=>{if(t&&r&&i){const C={ean:t,lpn:r,price:parseFloat(i).toFixed(2),palettenNummer:o,defekt:l,secretPack:f},D=Vc(Gc,"items");zk(D,C),e(""),n(""),a(""),s(""),u("Nein"),c("Nein")}else alert("Bitte geben Sie eine gltige EAN, LPN und Preis ein!")},m=C=>{const D=Vc(Gc,`items/${C}`);jk(D)},y=()=>{const C=Dc.json_to_sheet(h.map(({id:E,...R})=>R)),D=Dc.book_new();Dc.book_append_sheet(D,C,"Barcodes"),n7(D,"barcodes.xlsx")};return Re.jsxs("div",{style:_t.container,children:[Re.jsx("h1",{style:_t.header,children:"Barcode Scanner App"}),Re.jsx("div",{style:_t.mainContent,children:p?Re.jsx("div",{style:_t.scannerContainer,children:Re.jsx(A8,{width:500,height:300,onUpdate:(C,D)=>{D&&(_==="ean"?e(D.text):_==="lpn"&&n(D.text),v(!1),x(null)),C&&console.error(C)}})}):Re.jsxs("div",{style:_t.formContainer,children:[Re.jsxs("div",{style:_t.inputWithButton,children:[Re.jsx("input",{type:"text",placeholder:"EAN Nummer",value:t,onChange:C=>e(C.target.value),style:_t.inputField}),Re.jsx("button",{onClick:()=>{x("ean"),v(!0)},style:_t.scanButton,children:"Scannen"})]}),Re.jsxs("div",{style:_t.inputWithButton,children:[Re.jsx("input",{type:"text",placeholder:"LPN Nummer",value:r,onChange:C=>n(C.target.value),style:_t.inputField}),Re.jsx("button",{onClick:()=>{x("lpn"),v(!0)},style:_t.scanButton,children:"Scannen"})]}),Re.jsx("input",{type:"number",placeholder:"Preis",value:i,onChange:C=>a(C.target.value),style:_t.inputField}),Re.jsx("input",{type:"text",placeholder:"Paletten Nummer",value:o,onChange:C=>s(C.target.value),style:_t.inputField}),Re.jsxs("div",{style:_t.selectContainer,children:[Re.jsx("label",{children:"Defekt:"}),Re.jsxs("select",{value:l,onChange:C=>u(C.target.value),style:_t.selectField,children:[Re.jsx("option",{value:"Nein",children:"Nein"}),Re.jsx("option",{value:"Ja",children:"Ja"})]})]}),Re.jsxs("div",{style:_t.selectContainer,children:[Re.jsx("label",{children:"SecretPack:"}),Re.jsxs("select",{value:f,onChange:C=>c(C.target.value),style:_t.selectField,children:[Re.jsx("option",{value:"Nein",children:"Nein"}),Re.jsx("option",{value:"Ja",children:"Ja"})]})]}),Re.jsx("button",{onClick:g,style:_t.button,children:"Item Hinzufgen"})]})}),Re.jsxs("div",{style:_t.itemsList,children:[Re.jsx("h2",{children:"Scanned Items"}),Re.jsx("ul",{children:h.map(C=>Re.jsxs("li",{style:_t.item,children:["EAN: ",C.ean,", LPN: ",C.lpn,", Preis: $",C.price,", Paletten Nummer: ",C.palettenNummer,", Defekt: ",C.defekt,", SecretPack: ",C.secretPack,Re.jsx("button",{onClick:()=>m(C.id),style:_t.deleteButton,children:"Lschen"})]},C.id))})]}),Re.jsx("div",{style:_t.totalPrice,children:Re.jsxs("h3",{children:["Summe der Verkaufspreise: $",h.reduce((C,D)=>C+parseFloat(D.price),0).toFixed(2)]})}),Re.jsx("button",{onClick:y,style:_t.button,children:"Export to Excel"})]})},_t={container:{padding:"20px",fontFamily:"Arial, sans-serif",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"#f9f9f9"},header:{fontSize:"2rem",color:"#333",marginBottom:"20px"},mainContent:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",maxWidth:"600px"},scannerContainer:{marginBottom:"20px",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},formContainer:{width:"100%",display:"flex",flexDirection:"column",gap:"10px"},inputWithButton:{display:"flex",alignItems:"center",gap:"10px"},inputField:{padding:"10px",fontSize:"1rem",width:"100%",borderRadius:"5px",border:"1px solid #ccc"},scanButton:{backgroundColor:"#28a745",color:"#fff",padding:"10px 20px",fontSize:"1rem",borderRadius:"5px",border:"none",cursor:"pointer"},selectContainer:{display:"flex",flexDirection:"column",marginBottom:"10px"},selectField:{padding:"10px",fontSize:"1rem",borderRadius:"5px",border:"1px solid #ccc"},button:{backgroundColor:"#007BFF",color:"#fff",padding:"10px 20px",fontSize:"1rem",borderRadius:"5px",border:"none",cursor:"pointer",marginTop:"10px"},itemsList:{marginTop:"20px",width:"100%",maxWidth:"600px"},item:{padding:"10px",borderBottom:"1px solid #ddd",fontSize:"1rem"},deleteButton:{backgroundColor:"#dc3545",color:"#fff",padding:"5px 10px",fontSize:"0.875rem",borderRadius:"5px",border:"none",cursor:"pointer",marginLeft:"10px"},totalPrice:{marginTop:"20px",fontSize:"1.5rem",fontWeight:"bold",color:"#333"}};MC.render(Re.jsx(io.StrictMode,{children:Re.jsx(oM,{})}),document.getElementById("root"));
